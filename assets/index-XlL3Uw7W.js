function lP(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function bh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wp={exports:{}},Cc={},_p={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function cP(){if(P0)return tt;P0=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function R(B,Y,ue){this.props=B,this.context=Y,this.refs=k,this.updater=ue||P}R.prototype.isReactComponent={},R.prototype.setState=function(B,Y){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Y,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=R.prototype;function O(B,Y,ue){this.props=B,this.context=Y,this.refs=k,this.updater=ue||P}var A=O.prototype=new N;A.constructor=O,C(A,R.prototype),A.isPureReactComponent=!0;var $=Array.isArray,z=Object.prototype.hasOwnProperty,H={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function M(B,Y,ue){var he,ve={},U=null,ie=null;if(Y!=null)for(he in Y.ref!==void 0&&(ie=Y.ref),Y.key!==void 0&&(U=""+Y.key),Y)z.call(Y,he)&&!F.hasOwnProperty(he)&&(ve[he]=Y[he]);var fe=arguments.length-2;if(fe===1)ve.children=ue;else if(1<fe){for(var be=Array(fe),Se=0;Se<fe;Se++)be[Se]=arguments[Se+2];ve.children=be}if(B&&B.defaultProps)for(he in fe=B.defaultProps,fe)ve[he]===void 0&&(ve[he]=fe[he]);return{$$typeof:e,type:B,key:U,ref:ie,props:ve,_owner:H.current}}function ne(B,Y){return{$$typeof:e,type:B.type,key:Y,ref:B.ref,props:B.props,_owner:B._owner}}function ee(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function ae(B){var Y={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return Y[ue]})}var ce=/\/+/g;function ye(B,Y){return typeof B=="object"&&B!==null&&B.key!=null?ae(""+B.key):Y.toString(36)}function ge(B,Y,ue,he,ve){var U=typeof B;(U==="undefined"||U==="boolean")&&(B=null);var ie=!1;if(B===null)ie=!0;else switch(U){case"string":case"number":ie=!0;break;case"object":switch(B.$$typeof){case e:case t:ie=!0}}if(ie)return ie=B,ve=ve(ie),B=he===""?"."+ye(ie,0):he,$(ve)?(ue="",B!=null&&(ue=B.replace(ce,"$&/")+"/"),ge(ve,Y,ue,"",function(Se){return Se})):ve!=null&&(ee(ve)&&(ve=ne(ve,ue+(!ve.key||ie&&ie.key===ve.key?"":(""+ve.key).replace(ce,"$&/")+"/")+B)),Y.push(ve)),1;if(ie=0,he=he===""?".":he+":",$(B))for(var fe=0;fe<B.length;fe++){U=B[fe];var be=he+ye(U,fe);ie+=ge(U,Y,ue,be,ve)}else if(be=b(B),typeof be=="function")for(B=be.call(B),fe=0;!(U=B.next()).done;)U=U.value,be=he+ye(U,fe++),ie+=ge(U,Y,ue,be,ve);else if(U==="object")throw Y=String(B),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ie}function J(B,Y,ue){if(B==null)return B;var he=[],ve=0;return ge(B,he,"","",function(U){return Y.call(ue,U,ve++)}),he}function Z(B){if(B._status===-1){var Y=B._result;Y=Y(),Y.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=Y)}if(B._status===1)return B._result.default;throw B._result}var le={current:null},D={transition:null},re={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:D,ReactCurrentOwner:H};function q(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:J,forEach:function(B,Y,ue){J(B,function(){Y.apply(this,arguments)},ue)},count:function(B){var Y=0;return J(B,function(){Y++}),Y},toArray:function(B){return J(B,function(Y){return Y})||[]},only:function(B){if(!ee(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},tt.Component=R,tt.Fragment=n,tt.Profiler=a,tt.PureComponent=O,tt.StrictMode=r,tt.Suspense=f,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,tt.act=q,tt.cloneElement=function(B,Y,ue){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var he=C({},B.props),ve=B.key,U=B.ref,ie=B._owner;if(Y!=null){if(Y.ref!==void 0&&(U=Y.ref,ie=H.current),Y.key!==void 0&&(ve=""+Y.key),B.type&&B.type.defaultProps)var fe=B.type.defaultProps;for(be in Y)z.call(Y,be)&&!F.hasOwnProperty(be)&&(he[be]=Y[be]===void 0&&fe!==void 0?fe[be]:Y[be])}var be=arguments.length-2;if(be===1)he.children=ue;else if(1<be){fe=Array(be);for(var Se=0;Se<be;Se++)fe[Se]=arguments[Se+2];he.children=fe}return{$$typeof:e,type:B.type,key:ve,ref:U,props:he,_owner:ie}},tt.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:l,_context:B},B.Consumer=B},tt.createElement=M,tt.createFactory=function(B){var Y=M.bind(null,B);return Y.type=B,Y},tt.createRef=function(){return{current:null}},tt.forwardRef=function(B){return{$$typeof:h,render:B}},tt.isValidElement=ee,tt.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:Z}},tt.memo=function(B,Y){return{$$typeof:m,type:B,compare:Y===void 0?null:Y}},tt.startTransition=function(B){var Y=D.transition;D.transition={};try{B()}finally{D.transition=Y}},tt.unstable_act=q,tt.useCallback=function(B,Y){return le.current.useCallback(B,Y)},tt.useContext=function(B){return le.current.useContext(B)},tt.useDebugValue=function(){},tt.useDeferredValue=function(B){return le.current.useDeferredValue(B)},tt.useEffect=function(B,Y){return le.current.useEffect(B,Y)},tt.useId=function(){return le.current.useId()},tt.useImperativeHandle=function(B,Y,ue){return le.current.useImperativeHandle(B,Y,ue)},tt.useInsertionEffect=function(B,Y){return le.current.useInsertionEffect(B,Y)},tt.useLayoutEffect=function(B,Y){return le.current.useLayoutEffect(B,Y)},tt.useMemo=function(B,Y){return le.current.useMemo(B,Y)},tt.useReducer=function(B,Y,ue){return le.current.useReducer(B,Y,ue)},tt.useRef=function(B){return le.current.useRef(B)},tt.useState=function(B){return le.current.useState(B)},tt.useSyncExternalStore=function(B,Y,ue){return le.current.useSyncExternalStore(B,Y,ue)},tt.useTransition=function(){return le.current.useTransition()},tt.version="18.3.1",tt}var T0;function Eg(){return T0||(T0=1,_p.exports=cP()),_p.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function uP(){if(C0)return Cc;C0=1;var e=Eg(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var y,w={},b=null,P=null;m!==void 0&&(b=""+m),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(P=f.ref);for(y in f)r.call(f,y)&&!l.hasOwnProperty(y)&&(w[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)w[y]===void 0&&(w[y]=f[y]);return{$$typeof:t,type:h,key:b,ref:P,props:w,_owner:a.current}}return Cc.Fragment=n,Cc.jsx=c,Cc.jsxs=c,Cc}var R0;function dP(){return R0||(R0=1,wp.exports=uP()),wp.exports}var v=dP(),E=Eg();const _e=bh(E),hP=lP({__proto__:null,default:_e},[E]);var Cd={},xp={exports:{}},Vn={},bp={exports:{}},Sp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function fP(){return N0||(N0=1,(function(e){function t(D,re){var q=D.length;D.push(re);e:for(;0<q;){var B=q-1>>>1,Y=D[B];if(0<a(Y,re))D[B]=re,D[q]=Y,q=B;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var re=D[0],q=D.pop();if(q!==re){D[0]=q;e:for(var B=0,Y=D.length,ue=Y>>>1;B<ue;){var he=2*(B+1)-1,ve=D[he],U=he+1,ie=D[U];if(0>a(ve,q))U<Y&&0>a(ie,ve)?(D[B]=ie,D[U]=q,B=U):(D[B]=ve,D[he]=q,B=he);else if(U<Y&&0>a(ie,q))D[B]=ie,D[U]=q,B=U;else break e}}return re}function a(D,re){var q=D.sortIndex-re.sortIndex;return q!==0?q:D.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,w=null,b=3,P=!1,C=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(D){for(var re=n(m);re!==null;){if(re.callback===null)r(m);else if(re.startTime<=D)r(m),re.sortIndex=re.expirationTime,t(f,re);else break;re=n(m)}}function $(D){if(k=!1,A(D),!C)if(n(f)!==null)C=!0,Z(z);else{var re=n(m);re!==null&&le($,re.startTime-D)}}function z(D,re){C=!1,k&&(k=!1,N(M),M=-1),P=!0;var q=b;try{for(A(re),w=n(f);w!==null&&(!(w.expirationTime>re)||D&&!ae());){var B=w.callback;if(typeof B=="function"){w.callback=null,b=w.priorityLevel;var Y=B(w.expirationTime<=re);re=e.unstable_now(),typeof Y=="function"?w.callback=Y:w===n(f)&&r(f),A(re)}else r(f);w=n(f)}if(w!==null)var ue=!0;else{var he=n(m);he!==null&&le($,he.startTime-re),ue=!1}return ue}finally{w=null,b=q,P=!1}}var H=!1,F=null,M=-1,ne=5,ee=-1;function ae(){return!(e.unstable_now()-ee<ne)}function ce(){if(F!==null){var D=e.unstable_now();ee=D;var re=!0;try{re=F(!0,D)}finally{re?ye():(H=!1,F=null)}}else H=!1}var ye;if(typeof O=="function")ye=function(){O(ce)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,J=ge.port2;ge.port1.onmessage=ce,ye=function(){J.postMessage(null)}}else ye=function(){R(ce,0)};function Z(D){F=D,H||(H=!0,ye())}function le(D,re){M=R(function(){D(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){C||P||(C=!0,Z(z))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(D){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var q=b;b=re;try{return D()}finally{b=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,re){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=b;b=D;try{return re()}finally{b=q}},e.unstable_scheduleCallback=function(D,re,q){var B=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?B+q:B):q=B,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,D={id:y++,callback:re,priorityLevel:D,startTime:q,expirationTime:Y,sortIndex:-1},q>B?(D.sortIndex=q,t(m,D),n(f)===null&&D===n(m)&&(k?(N(M),M=-1):k=!0,le($,q-B))):(D.sortIndex=Y,t(f,D),C||P||(C=!0,Z(z))),D},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(D){var re=b;return function(){var q=b;b=re;try{return D.apply(this,arguments)}finally{b=q}}}})(Sp)),Sp}var A0;function pP(){return A0||(A0=1,bp.exports=fP()),bp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function mP(){if(j0)return Vn;j0=1;var e=Eg(),t=pP();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function l(i,o){c(i,o),c(i+"Capture",o)}function c(i,o){for(a[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function b(i){return f.call(w,i)?!0:f.call(y,i)?!1:m.test(i)?w[i]=!0:(y[i]=!0,!1)}function P(i,o,d,g){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,d,g){if(o===null||typeof o>"u"||P(i,o,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(i,o,d,g,x,S,j){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=i,this.type=o,this.sanitizeURL=S,this.removeEmptyString=j}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){R[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];R[o]=new k(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){R[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){R[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){R[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){R[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){R[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){R[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){R[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function O(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(N,O);R[o]=new k(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(N,O);R[o]=new k(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(N,O);R[o]=new k(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){R[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),R.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){R[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function A(i,o,d,g){var x=R.hasOwnProperty(o)?R[o]:null;(x!==null?x.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,d,x,g)&&(d=null),g||x===null?b(o)&&(d===null?i.removeAttribute(o):i.setAttribute(o,""+d)):x.mustUseProperty?i[x.propertyName]=d===null?x.type===3?!1:"":d:(o=x.attributeName,g=x.attributeNamespace,d===null?i.removeAttribute(o):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,g?i.setAttributeNS(g,o,d):i.setAttribute(o,d))))}var $=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),H=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),ae=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),D=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var q=Object.assign,B;function Y(i){if(B===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var ue=!1;function he(i,o){if(!i||ue)return"";ue=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(oe){var g=oe}Reflect.construct(i,[],o)}else{try{o.call()}catch(oe){g=oe}i.call(o.prototype)}else{try{throw Error()}catch(oe){g=oe}i()}}catch(oe){if(oe&&g&&typeof oe.stack=="string"){for(var x=oe.stack.split(`
`),S=g.stack.split(`
`),j=x.length-1,V=S.length-1;1<=j&&0<=V&&x[j]!==S[V];)V--;for(;1<=j&&0<=V;j--,V--)if(x[j]!==S[V]){if(j!==1||V!==1)do if(j--,V--,0>V||x[j]!==S[V]){var K=`
`+x[j].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=j&&0<=V);break}}}finally{ue=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?Y(i):""}function ve(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=he(i.type,!1),i;case 11:return i=he(i.type.render,!1),i;case 1:return i=he(i.type,!0),i;default:return""}}function U(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case F:return"Fragment";case H:return"Portal";case ne:return"Profiler";case M:return"StrictMode";case ye:return"Suspense";case ge:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ae:return(i.displayName||"Context")+".Consumer";case ee:return(i._context.displayName||"Context")+".Provider";case ce:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case J:return o=i.displayName||null,o!==null?o:U(i.type)||"Memo";case Z:o=i._payload,i=i._init;try{return U(i(o))}catch{}}return null}function ie(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(o);case 8:return o===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function fe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function be(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Se(i){var o=be(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),g=""+i[o];if(!i.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,S=d.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return x.call(this)},set:function(j){g=""+j,S.call(this,j)}}),Object.defineProperty(i,o,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(j){g=""+j},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Oe(i){i._valueTracker||(i._valueTracker=Se(i))}function Te(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),g="";return i&&(g=be(i)?i.checked?"true":"false":i.value),i=g,i!==d?(o.setValue(i),!0):!1}function it(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function at(i,o){var d=o.checked;return q({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function qe(i,o){var d=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;d=fe(o.value!=null?o.value:d),i._wrapperState={initialChecked:g,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Et(i,o){o=o.checked,o!=null&&A(i,"checked",o,!1)}function dt(i,o){Et(i,o);var d=fe(o.value),g=o.type;if(d!=null)g==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?st(i,o.type,d):o.hasOwnProperty("defaultValue")&&st(i,o.type,fe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function zt(i,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,d||o===i.value||(i.value=o),i.defaultValue=o}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function st(i,o,d){(o!=="number"||it(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var Bt=Array.isArray;function gn(i,o,d,g){if(i=i.options,o){o={};for(var x=0;x<d.length;x++)o["$"+d[x]]=!0;for(d=0;d<i.length;d++)x=o.hasOwnProperty("$"+i[d].value),i[d].selected!==x&&(i[d].selected=x),x&&g&&(i[d].defaultSelected=!0)}else{for(d=""+fe(d),o=null,x=0;x<i.length;x++){if(i[x].value===d){i[x].selected=!0,g&&(i[x].defaultSelected=!0);return}o!==null||i[x].disabled||(o=i[x])}o!==null&&(o.selected=!0)}}function vt(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function dr(i,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(n(92));if(Bt(d)){if(1<d.length)throw Error(n(93));d=d[0]}o=d}o==null&&(o=""),d=o}i._wrapperState={initialValue:fe(d)}}function ta(i,o){var d=fe(o.value),g=fe(o.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),o.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),g!=null&&(i.defaultValue=""+g)}function na(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Cr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ss(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Cr(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ii,os=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,g,x){MSApp.execUnsafeLocalFunction(function(){return i(o,d,g,x)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(ii=ii||document.createElement("div"),ii.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ii.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Pn(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var Rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},si=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(i){si.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Rr[o]=Rr[i]})});function io(i,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||Rr.hasOwnProperty(i)&&Rr[i]?(""+o).trim():o+"px"}function as(i,o){i=i.style;for(var d in o)if(o.hasOwnProperty(d)){var g=d.indexOf("--")===0,x=io(d,o[d],g);d==="float"&&(d="cssFloat"),g?i.setProperty(d,x):i[d]=x}}var so=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ls(i,o){if(o){if(so[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Nr(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ri=null;function In(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cs=null,Ar=null,hr=null;function oo(i){if(i=Ui(i)){if(typeof cs!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Ca(o),cs(i.stateNode,i.type,o))}}function Ge(i){Ar?hr?hr.push(i):hr=[i]:Ar=i}function Pt(){if(Ar){var i=Ar,o=hr;if(hr=Ar=null,oo(i),o)for(i=0;i<o.length;i++)oo(o[i])}}function Ft(i,o){return i(o)}function rn(){}var oi=!1;function _t(i,o,d){if(oi)return i(o,d);oi=!0;try{return Ft(i,o,d)}finally{oi=!1,(Ar!==null||hr!==null)&&(rn(),Pt())}}function $t(i,o){var d=i.stateNode;if(d===null)return null;var g=Ca(d);if(g===null)return null;d=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var ai=!1;if(h)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){ai=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch{ai=!1}function Tn(i,o,d,g,x,S,j,V,K){var oe=Array.prototype.slice.call(arguments,3);try{o.apply(d,oe)}catch(me){this.onError(me)}}var Zt=!1,Pe=null,us=!1,ra=null,mu={onError:function(i){Zt=!0,Pe=i}};function gu(i,o,d,g,x,S,j,V,K){Zt=!1,Pe=null,Tn.apply(mu,arguments)}function Bl(i,o,d,g,x,S,j,V,K){if(gu.apply(this,arguments),Zt){if(Zt){var oe=Pe;Zt=!1,Pe=null}else throw Error(n(198));us||(us=!0,ra=oe)}}function li(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function Ni(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Fl(i){if(li(i)!==i)throw Error(n(188))}function Yh(i){var o=i.alternate;if(!o){if(o=li(i),o===null)throw Error(n(188));return o!==i?null:i}for(var d=i,g=o;;){var x=d.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===d)return Fl(x),i;if(S===g)return Fl(x),o;S=S.sibling}throw Error(n(188))}if(d.return!==g.return)d=x,g=S;else{for(var j=!1,V=x.child;V;){if(V===d){j=!0,d=x,g=S;break}if(V===g){j=!0,g=x,d=S;break}V=V.sibling}if(!j){for(V=S.child;V;){if(V===d){j=!0,d=S,g=x;break}if(V===g){j=!0,g=S,d=x;break}V=V.sibling}if(!j)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:o}function vu(i){return i=Yh(i),i!==null?yu(i):null}function yu(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=yu(i);if(o!==null)return o;i=i.sibling}return null}var wu=t.unstable_scheduleCallback,Ul=t.unstable_cancelCallback,Jh=t.unstable_shouldYield,ia=t.unstable_requestPaint,Tt=t.unstable_now,Xh=t.unstable_getCurrentPriorityLevel,$l=t.unstable_ImmediatePriority,_u=t.unstable_UserBlockingPriority,sa=t.unstable_NormalPriority,Vl=t.unstable_LowPriority,ds=t.unstable_IdlePriority,ao=null,Kn=null;function lo(i){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(ao,i,void 0,(i.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:hs,yt=Math.log,oa=Math.LN2;function hs(i){return i>>>=0,i===0?32:31-(yt(i)/oa|0)|0}var jr=64,fs=4194304;function Ke(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function pt(i,o){var d=i.pendingLanes;if(d===0)return 0;var g=0,x=i.suspendedLanes,S=i.pingedLanes,j=d&268435455;if(j!==0){var V=j&~x;V!==0?g=Ke(V):(S&=j,S!==0&&(g=Ke(S)))}else j=d&~x,j!==0?g=Ke(j):S!==0&&(g=Ke(S));if(g===0)return 0;if(o!==0&&o!==g&&(o&x)===0&&(x=g&-g,S=o&-o,x>=S||x===16&&(S&4194240)!==0))return o;if((g&4)!==0&&(g|=d&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=g;0<o;)d=31-Ze(o),x=1<<d,g|=i[d],o&=~x;return g}function Wl(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aa(i,o){for(var d=i.suspendedLanes,g=i.pingedLanes,x=i.expirationTimes,S=i.pendingLanes;0<S;){var j=31-Ze(S),V=1<<j,K=x[j];K===-1?((V&d)===0||(V&g)!==0)&&(x[j]=Wl(V,o)):K<=o&&(i.expiredLanes|=V),S&=~V}}function vn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function xu(){var i=jr;return jr<<=1,(jr&4194240)===0&&(jr=64),i}function ps(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function Gn(i,o,d){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Ze(o),i[o]=d}function Ot(i,o){var d=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<d;){var x=31-Ze(d),S=1<<x;o[x]=0,g[x]=-1,i[x]=-1,d&=~S}}function Lr(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var g=31-Ze(d),x=1<<g;x&o|i[g]&o&&(i[g]|=o),d&=~x}}var rt=0;function ms(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var la,Ai,ca,ua,co,uo=!1,gs=[],Zn=null,Or=null,fr=null,ho=new Map,Ve=new Map,qt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hl(i,o){switch(i){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":ho.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ve.delete(o.pointerId)}}function ji(i,o,d,g,x,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},o!==null&&(o=Ui(o),o!==null&&Ai(o)),i):(i.eventSystemFlags|=g,o=i.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),i)}function Kl(i,o,d,g,x){switch(o){case"focusin":return Zn=ji(Zn,i,o,d,g,x),!0;case"dragenter":return Or=ji(Or,i,o,d,g,x),!0;case"mouseover":return fr=ji(fr,i,o,d,g,x),!0;case"pointerover":var S=x.pointerId;return ho.set(S,ji(ho.get(S)||null,i,o,d,g,x)),!0;case"gotpointercapture":return S=x.pointerId,Ve.set(S,ji(Ve.get(S)||null,i,o,d,g,x)),!0}return!1}function da(i){var o=Fi(i.target);if(o!==null){var d=li(o);if(d!==null){if(o=d.tag,o===13){if(o=Ni(d),o!==null){i.blockedOn=o,co(i.priority,function(){ca(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function pr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=pa(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var g=new d.constructor(d.type,d);Ri=g,d.target.dispatchEvent(g),Ri=null}else return o=Ui(d),o!==null&&Ai(o),i.blockedOn=d,!1;o.shift()}return!0}function ha(i,o,d){pr(i)&&d.delete(o)}function fo(){uo=!1,Zn!==null&&pr(Zn)&&(Zn=null),Or!==null&&pr(Or)&&(Or=null),fr!==null&&pr(fr)&&(fr=null),ho.forEach(ha),Ve.forEach(ha)}function Ct(i,o){i.blockedOn===o&&(i.blockedOn=null,uo||(uo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fo)))}function qn(i){function o(x){return Ct(x,i)}if(0<gs.length){Ct(gs[0],i);for(var d=1;d<gs.length;d++){var g=gs[d];g.blockedOn===i&&(g.blockedOn=null)}}for(Zn!==null&&Ct(Zn,i),Or!==null&&Ct(Or,i),fr!==null&&Ct(fr,i),ho.forEach(o),Ve.forEach(o),d=0;d<qt.length;d++)g=qt[d],g.blockedOn===i&&(g.blockedOn=null);for(;0<qt.length&&(d=qt[0],d.blockedOn===null);)da(d),d.blockedOn===null&&qt.shift()}var Li=$.ReactCurrentBatchConfig,po=!0;function Qh(i,o,d,g){var x=rt,S=Li.transition;Li.transition=null;try{rt=1,mo(i,o,d,g)}finally{rt=x,Li.transition=S}}function bu(i,o,d,g){var x=rt,S=Li.transition;Li.transition=null;try{rt=4,mo(i,o,d,g)}finally{rt=x,Li.transition=S}}function mo(i,o,d,g){if(po){var x=pa(i,o,d,g);if(x===null)s(i,o,g,fa,d),Hl(i,g);else if(Kl(x,i,o,d,g))g.stopPropagation();else if(Hl(i,g),o&4&&-1<ht.indexOf(i)){for(;x!==null;){var S=Ui(x);if(S!==null&&la(S),S=pa(i,o,d,g),S===null&&s(i,o,g,fa,d),S===x)break;x=S}x!==null&&g.stopPropagation()}else s(i,o,g,null,d)}}var fa=null;function pa(i,o,d,g){if(fa=null,i=In(g),i=Fi(i),i!==null)if(o=li(i),o===null)i=null;else if(d=o.tag,d===13){if(i=Ni(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return fa=i,null}function nt(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xh()){case $l:return 1;case _u:return 4;case sa:case Vl:return 16;case ds:return 536870912;default:return 16}default:return 16}}var ci=null,Cn=null,ui=null;function Gl(){if(ui)return ui;var i,o=Cn,d=o.length,g,x="value"in ci?ci.value:ci.textContent,S=x.length;for(i=0;i<d&&o[i]===x[i];i++);var j=d-i;for(g=1;g<=j&&o[d-g]===x[S-g];g++);return ui=x.slice(i,1<g?1-g:void 0)}function ma(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function vs(){return!0}function Su(){return!1}function yn(i){function o(d,g,x,S,j){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=j,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(d=i[V],this[V]=d?d(S):S[V]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?vs:Su,this.isPropagationStopped=Su,this}return q(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),o}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=yn(ys),Oi=q({},ys,{view:0,detail:0}),ef=yn(Oi),Mn,ql,ws,Yn=q({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ws&&(ws&&i.type==="mousemove"?(Mn=i.screenX-ws.screenX,ql=i.screenY-ws.screenY):ql=Mn=0,ws=i),Mn)},movementY:function(i){return"movementY"in i?i.movementY:ql}}),Yl=yn(Yn),ku=q({},Yn,{dataTransfer:0}),Jl=yn(ku),tf=q({},Oi,{relatedTarget:0}),ga=yn(tf),Eu=q({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),nf=yn(Eu),rf=q({},ys,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xl=yn(rf),sf=q({},ys,{data:0}),Ql=yn(sf),Pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},va={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ii={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function of(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Ii[i])?!!o[i]:!1}function Mi(){return of}var Dn=q({},Oi,{key:function(i){if(i.key){var o=Pu[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ma(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?va[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(i){return i.type==="keypress"?ma(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ma(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Tu=yn(Dn),Cu=q({},Yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=yn(Cu),ec=q({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),tc=yn(ec),af=q({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),lf=yn(af),Nu=q({},Yn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),cf=yn(Nu),Jn=[9,13,27,32],di=h&&"CompositionEvent"in window,go=null;h&&"documentMode"in document&&(go=document.documentMode);var Ir=h&&"TextEvent"in window&&!go,Au=h&&(!di||go&&8<go&&11>=go),Di=" ",ju=!1;function _s(i,o){switch(i){case"keyup":return Jn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Mr=!1;function uf(i,o){switch(i){case"compositionend":return nc(o);case"keypress":return o.which!==32?null:(ju=!0,Di);case"textInput":return i=o.data,i===Di&&ju?null:i;default:return null}}function hi(i,o){if(Mr)return i==="compositionend"||!di&&_s(i,o)?(i=Gl(),ui=Cn=ci=null,Mr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Au&&o.locale!=="ko"?null:o.data;default:return null}}var ya={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lu(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!ya[i.type]:o==="textarea"}function wa(i,o,d,g){Ge(g),o=p(o,"onChange"),0<o.length&&(d=new Zl("onChange","change",null,d,g),i.push({event:d,listeners:o}))}var vo=null,Rn=null;function df(i){dc(i,0)}function Dr(i){var o=$i(i);if(Te(o))return i}function hf(i,o){if(i==="change")return o}var mr=!1;if(h){var xs;if(h){var _a="oninput"in document;if(!_a){var xa=document.createElement("div");xa.setAttribute("oninput","return;"),_a=typeof xa.oninput=="function"}xs=_a}else xs=!1;mr=xs&&(!document.documentMode||9<document.documentMode)}function yo(){vo&&(vo.detachEvent("onpropertychange",ba),Rn=vo=null)}function ba(i){if(i.propertyName==="value"&&Dr(Rn)){var o=[];wa(o,Rn,i,In(i)),_t(df,o)}}function Sa(i,o,d){i==="focusin"?(yo(),vo=o,Rn=d,vo.attachEvent("onpropertychange",ba)):i==="focusout"&&yo()}function bs(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Dr(Rn)}function ka(i,o){if(i==="click")return Dr(o)}function rc(i,o){if(i==="input"||i==="change")return Dr(o)}function Ou(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Xn=typeof Object.is=="function"?Object.is:Ou;function fi(i,o){if(Xn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),g=Object.keys(o);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!f.call(o,x)||!Xn(i[x],o[x]))return!1}return!0}function Iu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ic(i,o){var d=Iu(i);i=0;for(var g;d;){if(d.nodeType===3){if(g=i+d.textContent.length,i<=o&&g>=o)return{node:d,offset:o-i};i=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Iu(d)}}function Mu(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Mu(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function sc(){for(var i=window,o=it();o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=it(i.document)}return o}function oc(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function gr(i){var o=sc(),d=i.focusedElem,g=i.selectionRange;if(o!==d&&d&&d.ownerDocument&&Mu(d.ownerDocument.documentElement,d)){if(g!==null&&oc(d)){if(o=g.start,i=g.end,i===void 0&&(i=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(i,d.value.length);else if(i=(o=d.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var x=d.textContent.length,S=Math.min(g.start,x);g=g.end===void 0?S:Math.min(g.end,x),!i.extend&&S>g&&(x=g,g=S,S=x),x=ic(d,S);var j=ic(d,g);x&&j&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==j.node||i.focusOffset!==j.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),i.removeAllRanges(),S>g?(i.addRange(o),i.extend(j.node,j.offset)):(o.setEnd(j.node,j.offset),i.addRange(o)))}}for(o=[],i=d;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)i=o[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ea=h&&"documentMode"in document&&11>=document.documentMode,Ss=null,ks=null,wo=null,Pa=!1;function Du(i,o,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Pa||Ss==null||Ss!==it(g)||(g=Ss,"selectionStart"in g&&oc(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),wo&&fi(wo,g)||(wo=g,g=p(ks,"onSelect"),0<g.length&&(o=new Zl("onSelect","select",null,o,d),i.push({event:o,listeners:g}),o.target=Ss)))}function pi(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var Es={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionend:pi("Transition","TransitionEnd")},mi={},ac={};h&&(ac=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function _o(i){if(mi[i])return mi[i];if(!Es[i])return i;var o=Es[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in ac)return mi[i]=o[d];return i}var zu=_o("animationend"),vr=_o("animationiteration"),lc=_o("animationstart"),cc=_o("transitionend"),Ps=new Map,Bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(i,o){Ps.set(i,o),l(o,[i])}for(var zi=0;zi<Bu.length;zi++){var Ta=Bu[zi],Fu=Ta.toLowerCase(),ff=Ta[0].toUpperCase()+Ta.slice(1);Qn(Fu,"on"+ff)}Qn(zu,"onAnimationEnd"),Qn(vr,"onAnimationIteration"),Qn(lc,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(cc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function uc(i,o,d){var g=i.type||"unknown-event";i.currentTarget=d,Bl(g,o,void 0,i),i.currentTarget=null}function dc(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var g=i[d],x=g.event;g=g.listeners;e:{var S=void 0;if(o)for(var j=g.length-1;0<=j;j--){var V=g[j],K=V.instance,oe=V.currentTarget;if(V=V.listener,K!==S&&x.isPropagationStopped())break e;uc(x,V,oe),S=K}else for(j=0;j<g.length;j++){if(V=g[j],K=V.instance,oe=V.currentTarget,V=V.listener,K!==S&&x.isPropagationStopped())break e;uc(x,V,oe),S=K}}}if(us)throw i=ra,us=!1,ra=null,i}function ft(i,o){var d=o[As];d===void 0&&(d=o[As]=new Set);var g=i+"__bubble";d.has(g)||($u(o,i,2,!1),d.add(g))}function hc(i,o,d){var g=0;o&&(g|=4),$u(d,i,g,o)}var xo="_reactListening"+Math.random().toString(36).slice(2);function Cs(i){if(!i[xo]){i[xo]=!0,r.forEach(function(d){d!=="selectionchange"&&(Uu.has(d)||hc(d,!1,i),hc(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[xo]||(o[xo]=!0,hc("selectionchange",!1,o))}}function $u(i,o,d,g){switch(nt(o)){case 1:var x=Qh;break;case 4:x=bu;break;default:x=mo}d=x.bind(null,o,d,i),x=void 0,!ai||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),g?x!==void 0?i.addEventListener(o,d,{capture:!0,passive:x}):i.addEventListener(o,d,!0):x!==void 0?i.addEventListener(o,d,{passive:x}):i.addEventListener(o,d,!1)}function s(i,o,d,g,x){var S=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var j=g.tag;if(j===3||j===4){var V=g.stateNode.containerInfo;if(V===x||V.nodeType===8&&V.parentNode===x)break;if(j===4)for(j=g.return;j!==null;){var K=j.tag;if((K===3||K===4)&&(K=j.stateNode.containerInfo,K===x||K.nodeType===8&&K.parentNode===x))return;j=j.return}for(;V!==null;){if(j=Fi(V),j===null)return;if(K=j.tag,K===5||K===6){g=S=j;continue e}V=V.parentNode}}g=g.return}_t(function(){var oe=S,me=In(d),we=[];e:{var pe=Ps.get(i);if(pe!==void 0){var Ee=Zl,Ne=i;switch(i){case"keypress":if(ma(d)===0)break e;case"keydown":case"keyup":Ee=Tu;break;case"focusin":Ne="focus",Ee=ga;break;case"focusout":Ne="blur",Ee=ga;break;case"beforeblur":case"afterblur":Ee=ga;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=tc;break;case zu:case vr:case lc:Ee=nf;break;case cc:Ee=lf;break;case"scroll":Ee=ef;break;case"wheel":Ee=cf;break;case"copy":case"cut":case"paste":Ee=Xl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=Ru}var Le=(o&4)!==0,Ut=!Le&&i==="scroll",Q=Le?pe!==null?pe+"Capture":null:pe;Le=[];for(var G=oe,te;G!==null;){te=G;var xe=te.stateNode;if(te.tag===5&&xe!==null&&(te=xe,Q!==null&&(xe=$t(G,Q),xe!=null&&Le.push(u(G,xe,te)))),Ut)break;G=G.return}0<Le.length&&(pe=new Ee(pe,Ne,null,d,me),we.push({event:pe,listeners:Le}))}}if((o&7)===0){e:{if(pe=i==="mouseover"||i==="pointerover",Ee=i==="mouseout"||i==="pointerout",pe&&d!==Ri&&(Ne=d.relatedTarget||d.fromElement)&&(Fi(Ne)||Ne[ct]))break e;if((Ee||pe)&&(pe=me.window===me?me:(pe=me.ownerDocument)?pe.defaultView||pe.parentWindow:window,Ee?(Ne=d.relatedTarget||d.toElement,Ee=oe,Ne=Ne?Fi(Ne):null,Ne!==null&&(Ut=li(Ne),Ne!==Ut||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Ee=null,Ne=oe),Ee!==Ne)){if(Le=Yl,xe="onMouseLeave",Q="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Le=Ru,xe="onPointerLeave",Q="onPointerEnter",G="pointer"),Ut=Ee==null?pe:$i(Ee),te=Ne==null?pe:$i(Ne),pe=new Le(xe,G+"leave",Ee,d,me),pe.target=Ut,pe.relatedTarget=te,xe=null,Fi(me)===oe&&(Le=new Le(Q,G+"enter",Ne,d,me),Le.target=te,Le.relatedTarget=Ut,xe=Le),Ut=xe,Ee&&Ne)t:{for(Le=Ee,Q=Ne,G=0,te=Le;te;te=_(te))G++;for(te=0,xe=Q;xe;xe=_(xe))te++;for(;0<G-te;)Le=_(Le),G--;for(;0<te-G;)Q=_(Q),te--;for(;G--;){if(Le===Q||Q!==null&&Le===Q.alternate)break t;Le=_(Le),Q=_(Q)}Le=null}else Le=null;Ee!==null&&T(we,pe,Ee,Le,!1),Ne!==null&&Ut!==null&&T(we,Ut,Ne,Le,!0)}}e:{if(pe=oe?$i(oe):window,Ee=pe.nodeName&&pe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&pe.type==="file")var Ie=hf;else if(Lu(pe))if(mr)Ie=rc;else{Ie=bs;var ze=Sa}else(Ee=pe.nodeName)&&Ee.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Ie=ka);if(Ie&&(Ie=Ie(i,oe))){wa(we,Ie,d,me);break e}ze&&ze(i,pe,oe),i==="focusout"&&(ze=pe._wrapperState)&&ze.controlled&&pe.type==="number"&&st(pe,"number",pe.value)}switch(ze=oe?$i(oe):window,i){case"focusin":(Lu(ze)||ze.contentEditable==="true")&&(Ss=ze,ks=oe,wo=null);break;case"focusout":wo=ks=Ss=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Du(we,d,me);break;case"selectionchange":if(Ea)break;case"keydown":case"keyup":Du(we,d,me)}var Be;if(di)e:{switch(i){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Mr?_s(i,d)&&(He="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(He="onCompositionStart");He&&(Au&&d.locale!=="ko"&&(Mr||He!=="onCompositionStart"?He==="onCompositionEnd"&&Mr&&(Be=Gl()):(ci=me,Cn="value"in ci?ci.value:ci.textContent,Mr=!0)),ze=p(oe,He),0<ze.length&&(He=new Ql(He,i,null,d,me),we.push({event:He,listeners:ze}),Be?He.data=Be:(Be=nc(d),Be!==null&&(He.data=Be)))),(Be=Ir?uf(i,d):hi(i,d))&&(oe=p(oe,"onBeforeInput"),0<oe.length&&(me=new Ql("onBeforeInput","beforeinput",null,d,me),we.push({event:me,listeners:oe}),me.data=Be))}dc(we,o)})}function u(i,o,d){return{instance:i,listener:o,currentTarget:d}}function p(i,o){for(var d=o+"Capture",g=[];i!==null;){var x=i,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=$t(i,d),S!=null&&g.unshift(u(i,S,x)),S=$t(i,o),S!=null&&g.push(u(i,S,x))),i=i.return}return g}function _(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function T(i,o,d,g,x){for(var S=o._reactName,j=[];d!==null&&d!==g;){var V=d,K=V.alternate,oe=V.stateNode;if(K!==null&&K===g)break;V.tag===5&&oe!==null&&(V=oe,x?(K=$t(d,S),K!=null&&j.unshift(u(d,K,V))):x||(K=$t(d,S),K!=null&&j.push(u(d,K,V)))),d=d.return}j.length!==0&&i.push({event:o,listeners:j})}var I=/\r\n?/g,W=/\u0000|\uFFFD/g;function X(i){return(typeof i=="string"?i:""+i).replace(I,`
`).replace(W,"")}function se(i,o,d){if(o=X(o),X(i)!==o&&d)throw Error(n(425))}function de(){}var ke=null,De=null;function Ye(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Yt=typeof setTimeout=="function"?setTimeout:void 0,Vt=typeof clearTimeout=="function"?clearTimeout:void 0,Nn=typeof Promise=="function"?Promise:void 0,wn=typeof queueMicrotask=="function"?queueMicrotask:typeof Nn<"u"?function(i){return Nn.resolve(null).then(i).catch(Rs)}:Yt;function Rs(i){setTimeout(function(){throw i})}function fc(i,o){var d=o,g=0;do{var x=d.nextSibling;if(i.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(g===0){i.removeChild(x),qn(o);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=x}while(d);qn(o)}function gi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Vu(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return i;o--}else d==="/$"&&o++}i=i.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),yr="__reactFiber$"+Bi,Ns="__reactProps$"+Bi,ct="__reactContainer$"+Bi,As="__reactEvents$"+Bi,pf="__reactListeners$"+Bi,mf="__reactHandles$"+Bi;function Fi(i){var o=i[yr];if(o)return o;for(var d=i.parentNode;d;){if(o=d[ct]||d[yr]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=Vu(i);i!==null;){if(d=i[yr])return d;i=Vu(i)}return o}i=d,d=i.parentNode}return null}function Ui(i){return i=i[yr]||i[ct],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function $i(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ca(i){return i[Ns]||null}var gf=[],Ra=-1;function js(i){return{current:i}}function wt(i){0>Ra||(i.current=gf[Ra],gf[Ra]=null,Ra--)}function mt(i,o){Ra++,gf[Ra]=i.current,i.current=o}var Ls={},_n=js(Ls),zn=js(!1),bo=Ls;function Na(i,o){var d=i.type.contextTypes;if(!d)return Ls;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in d)x[S]=o[S];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=x),x}function Bn(i){return i=i.childContextTypes,i!=null}function Wu(){wt(zn),wt(_n)}function Zv(i,o,d){if(_n.current!==Ls)throw Error(n(168));mt(_n,o),mt(zn,d)}function qv(i,o,d){var g=i.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var x in g)if(!(x in o))throw Error(n(108,ie(i)||"Unknown",x));return q({},d,g)}function Hu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ls,bo=_n.current,mt(_n,i),mt(zn,zn.current),!0}function Yv(i,o,d){var g=i.stateNode;if(!g)throw Error(n(169));d?(i=qv(i,o,bo),g.__reactInternalMemoizedMergedChildContext=i,wt(zn),wt(_n),mt(_n,i)):wt(zn),mt(zn,d)}var Vi=null,Ku=!1,vf=!1;function Jv(i){Vi===null?Vi=[i]:Vi.push(i)}function TE(i){Ku=!0,Jv(i)}function Os(){if(!vf&&Vi!==null){vf=!0;var i=0,o=rt;try{var d=Vi;for(rt=1;i<d.length;i++){var g=d[i];do g=g(!0);while(g!==null)}Vi=null,Ku=!1}catch(x){throw Vi!==null&&(Vi=Vi.slice(i+1)),wu($l,Os),x}finally{rt=o,vf=!1}}return null}var Aa=[],ja=0,Gu=null,Zu=0,wr=[],_r=0,So=null,Wi=1,Hi="";function ko(i,o){Aa[ja++]=Zu,Aa[ja++]=Gu,Gu=i,Zu=o}function Xv(i,o,d){wr[_r++]=Wi,wr[_r++]=Hi,wr[_r++]=So,So=i;var g=Wi;i=Hi;var x=32-Ze(g)-1;g&=~(1<<x),d+=1;var S=32-Ze(o)+x;if(30<S){var j=x-x%5;S=(g&(1<<j)-1).toString(32),g>>=j,x-=j,Wi=1<<32-Ze(o)+x|d<<x|g,Hi=S+i}else Wi=1<<S|d<<x|g,Hi=i}function yf(i){i.return!==null&&(ko(i,1),Xv(i,1,0))}function wf(i){for(;i===Gu;)Gu=Aa[--ja],Aa[ja]=null,Zu=Aa[--ja],Aa[ja]=null;for(;i===So;)So=wr[--_r],wr[_r]=null,Hi=wr[--_r],wr[_r]=null,Wi=wr[--_r],wr[_r]=null}var er=null,tr=null,xt=!1,zr=null;function Qv(i,o){var d=kr(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=i,o=i.deletions,o===null?(i.deletions=[d],i.flags|=16):o.push(d)}function ey(i,o){switch(i.tag){case 5:var d=i.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,er=i,tr=gi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,er=i,tr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=So!==null?{id:Wi,overflow:Hi}:null,i.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=kr(18,null,null,0),d.stateNode=o,d.return=i,i.child=d,er=i,tr=null,!0):!1;default:return!1}}function _f(i){return(i.mode&1)!==0&&(i.flags&128)===0}function xf(i){if(xt){var o=tr;if(o){var d=o;if(!ey(i,o)){if(_f(i))throw Error(n(418));o=gi(d.nextSibling);var g=er;o&&ey(i,o)?Qv(g,d):(i.flags=i.flags&-4097|2,xt=!1,er=i)}}else{if(_f(i))throw Error(n(418));i.flags=i.flags&-4097|2,xt=!1,er=i}}}function ty(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;er=i}function qu(i){if(i!==er)return!1;if(!xt)return ty(i),xt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ye(i.type,i.memoizedProps)),o&&(o=tr)){if(_f(i))throw ny(),Error(n(418));for(;o;)Qv(i,o),o=gi(o.nextSibling)}if(ty(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(o===0){tr=gi(i.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}i=i.nextSibling}tr=null}}else tr=er?gi(i.stateNode.nextSibling):null;return!0}function ny(){for(var i=tr;i;)i=gi(i.nextSibling)}function La(){tr=er=null,xt=!1}function bf(i){zr===null?zr=[i]:zr.push(i)}var CE=$.ReactCurrentBatchConfig;function pc(i,o,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,i));var x=g,S=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===S?o.ref:(o=function(j){var V=x.refs;j===null?delete V[S]:V[S]=j},o._stringRef=S,o)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function Yu(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function ry(i){var o=i._init;return o(i._payload)}function iy(i){function o(Q,G){if(i){var te=Q.deletions;te===null?(Q.deletions=[G],Q.flags|=16):te.push(G)}}function d(Q,G){if(!i)return null;for(;G!==null;)o(Q,G),G=G.sibling;return null}function g(Q,G){for(Q=new Map;G!==null;)G.key!==null?Q.set(G.key,G):Q.set(G.index,G),G=G.sibling;return Q}function x(Q,G){return Q=$s(Q,G),Q.index=0,Q.sibling=null,Q}function S(Q,G,te){return Q.index=te,i?(te=Q.alternate,te!==null?(te=te.index,te<G?(Q.flags|=2,G):te):(Q.flags|=2,G)):(Q.flags|=1048576,G)}function j(Q){return i&&Q.alternate===null&&(Q.flags|=2),Q}function V(Q,G,te,xe){return G===null||G.tag!==6?(G=fp(te,Q.mode,xe),G.return=Q,G):(G=x(G,te),G.return=Q,G)}function K(Q,G,te,xe){var Ie=te.type;return Ie===F?me(Q,G,te.props.children,xe,te.key):G!==null&&(G.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Z&&ry(Ie)===G.type)?(xe=x(G,te.props),xe.ref=pc(Q,G,te),xe.return=Q,xe):(xe=_d(te.type,te.key,te.props,null,Q.mode,xe),xe.ref=pc(Q,G,te),xe.return=Q,xe)}function oe(Q,G,te,xe){return G===null||G.tag!==4||G.stateNode.containerInfo!==te.containerInfo||G.stateNode.implementation!==te.implementation?(G=pp(te,Q.mode,xe),G.return=Q,G):(G=x(G,te.children||[]),G.return=Q,G)}function me(Q,G,te,xe,Ie){return G===null||G.tag!==7?(G=jo(te,Q.mode,xe,Ie),G.return=Q,G):(G=x(G,te),G.return=Q,G)}function we(Q,G,te){if(typeof G=="string"&&G!==""||typeof G=="number")return G=fp(""+G,Q.mode,te),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case z:return te=_d(G.type,G.key,G.props,null,Q.mode,te),te.ref=pc(Q,null,G),te.return=Q,te;case H:return G=pp(G,Q.mode,te),G.return=Q,G;case Z:var xe=G._init;return we(Q,xe(G._payload),te)}if(Bt(G)||re(G))return G=jo(G,Q.mode,te,null),G.return=Q,G;Yu(Q,G)}return null}function pe(Q,G,te,xe){var Ie=G!==null?G.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Ie!==null?null:V(Q,G,""+te,xe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case z:return te.key===Ie?K(Q,G,te,xe):null;case H:return te.key===Ie?oe(Q,G,te,xe):null;case Z:return Ie=te._init,pe(Q,G,Ie(te._payload),xe)}if(Bt(te)||re(te))return Ie!==null?null:me(Q,G,te,xe,null);Yu(Q,te)}return null}function Ee(Q,G,te,xe,Ie){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return Q=Q.get(te)||null,V(G,Q,""+xe,Ie);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case z:return Q=Q.get(xe.key===null?te:xe.key)||null,K(G,Q,xe,Ie);case H:return Q=Q.get(xe.key===null?te:xe.key)||null,oe(G,Q,xe,Ie);case Z:var ze=xe._init;return Ee(Q,G,te,ze(xe._payload),Ie)}if(Bt(xe)||re(xe))return Q=Q.get(te)||null,me(G,Q,xe,Ie,null);Yu(G,xe)}return null}function Ne(Q,G,te,xe){for(var Ie=null,ze=null,Be=G,He=G=0,an=null;Be!==null&&He<te.length;He++){Be.index>He?(an=Be,Be=null):an=Be.sibling;var lt=pe(Q,Be,te[He],xe);if(lt===null){Be===null&&(Be=an);break}i&&Be&&lt.alternate===null&&o(Q,Be),G=S(lt,G,He),ze===null?Ie=lt:ze.sibling=lt,ze=lt,Be=an}if(He===te.length)return d(Q,Be),xt&&ko(Q,He),Ie;if(Be===null){for(;He<te.length;He++)Be=we(Q,te[He],xe),Be!==null&&(G=S(Be,G,He),ze===null?Ie=Be:ze.sibling=Be,ze=Be);return xt&&ko(Q,He),Ie}for(Be=g(Q,Be);He<te.length;He++)an=Ee(Be,Q,He,te[He],xe),an!==null&&(i&&an.alternate!==null&&Be.delete(an.key===null?He:an.key),G=S(an,G,He),ze===null?Ie=an:ze.sibling=an,ze=an);return i&&Be.forEach(function(Vs){return o(Q,Vs)}),xt&&ko(Q,He),Ie}function Le(Q,G,te,xe){var Ie=re(te);if(typeof Ie!="function")throw Error(n(150));if(te=Ie.call(te),te==null)throw Error(n(151));for(var ze=Ie=null,Be=G,He=G=0,an=null,lt=te.next();Be!==null&&!lt.done;He++,lt=te.next()){Be.index>He?(an=Be,Be=null):an=Be.sibling;var Vs=pe(Q,Be,lt.value,xe);if(Vs===null){Be===null&&(Be=an);break}i&&Be&&Vs.alternate===null&&o(Q,Be),G=S(Vs,G,He),ze===null?Ie=Vs:ze.sibling=Vs,ze=Vs,Be=an}if(lt.done)return d(Q,Be),xt&&ko(Q,He),Ie;if(Be===null){for(;!lt.done;He++,lt=te.next())lt=we(Q,lt.value,xe),lt!==null&&(G=S(lt,G,He),ze===null?Ie=lt:ze.sibling=lt,ze=lt);return xt&&ko(Q,He),Ie}for(Be=g(Q,Be);!lt.done;He++,lt=te.next())lt=Ee(Be,Q,He,lt.value,xe),lt!==null&&(i&&lt.alternate!==null&&Be.delete(lt.key===null?He:lt.key),G=S(lt,G,He),ze===null?Ie=lt:ze.sibling=lt,ze=lt);return i&&Be.forEach(function(aP){return o(Q,aP)}),xt&&ko(Q,He),Ie}function Ut(Q,G,te,xe){if(typeof te=="object"&&te!==null&&te.type===F&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case z:e:{for(var Ie=te.key,ze=G;ze!==null;){if(ze.key===Ie){if(Ie=te.type,Ie===F){if(ze.tag===7){d(Q,ze.sibling),G=x(ze,te.props.children),G.return=Q,Q=G;break e}}else if(ze.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Z&&ry(Ie)===ze.type){d(Q,ze.sibling),G=x(ze,te.props),G.ref=pc(Q,ze,te),G.return=Q,Q=G;break e}d(Q,ze);break}else o(Q,ze);ze=ze.sibling}te.type===F?(G=jo(te.props.children,Q.mode,xe,te.key),G.return=Q,Q=G):(xe=_d(te.type,te.key,te.props,null,Q.mode,xe),xe.ref=pc(Q,G,te),xe.return=Q,Q=xe)}return j(Q);case H:e:{for(ze=te.key;G!==null;){if(G.key===ze)if(G.tag===4&&G.stateNode.containerInfo===te.containerInfo&&G.stateNode.implementation===te.implementation){d(Q,G.sibling),G=x(G,te.children||[]),G.return=Q,Q=G;break e}else{d(Q,G);break}else o(Q,G);G=G.sibling}G=pp(te,Q.mode,xe),G.return=Q,Q=G}return j(Q);case Z:return ze=te._init,Ut(Q,G,ze(te._payload),xe)}if(Bt(te))return Ne(Q,G,te,xe);if(re(te))return Le(Q,G,te,xe);Yu(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,G!==null&&G.tag===6?(d(Q,G.sibling),G=x(G,te),G.return=Q,Q=G):(d(Q,G),G=fp(te,Q.mode,xe),G.return=Q,Q=G),j(Q)):d(Q,G)}return Ut}var Oa=iy(!0),sy=iy(!1),Ju=js(null),Xu=null,Ia=null,Sf=null;function kf(){Sf=Ia=Xu=null}function Ef(i){var o=Ju.current;wt(Ju),i._currentValue=o}function Pf(i,o,d){for(;i!==null;){var g=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),i===d)break;i=i.return}}function Ma(i,o){Xu=i,Sf=Ia=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Fn=!0),i.firstContext=null)}function xr(i){var o=i._currentValue;if(Sf!==i)if(i={context:i,memoizedValue:o,next:null},Ia===null){if(Xu===null)throw Error(n(308));Ia=i,Xu.dependencies={lanes:0,firstContext:i}}else Ia=Ia.next=i;return o}var Eo=null;function Tf(i){Eo===null?Eo=[i]:Eo.push(i)}function oy(i,o,d,g){var x=o.interleaved;return x===null?(d.next=d,Tf(o)):(d.next=x.next,x.next=d),o.interleaved=d,Ki(i,g)}function Ki(i,o){i.lanes|=o;var d=i.alternate;for(d!==null&&(d.lanes|=o),d=i,i=i.return;i!==null;)i.childLanes|=o,d=i.alternate,d!==null&&(d.childLanes|=o),d=i,i=i.return;return d.tag===3?d.stateNode:null}var Is=!1;function Cf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ay(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Gi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ms(i,o,d){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(ot&2)!==0){var x=g.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),g.pending=o,Ki(i,d)}return x=g.interleaved,x===null?(o.next=o,Tf(g)):(o.next=x.next,x.next=o),g.interleaved=o,Ki(i,d)}function Qu(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var g=o.lanes;g&=i.pendingLanes,d|=g,o.lanes=d,Lr(i,d)}}function ly(i,o){var d=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var j={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?x=S=j:S=S.next=j,d=d.next}while(d!==null);S===null?x=S=o:S=S.next=o}else x=S=o;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,effects:g.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}function ed(i,o,d,g){var x=i.updateQueue;Is=!1;var S=x.firstBaseUpdate,j=x.lastBaseUpdate,V=x.shared.pending;if(V!==null){x.shared.pending=null;var K=V,oe=K.next;K.next=null,j===null?S=oe:j.next=oe,j=K;var me=i.alternate;me!==null&&(me=me.updateQueue,V=me.lastBaseUpdate,V!==j&&(V===null?me.firstBaseUpdate=oe:V.next=oe,me.lastBaseUpdate=K))}if(S!==null){var we=x.baseState;j=0,me=oe=K=null,V=S;do{var pe=V.lane,Ee=V.eventTime;if((g&pe)===pe){me!==null&&(me=me.next={eventTime:Ee,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ne=i,Le=V;switch(pe=o,Ee=d,Le.tag){case 1:if(Ne=Le.payload,typeof Ne=="function"){we=Ne.call(Ee,we,pe);break e}we=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Le.payload,pe=typeof Ne=="function"?Ne.call(Ee,we,pe):Ne,pe==null)break e;we=q({},we,pe);break e;case 2:Is=!0}}V.callback!==null&&V.lane!==0&&(i.flags|=64,pe=x.effects,pe===null?x.effects=[V]:pe.push(V))}else Ee={eventTime:Ee,lane:pe,tag:V.tag,payload:V.payload,callback:V.callback,next:null},me===null?(oe=me=Ee,K=we):me=me.next=Ee,j|=pe;if(V=V.next,V===null){if(V=x.shared.pending,V===null)break;pe=V,V=pe.next,pe.next=null,x.lastBaseUpdate=pe,x.shared.pending=null}}while(!0);if(me===null&&(K=we),x.baseState=K,x.firstBaseUpdate=oe,x.lastBaseUpdate=me,o=x.shared.interleaved,o!==null){x=o;do j|=x.lane,x=x.next;while(x!==o)}else S===null&&(x.shared.lanes=0);Co|=j,i.lanes=j,i.memoizedState=we}}function cy(i,o,d){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var g=i[o],x=g.callback;if(x!==null){if(g.callback=null,g=d,typeof x!="function")throw Error(n(191,x));x.call(g)}}}var mc={},vi=js(mc),gc=js(mc),vc=js(mc);function Po(i){if(i===mc)throw Error(n(174));return i}function Rf(i,o){switch(mt(vc,o),mt(gc,i),mt(vi,mc),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ss(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ss(o,i)}wt(vi),mt(vi,o)}function Da(){wt(vi),wt(gc),wt(vc)}function uy(i){Po(vc.current);var o=Po(vi.current),d=ss(o,i.type);o!==d&&(mt(gc,i),mt(vi,d))}function Nf(i){gc.current===i&&(wt(vi),wt(gc))}var Rt=js(0);function td(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Af=[];function jf(){for(var i=0;i<Af.length;i++)Af[i]._workInProgressVersionPrimary=null;Af.length=0}var nd=$.ReactCurrentDispatcher,Lf=$.ReactCurrentBatchConfig,To=0,Nt=null,Jt=null,sn=null,rd=!1,yc=!1,wc=0,RE=0;function xn(){throw Error(n(321))}function Of(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!Xn(i[d],o[d]))return!1;return!0}function If(i,o,d,g,x,S){if(To=S,Nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,nd.current=i===null||i.memoizedState===null?LE:OE,i=d(g,x),yc){S=0;do{if(yc=!1,wc=0,25<=S)throw Error(n(301));S+=1,sn=Jt=null,o.updateQueue=null,nd.current=IE,i=d(g,x)}while(yc)}if(nd.current=od,o=Jt!==null&&Jt.next!==null,To=0,sn=Jt=Nt=null,rd=!1,o)throw Error(n(300));return i}function Mf(){var i=wc!==0;return wc=0,i}function yi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Nt.memoizedState=sn=i:sn=sn.next=i,sn}function br(){if(Jt===null){var i=Nt.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var o=sn===null?Nt.memoizedState:sn.next;if(o!==null)sn=o,Jt=i;else{if(i===null)throw Error(n(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},sn===null?Nt.memoizedState=sn=i:sn=sn.next=i}return sn}function _c(i,o){return typeof o=="function"?o(i):o}function Df(i){var o=br(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var g=Jt,x=g.baseQueue,S=d.pending;if(S!==null){if(x!==null){var j=x.next;x.next=S.next,S.next=j}g.baseQueue=x=S,d.pending=null}if(x!==null){S=x.next,g=g.baseState;var V=j=null,K=null,oe=S;do{var me=oe.lane;if((To&me)===me)K!==null&&(K=K.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),g=oe.hasEagerState?oe.eagerState:i(g,oe.action);else{var we={lane:me,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};K===null?(V=K=we,j=g):K=K.next=we,Nt.lanes|=me,Co|=me}oe=oe.next}while(oe!==null&&oe!==S);K===null?j=g:K.next=V,Xn(g,o.memoizedState)||(Fn=!0),o.memoizedState=g,o.baseState=j,o.baseQueue=K,d.lastRenderedState=g}if(i=d.interleaved,i!==null){x=i;do S=x.lane,Nt.lanes|=S,Co|=S,x=x.next;while(x!==i)}else x===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function zf(i){var o=br(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var g=d.dispatch,x=d.pending,S=o.memoizedState;if(x!==null){d.pending=null;var j=x=x.next;do S=i(S,j.action),j=j.next;while(j!==x);Xn(S,o.memoizedState)||(Fn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),d.lastRenderedState=S}return[S,g]}function dy(){}function hy(i,o){var d=Nt,g=br(),x=o(),S=!Xn(g.memoizedState,x);if(S&&(g.memoizedState=x,Fn=!0),g=g.queue,Bf(my.bind(null,d,g,i),[i]),g.getSnapshot!==o||S||sn!==null&&sn.memoizedState.tag&1){if(d.flags|=2048,xc(9,py.bind(null,d,g,x,o),void 0,null),on===null)throw Error(n(349));(To&30)!==0||fy(d,o,x)}return x}function fy(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=Nt.updateQueue,o===null?(o={lastEffect:null,stores:null},Nt.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function py(i,o,d,g){o.value=d,o.getSnapshot=g,gy(o)&&vy(i)}function my(i,o,d){return d(function(){gy(o)&&vy(i)})}function gy(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!Xn(i,d)}catch{return!0}}function vy(i){var o=Ki(i,1);o!==null&&$r(o,i,1,-1)}function yy(i){var o=yi();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:i},o.queue=i,i=i.dispatch=jE.bind(null,Nt,i),[o.memoizedState,i]}function xc(i,o,d,g){return i={tag:i,create:o,destroy:d,deps:g,next:null},o=Nt.updateQueue,o===null?(o={lastEffect:null,stores:null},Nt.updateQueue=o,o.lastEffect=i.next=i):(d=o.lastEffect,d===null?o.lastEffect=i.next=i:(g=d.next,d.next=i,i.next=g,o.lastEffect=i)),i}function wy(){return br().memoizedState}function id(i,o,d,g){var x=yi();Nt.flags|=i,x.memoizedState=xc(1|o,d,void 0,g===void 0?null:g)}function sd(i,o,d,g){var x=br();g=g===void 0?null:g;var S=void 0;if(Jt!==null){var j=Jt.memoizedState;if(S=j.destroy,g!==null&&Of(g,j.deps)){x.memoizedState=xc(o,d,S,g);return}}Nt.flags|=i,x.memoizedState=xc(1|o,d,S,g)}function _y(i,o){return id(8390656,8,i,o)}function Bf(i,o){return sd(2048,8,i,o)}function xy(i,o){return sd(4,2,i,o)}function by(i,o){return sd(4,4,i,o)}function Sy(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function ky(i,o,d){return d=d!=null?d.concat([i]):null,sd(4,4,Sy.bind(null,o,i),d)}function Ff(){}function Ey(i,o){var d=br();o=o===void 0?null:o;var g=d.memoizedState;return g!==null&&o!==null&&Of(o,g[1])?g[0]:(d.memoizedState=[i,o],i)}function Py(i,o){var d=br();o=o===void 0?null:o;var g=d.memoizedState;return g!==null&&o!==null&&Of(o,g[1])?g[0]:(i=i(),d.memoizedState=[i,o],i)}function Ty(i,o,d){return(To&21)===0?(i.baseState&&(i.baseState=!1,Fn=!0),i.memoizedState=d):(Xn(d,o)||(d=xu(),Nt.lanes|=d,Co|=d,i.baseState=!0),o)}function NE(i,o){var d=rt;rt=d!==0&&4>d?d:4,i(!0);var g=Lf.transition;Lf.transition={};try{i(!1),o()}finally{rt=d,Lf.transition=g}}function Cy(){return br().memoizedState}function AE(i,o,d){var g=Fs(i);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},Ry(i))Ny(o,d);else if(d=oy(i,o,d,g),d!==null){var x=jn();$r(d,i,g,x),Ay(d,o,g)}}function jE(i,o,d){var g=Fs(i),x={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ry(i))Ny(o,x);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var j=o.lastRenderedState,V=S(j,d);if(x.hasEagerState=!0,x.eagerState=V,Xn(V,j)){var K=o.interleaved;K===null?(x.next=x,Tf(o)):(x.next=K.next,K.next=x),o.interleaved=x;return}}catch{}finally{}d=oy(i,o,x,g),d!==null&&(x=jn(),$r(d,i,g,x),Ay(d,o,g))}}function Ry(i){var o=i.alternate;return i===Nt||o!==null&&o===Nt}function Ny(i,o){yc=rd=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function Ay(i,o,d){if((d&4194240)!==0){var g=o.lanes;g&=i.pendingLanes,d|=g,o.lanes=d,Lr(i,d)}}var od={readContext:xr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},LE={readContext:xr,useCallback:function(i,o){return yi().memoizedState=[i,o===void 0?null:o],i},useContext:xr,useEffect:_y,useImperativeHandle:function(i,o,d){return d=d!=null?d.concat([i]):null,id(4194308,4,Sy.bind(null,o,i),d)},useLayoutEffect:function(i,o){return id(4194308,4,i,o)},useInsertionEffect:function(i,o){return id(4,2,i,o)},useMemo:function(i,o){var d=yi();return o=o===void 0?null:o,i=i(),d.memoizedState=[i,o],i},useReducer:function(i,o,d){var g=yi();return o=d!==void 0?d(o):o,g.memoizedState=g.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},g.queue=i,i=i.dispatch=AE.bind(null,Nt,i),[g.memoizedState,i]},useRef:function(i){var o=yi();return i={current:i},o.memoizedState=i},useState:yy,useDebugValue:Ff,useDeferredValue:function(i){return yi().memoizedState=i},useTransition:function(){var i=yy(!1),o=i[0];return i=NE.bind(null,i[1]),yi().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,d){var g=Nt,x=yi();if(xt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),on===null)throw Error(n(349));(To&30)!==0||fy(g,o,d)}x.memoizedState=d;var S={value:d,getSnapshot:o};return x.queue=S,_y(my.bind(null,g,S,i),[i]),g.flags|=2048,xc(9,py.bind(null,g,S,d,o),void 0,null),d},useId:function(){var i=yi(),o=on.identifierPrefix;if(xt){var d=Hi,g=Wi;d=(g&~(1<<32-Ze(g)-1)).toString(32)+d,o=":"+o+"R"+d,d=wc++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=RE++,o=":"+o+"r"+d.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},OE={readContext:xr,useCallback:Ey,useContext:xr,useEffect:Bf,useImperativeHandle:ky,useInsertionEffect:xy,useLayoutEffect:by,useMemo:Py,useReducer:Df,useRef:wy,useState:function(){return Df(_c)},useDebugValue:Ff,useDeferredValue:function(i){var o=br();return Ty(o,Jt.memoizedState,i)},useTransition:function(){var i=Df(_c)[0],o=br().memoizedState;return[i,o]},useMutableSource:dy,useSyncExternalStore:hy,useId:Cy,unstable_isNewReconciler:!1},IE={readContext:xr,useCallback:Ey,useContext:xr,useEffect:Bf,useImperativeHandle:ky,useInsertionEffect:xy,useLayoutEffect:by,useMemo:Py,useReducer:zf,useRef:wy,useState:function(){return zf(_c)},useDebugValue:Ff,useDeferredValue:function(i){var o=br();return Jt===null?o.memoizedState=i:Ty(o,Jt.memoizedState,i)},useTransition:function(){var i=zf(_c)[0],o=br().memoizedState;return[i,o]},useMutableSource:dy,useSyncExternalStore:hy,useId:Cy,unstable_isNewReconciler:!1};function Br(i,o){if(i&&i.defaultProps){o=q({},o),i=i.defaultProps;for(var d in i)o[d]===void 0&&(o[d]=i[d]);return o}return o}function Uf(i,o,d,g){o=i.memoizedState,d=d(g,o),d=d==null?o:q({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var ad={isMounted:function(i){return(i=i._reactInternals)?li(i)===i:!1},enqueueSetState:function(i,o,d){i=i._reactInternals;var g=jn(),x=Fs(i),S=Gi(g,x);S.payload=o,d!=null&&(S.callback=d),o=Ms(i,S,x),o!==null&&($r(o,i,x,g),Qu(o,i,x))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var g=jn(),x=Fs(i),S=Gi(g,x);S.tag=1,S.payload=o,d!=null&&(S.callback=d),o=Ms(i,S,x),o!==null&&($r(o,i,x,g),Qu(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=jn(),g=Fs(i),x=Gi(d,g);x.tag=2,o!=null&&(x.callback=o),o=Ms(i,x,g),o!==null&&($r(o,i,g,d),Qu(o,i,g))}};function jy(i,o,d,g,x,S,j){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,S,j):o.prototype&&o.prototype.isPureReactComponent?!fi(d,g)||!fi(x,S):!0}function Ly(i,o,d){var g=!1,x=Ls,S=o.contextType;return typeof S=="object"&&S!==null?S=xr(S):(x=Bn(o)?bo:_n.current,g=o.contextTypes,S=(g=g!=null)?Na(i,x):Ls),o=new o(d,S),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ad,i.stateNode=o,o._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=S),o}function Oy(i,o,d,g){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,g),o.state!==i&&ad.enqueueReplaceState(o,o.state,null)}function $f(i,o,d,g){var x=i.stateNode;x.props=d,x.state=i.memoizedState,x.refs={},Cf(i);var S=o.contextType;typeof S=="object"&&S!==null?x.context=xr(S):(S=Bn(o)?bo:_n.current,x.context=Na(i,S)),x.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Uf(i,o,S,d),x.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&ad.enqueueReplaceState(x,x.state,null),ed(i,d,x,g),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function za(i,o){try{var d="",g=o;do d+=ve(g),g=g.return;while(g);var x=d}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:o,stack:x,digest:null}}function Vf(i,o,d){return{value:i,source:null,stack:d??null,digest:o??null}}function Wf(i,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var ME=typeof WeakMap=="function"?WeakMap:Map;function Iy(i,o,d){d=Gi(-1,d),d.tag=3,d.payload={element:null};var g=o.value;return d.callback=function(){pd||(pd=!0,sp=g),Wf(i,o)},d}function My(i,o,d){d=Gi(-1,d),d.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var x=o.value;d.payload=function(){return g(x)},d.callback=function(){Wf(i,o)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){Wf(i,o),typeof g!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var j=o.stack;this.componentDidCatch(o.value,{componentStack:j!==null?j:""})}),d}function Dy(i,o,d){var g=i.pingCache;if(g===null){g=i.pingCache=new ME;var x=new Set;g.set(o,x)}else x=g.get(o),x===void 0&&(x=new Set,g.set(o,x));x.has(d)||(x.add(d),i=YE.bind(null,i,o,d),o.then(i,i))}function zy(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function By(i,o,d,g,x){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=Gi(-1,1),o.tag=2,Ms(d,o,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var DE=$.ReactCurrentOwner,Fn=!1;function An(i,o,d,g){o.child=i===null?sy(o,null,d,g):Oa(o,i.child,d,g)}function Fy(i,o,d,g,x){d=d.render;var S=o.ref;return Ma(o,x),g=If(i,o,d,g,S,x),d=Mf(),i!==null&&!Fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,Zi(i,o,x)):(xt&&d&&yf(o),o.flags|=1,An(i,o,g,x),o.child)}function Uy(i,o,d,g,x){if(i===null){var S=d.type;return typeof S=="function"&&!hp(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=S,$y(i,o,S,g,x)):(i=_d(d.type,null,g,o,o.mode,x),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,(i.lanes&x)===0){var j=S.memoizedProps;if(d=d.compare,d=d!==null?d:fi,d(j,g)&&i.ref===o.ref)return Zi(i,o,x)}return o.flags|=1,i=$s(S,g),i.ref=o.ref,i.return=o,o.child=i}function $y(i,o,d,g,x){if(i!==null){var S=i.memoizedProps;if(fi(S,g)&&i.ref===o.ref)if(Fn=!1,o.pendingProps=g=S,(i.lanes&x)!==0)(i.flags&131072)!==0&&(Fn=!0);else return o.lanes=i.lanes,Zi(i,o,x)}return Hf(i,o,d,g,x)}function Vy(i,o,d){var g=o.pendingProps,x=g.children,S=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Fa,nr),nr|=d;else{if((d&1073741824)===0)return i=S!==null?S.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,mt(Fa,nr),nr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:d,mt(Fa,nr),nr|=g}else S!==null?(g=S.baseLanes|d,o.memoizedState=null):g=d,mt(Fa,nr),nr|=g;return An(i,o,x,d),o.child}function Wy(i,o){var d=o.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function Hf(i,o,d,g,x){var S=Bn(d)?bo:_n.current;return S=Na(o,S),Ma(o,x),d=If(i,o,d,g,S,x),g=Mf(),i!==null&&!Fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,Zi(i,o,x)):(xt&&g&&yf(o),o.flags|=1,An(i,o,d,x),o.child)}function Hy(i,o,d,g,x){if(Bn(d)){var S=!0;Hu(o)}else S=!1;if(Ma(o,x),o.stateNode===null)cd(i,o),Ly(o,d,g),$f(o,d,g,x),g=!0;else if(i===null){var j=o.stateNode,V=o.memoizedProps;j.props=V;var K=j.context,oe=d.contextType;typeof oe=="object"&&oe!==null?oe=xr(oe):(oe=Bn(d)?bo:_n.current,oe=Na(o,oe));var me=d.getDerivedStateFromProps,we=typeof me=="function"||typeof j.getSnapshotBeforeUpdate=="function";we||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(V!==g||K!==oe)&&Oy(o,j,g,oe),Is=!1;var pe=o.memoizedState;j.state=pe,ed(o,g,j,x),K=o.memoizedState,V!==g||pe!==K||zn.current||Is?(typeof me=="function"&&(Uf(o,d,me,g),K=o.memoizedState),(V=Is||jy(o,d,V,g,pe,K,oe))?(we||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(o.flags|=4194308)):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=K),j.props=g,j.state=K,j.context=oe,g=V):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{j=o.stateNode,ay(i,o),V=o.memoizedProps,oe=o.type===o.elementType?V:Br(o.type,V),j.props=oe,we=o.pendingProps,pe=j.context,K=d.contextType,typeof K=="object"&&K!==null?K=xr(K):(K=Bn(d)?bo:_n.current,K=Na(o,K));var Ee=d.getDerivedStateFromProps;(me=typeof Ee=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(V!==we||pe!==K)&&Oy(o,j,g,K),Is=!1,pe=o.memoizedState,j.state=pe,ed(o,g,j,x);var Ne=o.memoizedState;V!==we||pe!==Ne||zn.current||Is?(typeof Ee=="function"&&(Uf(o,d,Ee,g),Ne=o.memoizedState),(oe=Is||jy(o,d,oe,g,pe,Ne,K)||!1)?(me||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(g,Ne,K),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(g,Ne,K)),typeof j.componentDidUpdate=="function"&&(o.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof j.componentDidUpdate!="function"||V===i.memoizedProps&&pe===i.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&pe===i.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=Ne),j.props=g,j.state=Ne,j.context=K,g=oe):(typeof j.componentDidUpdate!="function"||V===i.memoizedProps&&pe===i.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&pe===i.memoizedState||(o.flags|=1024),g=!1)}return Kf(i,o,d,g,S,x)}function Kf(i,o,d,g,x,S){Wy(i,o);var j=(o.flags&128)!==0;if(!g&&!j)return x&&Yv(o,d,!1),Zi(i,o,S);g=o.stateNode,DE.current=o;var V=j&&typeof d.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,i!==null&&j?(o.child=Oa(o,i.child,null,S),o.child=Oa(o,null,V,S)):An(i,o,V,S),o.memoizedState=g.state,x&&Yv(o,d,!0),o.child}function Ky(i){var o=i.stateNode;o.pendingContext?Zv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Zv(i,o.context,!1),Rf(i,o.containerInfo)}function Gy(i,o,d,g,x){return La(),bf(x),o.flags|=256,An(i,o,d,g),o.child}var Gf={dehydrated:null,treeContext:null,retryLane:0};function Zf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Zy(i,o,d){var g=o.pendingProps,x=Rt.current,S=!1,j=(o.flags&128)!==0,V;if((V=j)||(V=i!==null&&i.memoizedState===null?!1:(x&2)!==0),V?(S=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),mt(Rt,x&1),i===null)return xf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(j=g.children,i=g.fallback,S?(g=o.mode,S=o.child,j={mode:"hidden",children:j},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=j):S=xd(j,g,0,null),i=jo(i,g,d,null),S.return=o,i.return=o,S.sibling=i,o.child=S,o.child.memoizedState=Zf(d),o.memoizedState=Gf,i):qf(o,j));if(x=i.memoizedState,x!==null&&(V=x.dehydrated,V!==null))return zE(i,o,j,g,V,x,d);if(S){S=g.fallback,j=o.mode,x=i.child,V=x.sibling;var K={mode:"hidden",children:g.children};return(j&1)===0&&o.child!==x?(g=o.child,g.childLanes=0,g.pendingProps=K,o.deletions=null):(g=$s(x,K),g.subtreeFlags=x.subtreeFlags&14680064),V!==null?S=$s(V,S):(S=jo(S,j,d,null),S.flags|=2),S.return=o,g.return=o,g.sibling=S,o.child=g,g=S,S=o.child,j=i.child.memoizedState,j=j===null?Zf(d):{baseLanes:j.baseLanes|d,cachePool:null,transitions:j.transitions},S.memoizedState=j,S.childLanes=i.childLanes&~d,o.memoizedState=Gf,g}return S=i.child,i=S.sibling,g=$s(S,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=d),g.return=o,g.sibling=null,i!==null&&(d=o.deletions,d===null?(o.deletions=[i],o.flags|=16):d.push(i)),o.child=g,o.memoizedState=null,g}function qf(i,o){return o=xd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ld(i,o,d,g){return g!==null&&bf(g),Oa(o,i.child,null,d),i=qf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function zE(i,o,d,g,x,S,j){if(d)return o.flags&256?(o.flags&=-257,g=Vf(Error(n(422))),ld(i,o,j,g)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(S=g.fallback,x=o.mode,g=xd({mode:"visible",children:g.children},x,0,null),S=jo(S,x,j,null),S.flags|=2,g.return=o,S.return=o,g.sibling=S,o.child=g,(o.mode&1)!==0&&Oa(o,i.child,null,j),o.child.memoizedState=Zf(j),o.memoizedState=Gf,S);if((o.mode&1)===0)return ld(i,o,j,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var V=g.dgst;return g=V,S=Error(n(419)),g=Vf(S,g,void 0),ld(i,o,j,g)}if(V=(j&i.childLanes)!==0,Fn||V){if(g=on,g!==null){switch(j&-j){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|j))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,Ki(i,x),$r(g,i,x,-1))}return dp(),g=Vf(Error(n(421))),ld(i,o,j,g)}return x.data==="$?"?(o.flags|=128,o.child=i.child,o=JE.bind(null,i),x._reactRetry=o,null):(i=S.treeContext,tr=gi(x.nextSibling),er=o,xt=!0,zr=null,i!==null&&(wr[_r++]=Wi,wr[_r++]=Hi,wr[_r++]=So,Wi=i.id,Hi=i.overflow,So=o),o=qf(o,g.children),o.flags|=4096,o)}function qy(i,o,d){i.lanes|=o;var g=i.alternate;g!==null&&(g.lanes|=o),Pf(i.return,o,d)}function Yf(i,o,d,g,x){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=d,S.tailMode=x)}function Yy(i,o,d){var g=o.pendingProps,x=g.revealOrder,S=g.tail;if(An(i,o,g.children,d),g=Rt.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&qy(i,d,o);else if(i.tag===19)qy(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(mt(Rt,g),(o.mode&1)===0)o.memoizedState=null;else switch(x){case"forwards":for(d=o.child,x=null;d!==null;)i=d.alternate,i!==null&&td(i)===null&&(x=d),d=d.sibling;d=x,d===null?(x=o.child,o.child=null):(x=d.sibling,d.sibling=null),Yf(o,!1,x,d,S);break;case"backwards":for(d=null,x=o.child,o.child=null;x!==null;){if(i=x.alternate,i!==null&&td(i)===null){o.child=x;break}i=x.sibling,x.sibling=d,d=x,x=i}Yf(o,!0,d,null,S);break;case"together":Yf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function cd(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Zi(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),Co|=o.lanes,(d&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,d=$s(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=$s(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function BE(i,o,d){switch(o.tag){case 3:Ky(o),La();break;case 5:uy(o);break;case 1:Bn(o.type)&&Hu(o);break;case 4:Rf(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,x=o.memoizedProps.value;mt(Ju,g._currentValue),g._currentValue=x;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(mt(Rt,Rt.current&1),o.flags|=128,null):(d&o.child.childLanes)!==0?Zy(i,o,d):(mt(Rt,Rt.current&1),i=Zi(i,o,d),i!==null?i.sibling:null);mt(Rt,Rt.current&1);break;case 19:if(g=(d&o.childLanes)!==0,(i.flags&128)!==0){if(g)return Yy(i,o,d);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),mt(Rt,Rt.current),g)break;return null;case 22:case 23:return o.lanes=0,Vy(i,o,d)}return Zi(i,o,d)}var Jy,Jf,Xy,Qy;Jy=function(i,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Jf=function(){},Xy=function(i,o,d,g){var x=i.memoizedProps;if(x!==g){i=o.stateNode,Po(vi.current);var S=null;switch(d){case"input":x=at(i,x),g=at(i,g),S=[];break;case"select":x=q({},x,{value:void 0}),g=q({},g,{value:void 0}),S=[];break;case"textarea":x=vt(i,x),g=vt(i,g),S=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=de)}ls(d,g);var j;d=null;for(oe in x)if(!g.hasOwnProperty(oe)&&x.hasOwnProperty(oe)&&x[oe]!=null)if(oe==="style"){var V=x[oe];for(j in V)V.hasOwnProperty(j)&&(d||(d={}),d[j]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(a.hasOwnProperty(oe)?S||(S=[]):(S=S||[]).push(oe,null));for(oe in g){var K=g[oe];if(V=x!=null?x[oe]:void 0,g.hasOwnProperty(oe)&&K!==V&&(K!=null||V!=null))if(oe==="style")if(V){for(j in V)!V.hasOwnProperty(j)||K&&K.hasOwnProperty(j)||(d||(d={}),d[j]="");for(j in K)K.hasOwnProperty(j)&&V[j]!==K[j]&&(d||(d={}),d[j]=K[j])}else d||(S||(S=[]),S.push(oe,d)),d=K;else oe==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,V=V?V.__html:void 0,K!=null&&V!==K&&(S=S||[]).push(oe,K)):oe==="children"?typeof K!="string"&&typeof K!="number"||(S=S||[]).push(oe,""+K):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(a.hasOwnProperty(oe)?(K!=null&&oe==="onScroll"&&ft("scroll",i),S||V===K||(S=[])):(S=S||[]).push(oe,K))}d&&(S=S||[]).push("style",d);var oe=S;(o.updateQueue=oe)&&(o.flags|=4)}},Qy=function(i,o,d,g){d!==g&&(o.flags|=4)};function bc(i,o){if(!xt)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function bn(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,g=0;if(o)for(var x=i.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=g,i.childLanes=d,o}function FE(i,o,d){var g=o.pendingProps;switch(wf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(o),null;case 1:return Bn(o.type)&&Wu(),bn(o),null;case 3:return g=o.stateNode,Da(),wt(zn),wt(_n),jf(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(qu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,zr!==null&&(lp(zr),zr=null))),Jf(i,o),bn(o),null;case 5:Nf(o);var x=Po(vc.current);if(d=o.type,i!==null&&o.stateNode!=null)Xy(i,o,d,g,x),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(n(166));return bn(o),null}if(i=Po(vi.current),qu(o)){g=o.stateNode,d=o.type;var S=o.memoizedProps;switch(g[yr]=o,g[Ns]=S,i=(o.mode&1)!==0,d){case"dialog":ft("cancel",g),ft("close",g);break;case"iframe":case"object":case"embed":ft("load",g);break;case"video":case"audio":for(x=0;x<Ts.length;x++)ft(Ts[x],g);break;case"source":ft("error",g);break;case"img":case"image":case"link":ft("error",g),ft("load",g);break;case"details":ft("toggle",g);break;case"input":qe(g,S),ft("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},ft("invalid",g);break;case"textarea":dr(g,S),ft("invalid",g)}ls(d,S),x=null;for(var j in S)if(S.hasOwnProperty(j)){var V=S[j];j==="children"?typeof V=="string"?g.textContent!==V&&(S.suppressHydrationWarning!==!0&&se(g.textContent,V,i),x=["children",V]):typeof V=="number"&&g.textContent!==""+V&&(S.suppressHydrationWarning!==!0&&se(g.textContent,V,i),x=["children",""+V]):a.hasOwnProperty(j)&&V!=null&&j==="onScroll"&&ft("scroll",g)}switch(d){case"input":Oe(g),zt(g,S,!0);break;case"textarea":Oe(g),na(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=de)}g=x,o.updateQueue=g,g!==null&&(o.flags|=4)}else{j=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Cr(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=j.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=j.createElement(d,{is:g.is}):(i=j.createElement(d),d==="select"&&(j=i,g.multiple?j.multiple=!0:g.size&&(j.size=g.size))):i=j.createElementNS(i,d),i[yr]=o,i[Ns]=g,Jy(i,o,!1,!1),o.stateNode=i;e:{switch(j=Nr(d,g),d){case"dialog":ft("cancel",i),ft("close",i),x=g;break;case"iframe":case"object":case"embed":ft("load",i),x=g;break;case"video":case"audio":for(x=0;x<Ts.length;x++)ft(Ts[x],i);x=g;break;case"source":ft("error",i),x=g;break;case"img":case"image":case"link":ft("error",i),ft("load",i),x=g;break;case"details":ft("toggle",i),x=g;break;case"input":qe(i,g),x=at(i,g),ft("invalid",i);break;case"option":x=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},x=q({},g,{value:void 0}),ft("invalid",i);break;case"textarea":dr(i,g),x=vt(i,g),ft("invalid",i);break;default:x=g}ls(d,x),V=x;for(S in V)if(V.hasOwnProperty(S)){var K=V[S];S==="style"?as(i,K):S==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&os(i,K)):S==="children"?typeof K=="string"?(d!=="textarea"||K!=="")&&Pn(i,K):typeof K=="number"&&Pn(i,""+K):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(a.hasOwnProperty(S)?K!=null&&S==="onScroll"&&ft("scroll",i):K!=null&&A(i,S,K,j))}switch(d){case"input":Oe(i),zt(i,g,!1);break;case"textarea":Oe(i),na(i);break;case"option":g.value!=null&&i.setAttribute("value",""+fe(g.value));break;case"select":i.multiple=!!g.multiple,S=g.value,S!=null?gn(i,!!g.multiple,S,!1):g.defaultValue!=null&&gn(i,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=de)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return bn(o),null;case 6:if(i&&o.stateNode!=null)Qy(i,o,i.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(n(166));if(d=Po(vc.current),Po(vi.current),qu(o)){if(g=o.stateNode,d=o.memoizedProps,g[yr]=o,(S=g.nodeValue!==d)&&(i=er,i!==null))switch(i.tag){case 3:se(g.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&se(g.nodeValue,d,(i.mode&1)!==0)}S&&(o.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[yr]=o,o.stateNode=g}return bn(o),null;case 13:if(wt(Rt),g=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(xt&&tr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)ny(),La(),o.flags|=98560,S=!1;else if(S=qu(o),g!==null&&g.dehydrated!==null){if(i===null){if(!S)throw Error(n(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[yr]=o}else La(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;bn(o),S=!1}else zr!==null&&(lp(zr),zr=null),S=!0;if(!S)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=d,o):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Rt.current&1)!==0?Xt===0&&(Xt=3):dp())),o.updateQueue!==null&&(o.flags|=4),bn(o),null);case 4:return Da(),Jf(i,o),i===null&&Cs(o.stateNode.containerInfo),bn(o),null;case 10:return Ef(o.type._context),bn(o),null;case 17:return Bn(o.type)&&Wu(),bn(o),null;case 19:if(wt(Rt),S=o.memoizedState,S===null)return bn(o),null;if(g=(o.flags&128)!==0,j=S.rendering,j===null)if(g)bc(S,!1);else{if(Xt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(j=td(i),j!==null){for(o.flags|=128,bc(S,!1),g=j.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=d,d=o.child;d!==null;)S=d,i=g,S.flags&=14680066,j=S.alternate,j===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=j.childLanes,S.lanes=j.lanes,S.child=j.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=j.memoizedProps,S.memoizedState=j.memoizedState,S.updateQueue=j.updateQueue,S.type=j.type,i=j.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return mt(Rt,Rt.current&1|2),o.child}i=i.sibling}S.tail!==null&&Tt()>Ua&&(o.flags|=128,g=!0,bc(S,!1),o.lanes=4194304)}else{if(!g)if(i=td(j),i!==null){if(o.flags|=128,g=!0,d=i.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),bc(S,!0),S.tail===null&&S.tailMode==="hidden"&&!j.alternate&&!xt)return bn(o),null}else 2*Tt()-S.renderingStartTime>Ua&&d!==1073741824&&(o.flags|=128,g=!0,bc(S,!1),o.lanes=4194304);S.isBackwards?(j.sibling=o.child,o.child=j):(d=S.last,d!==null?d.sibling=j:o.child=j,S.last=j)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=Tt(),o.sibling=null,d=Rt.current,mt(Rt,g?d&1|2:d&1),o):(bn(o),null);case 22:case 23:return up(),g=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(nr&1073741824)!==0&&(bn(o),o.subtreeFlags&6&&(o.flags|=8192)):bn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function UE(i,o){switch(wf(o),o.tag){case 1:return Bn(o.type)&&Wu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Da(),wt(zn),wt(_n),jf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Nf(o),null;case 13:if(wt(Rt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));La()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return wt(Rt),null;case 4:return Da(),null;case 10:return Ef(o.type._context),null;case 22:case 23:return up(),null;case 24:return null;default:return null}}var ud=!1,Sn=!1,$E=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Ba(i,o){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){It(i,o,g)}else d.current=null}function Xf(i,o,d){try{d()}catch(g){It(i,o,g)}}var e0=!1;function VE(i,o){if(ke=po,i=sc(),oc(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var j=0,V=-1,K=-1,oe=0,me=0,we=i,pe=null;t:for(;;){for(var Ee;we!==d||x!==0&&we.nodeType!==3||(V=j+x),we!==S||g!==0&&we.nodeType!==3||(K=j+g),we.nodeType===3&&(j+=we.nodeValue.length),(Ee=we.firstChild)!==null;)pe=we,we=Ee;for(;;){if(we===i)break t;if(pe===d&&++oe===x&&(V=j),pe===S&&++me===g&&(K=j),(Ee=we.nextSibling)!==null)break;we=pe,pe=we.parentNode}we=Ee}d=V===-1||K===-1?null:{start:V,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(De={focusedElem:i,selectionRange:d},po=!1,Ce=o;Ce!==null;)if(o=Ce,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ce=i;else for(;Ce!==null;){o=Ce;try{var Ne=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Le=Ne.memoizedProps,Ut=Ne.memoizedState,Q=o.stateNode,G=Q.getSnapshotBeforeUpdate(o.elementType===o.type?Le:Br(o.type,Le),Ut);Q.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var te=o.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){It(o,o.return,xe)}if(i=o.sibling,i!==null){i.return=o.return,Ce=i;break}Ce=o.return}return Ne=e0,e0=!1,Ne}function Sc(i,o,d){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&i)===i){var S=x.destroy;x.destroy=void 0,S!==void 0&&Xf(o,d,S)}x=x.next}while(x!==g)}}function dd(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&i)===i){var g=d.create;d.destroy=g()}d=d.next}while(d!==o)}}function Qf(i){var o=i.ref;if(o!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof o=="function"?o(i):o.current=i}}function t0(i){var o=i.alternate;o!==null&&(i.alternate=null,t0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[yr],delete o[Ns],delete o[As],delete o[pf],delete o[mf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function n0(i){return i.tag===5||i.tag===3||i.tag===4}function r0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||n0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ep(i,o,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(i,o):d.insertBefore(i,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(i,d)):(o=d,o.appendChild(i)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=de));else if(g!==4&&(i=i.child,i!==null))for(ep(i,o,d),i=i.sibling;i!==null;)ep(i,o,d),i=i.sibling}function tp(i,o,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(tp(i,o,d),i=i.sibling;i!==null;)tp(i,o,d),i=i.sibling}var ln=null,Fr=!1;function Ds(i,o,d){for(d=d.child;d!==null;)i0(i,o,d),d=d.sibling}function i0(i,o,d){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(ao,d)}catch{}switch(d.tag){case 5:Sn||Ba(d,o);case 6:var g=ln,x=Fr;ln=null,Ds(i,o,d),ln=g,Fr=x,ln!==null&&(Fr?(i=ln,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):ln.removeChild(d.stateNode));break;case 18:ln!==null&&(Fr?(i=ln,d=d.stateNode,i.nodeType===8?fc(i.parentNode,d):i.nodeType===1&&fc(i,d),qn(i)):fc(ln,d.stateNode));break;case 4:g=ln,x=Fr,ln=d.stateNode.containerInfo,Fr=!0,Ds(i,o,d),ln=g,Fr=x;break;case 0:case 11:case 14:case 15:if(!Sn&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var S=x,j=S.destroy;S=S.tag,j!==void 0&&((S&2)!==0||(S&4)!==0)&&Xf(d,o,j),x=x.next}while(x!==g)}Ds(i,o,d);break;case 1:if(!Sn&&(Ba(d,o),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(V){It(d,o,V)}Ds(i,o,d);break;case 21:Ds(i,o,d);break;case 22:d.mode&1?(Sn=(g=Sn)||d.memoizedState!==null,Ds(i,o,d),Sn=g):Ds(i,o,d);break;default:Ds(i,o,d)}}function s0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new $E),o.forEach(function(g){var x=XE.bind(null,i,g);d.has(g)||(d.add(g),g.then(x,x))})}}function Ur(i,o){var d=o.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];try{var S=i,j=o,V=j;e:for(;V!==null;){switch(V.tag){case 5:ln=V.stateNode,Fr=!1;break e;case 3:ln=V.stateNode.containerInfo,Fr=!0;break e;case 4:ln=V.stateNode.containerInfo,Fr=!0;break e}V=V.return}if(ln===null)throw Error(n(160));i0(S,j,x),ln=null,Fr=!1;var K=x.alternate;K!==null&&(K.return=null),x.return=null}catch(oe){It(x,o,oe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)o0(o,i),o=o.sibling}function o0(i,o){var d=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ur(o,i),wi(i),g&4){try{Sc(3,i,i.return),dd(3,i)}catch(Le){It(i,i.return,Le)}try{Sc(5,i,i.return)}catch(Le){It(i,i.return,Le)}}break;case 1:Ur(o,i),wi(i),g&512&&d!==null&&Ba(d,d.return);break;case 5:if(Ur(o,i),wi(i),g&512&&d!==null&&Ba(d,d.return),i.flags&32){var x=i.stateNode;try{Pn(x,"")}catch(Le){It(i,i.return,Le)}}if(g&4&&(x=i.stateNode,x!=null)){var S=i.memoizedProps,j=d!==null?d.memoizedProps:S,V=i.type,K=i.updateQueue;if(i.updateQueue=null,K!==null)try{V==="input"&&S.type==="radio"&&S.name!=null&&Et(x,S),Nr(V,j);var oe=Nr(V,S);for(j=0;j<K.length;j+=2){var me=K[j],we=K[j+1];me==="style"?as(x,we):me==="dangerouslySetInnerHTML"?os(x,we):me==="children"?Pn(x,we):A(x,me,we,oe)}switch(V){case"input":dt(x,S);break;case"textarea":ta(x,S);break;case"select":var pe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var Ee=S.value;Ee!=null?gn(x,!!S.multiple,Ee,!1):pe!==!!S.multiple&&(S.defaultValue!=null?gn(x,!!S.multiple,S.defaultValue,!0):gn(x,!!S.multiple,S.multiple?[]:"",!1))}x[Ns]=S}catch(Le){It(i,i.return,Le)}}break;case 6:if(Ur(o,i),wi(i),g&4){if(i.stateNode===null)throw Error(n(162));x=i.stateNode,S=i.memoizedProps;try{x.nodeValue=S}catch(Le){It(i,i.return,Le)}}break;case 3:if(Ur(o,i),wi(i),g&4&&d!==null&&d.memoizedState.isDehydrated)try{qn(o.containerInfo)}catch(Le){It(i,i.return,Le)}break;case 4:Ur(o,i),wi(i);break;case 13:Ur(o,i),wi(i),x=i.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(ip=Tt())),g&4&&s0(i);break;case 22:if(me=d!==null&&d.memoizedState!==null,i.mode&1?(Sn=(oe=Sn)||me,Ur(o,i),Sn=oe):Ur(o,i),wi(i),g&8192){if(oe=i.memoizedState!==null,(i.stateNode.isHidden=oe)&&!me&&(i.mode&1)!==0)for(Ce=i,me=i.child;me!==null;){for(we=Ce=me;Ce!==null;){switch(pe=Ce,Ee=pe.child,pe.tag){case 0:case 11:case 14:case 15:Sc(4,pe,pe.return);break;case 1:Ba(pe,pe.return);var Ne=pe.stateNode;if(typeof Ne.componentWillUnmount=="function"){g=pe,d=pe.return;try{o=g,Ne.props=o.memoizedProps,Ne.state=o.memoizedState,Ne.componentWillUnmount()}catch(Le){It(g,d,Le)}}break;case 5:Ba(pe,pe.return);break;case 22:if(pe.memoizedState!==null){c0(we);continue}}Ee!==null?(Ee.return=pe,Ce=Ee):c0(we)}me=me.sibling}e:for(me=null,we=i;;){if(we.tag===5){if(me===null){me=we;try{x=we.stateNode,oe?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(V=we.stateNode,K=we.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null,V.style.display=io("display",j))}catch(Le){It(i,i.return,Le)}}}else if(we.tag===6){if(me===null)try{we.stateNode.nodeValue=oe?"":we.memoizedProps}catch(Le){It(i,i.return,Le)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===i)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===i)break e;for(;we.sibling===null;){if(we.return===null||we.return===i)break e;me===we&&(me=null),we=we.return}me===we&&(me=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:Ur(o,i),wi(i),g&4&&s0(i);break;case 21:break;default:Ur(o,i),wi(i)}}function wi(i){var o=i.flags;if(o&2){try{e:{for(var d=i.return;d!==null;){if(n0(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(Pn(x,""),g.flags&=-33);var S=r0(i);tp(i,S,x);break;case 3:case 4:var j=g.stateNode.containerInfo,V=r0(i);ep(i,V,j);break;default:throw Error(n(161))}}catch(K){It(i,i.return,K)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function WE(i,o,d){Ce=i,a0(i)}function a0(i,o,d){for(var g=(i.mode&1)!==0;Ce!==null;){var x=Ce,S=x.child;if(x.tag===22&&g){var j=x.memoizedState!==null||ud;if(!j){var V=x.alternate,K=V!==null&&V.memoizedState!==null||Sn;V=ud;var oe=Sn;if(ud=j,(Sn=K)&&!oe)for(Ce=x;Ce!==null;)j=Ce,K=j.child,j.tag===22&&j.memoizedState!==null?u0(x):K!==null?(K.return=j,Ce=K):u0(x);for(;S!==null;)Ce=S,a0(S),S=S.sibling;Ce=x,ud=V,Sn=oe}l0(i)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,Ce=S):l0(i)}}function l0(i){for(;Ce!==null;){var o=Ce;if((o.flags&8772)!==0){var d=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Sn||dd(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!Sn)if(d===null)g.componentDidMount();else{var x=o.elementType===o.type?d.memoizedProps:Br(o.type,d.memoizedProps);g.componentDidUpdate(x,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=o.updateQueue;S!==null&&cy(o,S,g);break;case 3:var j=o.updateQueue;if(j!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}cy(o,j,d)}break;case 5:var V=o.stateNode;if(d===null&&o.flags&4){d=V;var K=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&d.focus();break;case"img":K.src&&(d.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var oe=o.alternate;if(oe!==null){var me=oe.memoizedState;if(me!==null){var we=me.dehydrated;we!==null&&qn(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Sn||o.flags&512&&Qf(o)}catch(pe){It(o,o.return,pe)}}if(o===i){Ce=null;break}if(d=o.sibling,d!==null){d.return=o.return,Ce=d;break}Ce=o.return}}function c0(i){for(;Ce!==null;){var o=Ce;if(o===i){Ce=null;break}var d=o.sibling;if(d!==null){d.return=o.return,Ce=d;break}Ce=o.return}}function u0(i){for(;Ce!==null;){var o=Ce;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{dd(4,o)}catch(K){It(o,d,K)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var x=o.return;try{g.componentDidMount()}catch(K){It(o,x,K)}}var S=o.return;try{Qf(o)}catch(K){It(o,S,K)}break;case 5:var j=o.return;try{Qf(o)}catch(K){It(o,j,K)}}}catch(K){It(o,o.return,K)}if(o===i){Ce=null;break}var V=o.sibling;if(V!==null){V.return=o.return,Ce=V;break}Ce=o.return}}var HE=Math.ceil,hd=$.ReactCurrentDispatcher,np=$.ReactCurrentOwner,Sr=$.ReactCurrentBatchConfig,ot=0,on=null,Wt=null,cn=0,nr=0,Fa=js(0),Xt=0,kc=null,Co=0,fd=0,rp=0,Ec=null,Un=null,ip=0,Ua=1/0,qi=null,pd=!1,sp=null,zs=null,md=!1,Bs=null,gd=0,Pc=0,op=null,vd=-1,yd=0;function jn(){return(ot&6)!==0?Tt():vd!==-1?vd:vd=Tt()}function Fs(i){return(i.mode&1)===0?1:(ot&2)!==0&&cn!==0?cn&-cn:CE.transition!==null?(yd===0&&(yd=xu()),yd):(i=rt,i!==0||(i=window.event,i=i===void 0?16:nt(i.type)),i)}function $r(i,o,d,g){if(50<Pc)throw Pc=0,op=null,Error(n(185));Gn(i,d,g),((ot&2)===0||i!==on)&&(i===on&&((ot&2)===0&&(fd|=d),Xt===4&&Us(i,cn)),$n(i,g),d===1&&ot===0&&(o.mode&1)===0&&(Ua=Tt()+500,Ku&&Os()))}function $n(i,o){var d=i.callbackNode;aa(i,o);var g=pt(i,i===on?cn:0);if(g===0)d!==null&&Ul(d),i.callbackNode=null,i.callbackPriority=0;else if(o=g&-g,i.callbackPriority!==o){if(d!=null&&Ul(d),o===1)i.tag===0?TE(h0.bind(null,i)):Jv(h0.bind(null,i)),wn(function(){(ot&6)===0&&Os()}),d=null;else{switch(ms(g)){case 1:d=$l;break;case 4:d=_u;break;case 16:d=sa;break;case 536870912:d=ds;break;default:d=sa}d=_0(d,d0.bind(null,i))}i.callbackPriority=o,i.callbackNode=d}}function d0(i,o){if(vd=-1,yd=0,(ot&6)!==0)throw Error(n(327));var d=i.callbackNode;if($a()&&i.callbackNode!==d)return null;var g=pt(i,i===on?cn:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||o)o=wd(i,g);else{o=g;var x=ot;ot|=2;var S=p0();(on!==i||cn!==o)&&(qi=null,Ua=Tt()+500,No(i,o));do try{ZE();break}catch(V){f0(i,V)}while(!0);kf(),hd.current=S,ot=x,Wt!==null?o=0:(on=null,cn=0,o=Xt)}if(o!==0){if(o===2&&(x=vn(i),x!==0&&(g=x,o=ap(i,x))),o===1)throw d=kc,No(i,0),Us(i,g),$n(i,Tt()),d;if(o===6)Us(i,g);else{if(x=i.current.alternate,(g&30)===0&&!KE(x)&&(o=wd(i,g),o===2&&(S=vn(i),S!==0&&(g=S,o=ap(i,S))),o===1))throw d=kc,No(i,0),Us(i,g),$n(i,Tt()),d;switch(i.finishedWork=x,i.finishedLanes=g,o){case 0:case 1:throw Error(n(345));case 2:Ao(i,Un,qi);break;case 3:if(Us(i,g),(g&130023424)===g&&(o=ip+500-Tt(),10<o)){if(pt(i,0)!==0)break;if(x=i.suspendedLanes,(x&g)!==g){jn(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Yt(Ao.bind(null,i,Un,qi),o);break}Ao(i,Un,qi);break;case 4:if(Us(i,g),(g&4194240)===g)break;for(o=i.eventTimes,x=-1;0<g;){var j=31-Ze(g);S=1<<j,j=o[j],j>x&&(x=j),g&=~S}if(g=x,g=Tt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*HE(g/1960))-g,10<g){i.timeoutHandle=Yt(Ao.bind(null,i,Un,qi),g);break}Ao(i,Un,qi);break;case 5:Ao(i,Un,qi);break;default:throw Error(n(329))}}}return $n(i,Tt()),i.callbackNode===d?d0.bind(null,i):null}function ap(i,o){var d=Ec;return i.current.memoizedState.isDehydrated&&(No(i,o).flags|=256),i=wd(i,o),i!==2&&(o=Un,Un=d,o!==null&&lp(o)),i}function lp(i){Un===null?Un=i:Un.push.apply(Un,i)}function KE(i){for(var o=i;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var x=d[g],S=x.getSnapshot;x=x.value;try{if(!Xn(S(),x))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Us(i,o){for(o&=~rp,o&=~fd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var d=31-Ze(o),g=1<<d;i[d]=-1,o&=~g}}function h0(i){if((ot&6)!==0)throw Error(n(327));$a();var o=pt(i,0);if((o&1)===0)return $n(i,Tt()),null;var d=wd(i,o);if(i.tag!==0&&d===2){var g=vn(i);g!==0&&(o=g,d=ap(i,g))}if(d===1)throw d=kc,No(i,0),Us(i,o),$n(i,Tt()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ao(i,Un,qi),$n(i,Tt()),null}function cp(i,o){var d=ot;ot|=1;try{return i(o)}finally{ot=d,ot===0&&(Ua=Tt()+500,Ku&&Os())}}function Ro(i){Bs!==null&&Bs.tag===0&&(ot&6)===0&&$a();var o=ot;ot|=1;var d=Sr.transition,g=rt;try{if(Sr.transition=null,rt=1,i)return i()}finally{rt=g,Sr.transition=d,ot=o,(ot&6)===0&&Os()}}function up(){nr=Fa.current,wt(Fa)}function No(i,o){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,Vt(d)),Wt!==null)for(d=Wt.return;d!==null;){var g=d;switch(wf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Wu();break;case 3:Da(),wt(zn),wt(_n),jf();break;case 5:Nf(g);break;case 4:Da();break;case 13:wt(Rt);break;case 19:wt(Rt);break;case 10:Ef(g.type._context);break;case 22:case 23:up()}d=d.return}if(on=i,Wt=i=$s(i.current,null),cn=nr=o,Xt=0,kc=null,rp=fd=Co=0,Un=Ec=null,Eo!==null){for(o=0;o<Eo.length;o++)if(d=Eo[o],g=d.interleaved,g!==null){d.interleaved=null;var x=g.next,S=d.pending;if(S!==null){var j=S.next;S.next=x,g.next=j}d.pending=g}Eo=null}return i}function f0(i,o){do{var d=Wt;try{if(kf(),nd.current=od,rd){for(var g=Nt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}rd=!1}if(To=0,sn=Jt=Nt=null,yc=!1,wc=0,np.current=null,d===null||d.return===null){Xt=1,kc=o,Wt=null;break}e:{var S=i,j=d.return,V=d,K=o;if(o=cn,V.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var oe=K,me=V,we=me.tag;if((me.mode&1)===0&&(we===0||we===11||we===15)){var pe=me.alternate;pe?(me.updateQueue=pe.updateQueue,me.memoizedState=pe.memoizedState,me.lanes=pe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ee=zy(j);if(Ee!==null){Ee.flags&=-257,By(Ee,j,V,S,o),Ee.mode&1&&Dy(S,oe,o),o=Ee,K=oe;var Ne=o.updateQueue;if(Ne===null){var Le=new Set;Le.add(K),o.updateQueue=Le}else Ne.add(K);break e}else{if((o&1)===0){Dy(S,oe,o),dp();break e}K=Error(n(426))}}else if(xt&&V.mode&1){var Ut=zy(j);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),By(Ut,j,V,S,o),bf(za(K,V));break e}}S=K=za(K,V),Xt!==4&&(Xt=2),Ec===null?Ec=[S]:Ec.push(S),S=j;do{switch(S.tag){case 3:S.flags|=65536,o&=-o,S.lanes|=o;var Q=Iy(S,K,o);ly(S,Q);break e;case 1:V=K;var G=S.type,te=S.stateNode;if((S.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(zs===null||!zs.has(te)))){S.flags|=65536,o&=-o,S.lanes|=o;var xe=My(S,V,o);ly(S,xe);break e}}S=S.return}while(S!==null)}g0(d)}catch(Ie){o=Ie,Wt===d&&d!==null&&(Wt=d=d.return);continue}break}while(!0)}function p0(){var i=hd.current;return hd.current=od,i===null?od:i}function dp(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),on===null||(Co&268435455)===0&&(fd&268435455)===0||Us(on,cn)}function wd(i,o){var d=ot;ot|=2;var g=p0();(on!==i||cn!==o)&&(qi=null,No(i,o));do try{GE();break}catch(x){f0(i,x)}while(!0);if(kf(),ot=d,hd.current=g,Wt!==null)throw Error(n(261));return on=null,cn=0,Xt}function GE(){for(;Wt!==null;)m0(Wt)}function ZE(){for(;Wt!==null&&!Jh();)m0(Wt)}function m0(i){var o=w0(i.alternate,i,nr);i.memoizedProps=i.pendingProps,o===null?g0(i):Wt=o,np.current=null}function g0(i){var o=i;do{var d=o.alternate;if(i=o.return,(o.flags&32768)===0){if(d=FE(d,o,nr),d!==null){Wt=d;return}}else{if(d=UE(d,o),d!==null){d.flags&=32767,Wt=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Xt=6,Wt=null;return}}if(o=o.sibling,o!==null){Wt=o;return}Wt=o=i}while(o!==null);Xt===0&&(Xt=5)}function Ao(i,o,d){var g=rt,x=Sr.transition;try{Sr.transition=null,rt=1,qE(i,o,d,g)}finally{Sr.transition=x,rt=g}return null}function qE(i,o,d,g){do $a();while(Bs!==null);if((ot&6)!==0)throw Error(n(327));d=i.finishedWork;var x=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var S=d.lanes|d.childLanes;if(Ot(i,S),i===on&&(Wt=on=null,cn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||md||(md=!0,_0(sa,function(){return $a(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=Sr.transition,Sr.transition=null;var j=rt;rt=1;var V=ot;ot|=4,np.current=null,VE(i,d),o0(d,i),gr(De),po=!!ke,De=ke=null,i.current=d,WE(d),ia(),ot=V,rt=j,Sr.transition=S}else i.current=d;if(md&&(md=!1,Bs=i,gd=x),S=i.pendingLanes,S===0&&(zs=null),lo(d.stateNode),$n(i,Tt()),o!==null)for(g=i.onRecoverableError,d=0;d<o.length;d++)x=o[d],g(x.value,{componentStack:x.stack,digest:x.digest});if(pd)throw pd=!1,i=sp,sp=null,i;return(gd&1)!==0&&i.tag!==0&&$a(),S=i.pendingLanes,(S&1)!==0?i===op?Pc++:(Pc=0,op=i):Pc=0,Os(),null}function $a(){if(Bs!==null){var i=ms(gd),o=Sr.transition,d=rt;try{if(Sr.transition=null,rt=16>i?16:i,Bs===null)var g=!1;else{if(i=Bs,Bs=null,gd=0,(ot&6)!==0)throw Error(n(331));var x=ot;for(ot|=4,Ce=i.current;Ce!==null;){var S=Ce,j=S.child;if((Ce.flags&16)!==0){var V=S.deletions;if(V!==null){for(var K=0;K<V.length;K++){var oe=V[K];for(Ce=oe;Ce!==null;){var me=Ce;switch(me.tag){case 0:case 11:case 15:Sc(8,me,S)}var we=me.child;if(we!==null)we.return=me,Ce=we;else for(;Ce!==null;){me=Ce;var pe=me.sibling,Ee=me.return;if(t0(me),me===oe){Ce=null;break}if(pe!==null){pe.return=Ee,Ce=pe;break}Ce=Ee}}}var Ne=S.alternate;if(Ne!==null){var Le=Ne.child;if(Le!==null){Ne.child=null;do{var Ut=Le.sibling;Le.sibling=null,Le=Ut}while(Le!==null)}}Ce=S}}if((S.subtreeFlags&2064)!==0&&j!==null)j.return=S,Ce=j;else e:for(;Ce!==null;){if(S=Ce,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Sc(9,S,S.return)}var Q=S.sibling;if(Q!==null){Q.return=S.return,Ce=Q;break e}Ce=S.return}}var G=i.current;for(Ce=G;Ce!==null;){j=Ce;var te=j.child;if((j.subtreeFlags&2064)!==0&&te!==null)te.return=j,Ce=te;else e:for(j=G;Ce!==null;){if(V=Ce,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:dd(9,V)}}catch(Ie){It(V,V.return,Ie)}if(V===j){Ce=null;break e}var xe=V.sibling;if(xe!==null){xe.return=V.return,Ce=xe;break e}Ce=V.return}}if(ot=x,Os(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(ao,i)}catch{}g=!0}return g}finally{rt=d,Sr.transition=o}}return!1}function v0(i,o,d){o=za(d,o),o=Iy(i,o,1),i=Ms(i,o,1),o=jn(),i!==null&&(Gn(i,1,o),$n(i,o))}function It(i,o,d){if(i.tag===3)v0(i,i,d);else for(;o!==null;){if(o.tag===3){v0(o,i,d);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(zs===null||!zs.has(g))){i=za(d,i),i=My(o,i,1),o=Ms(o,i,1),i=jn(),o!==null&&(Gn(o,1,i),$n(o,i));break}}o=o.return}}function YE(i,o,d){var g=i.pingCache;g!==null&&g.delete(o),o=jn(),i.pingedLanes|=i.suspendedLanes&d,on===i&&(cn&d)===d&&(Xt===4||Xt===3&&(cn&130023424)===cn&&500>Tt()-ip?No(i,0):rp|=d),$n(i,o)}function y0(i,o){o===0&&((i.mode&1)===0?o=1:(o=fs,fs<<=1,(fs&130023424)===0&&(fs=4194304)));var d=jn();i=Ki(i,o),i!==null&&(Gn(i,o,d),$n(i,d))}function JE(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),y0(i,d)}function XE(i,o){var d=0;switch(i.tag){case 13:var g=i.stateNode,x=i.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(o),y0(i,d)}var w0;w0=function(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps||zn.current)Fn=!0;else{if((i.lanes&d)===0&&(o.flags&128)===0)return Fn=!1,BE(i,o,d);Fn=(i.flags&131072)!==0}else Fn=!1,xt&&(o.flags&1048576)!==0&&Xv(o,Zu,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;cd(i,o),i=o.pendingProps;var x=Na(o,_n.current);Ma(o,d),x=If(null,o,g,i,x,d);var S=Mf();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Bn(g)?(S=!0,Hu(o)):S=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Cf(o),x.updater=ad,o.stateNode=x,x._reactInternals=o,$f(o,g,i,d),o=Kf(null,o,g,!0,S,d)):(o.tag=0,xt&&S&&yf(o),An(null,o,x,d),o=o.child),o;case 16:g=o.elementType;e:{switch(cd(i,o),i=o.pendingProps,x=g._init,g=x(g._payload),o.type=g,x=o.tag=eP(g),i=Br(g,i),x){case 0:o=Hf(null,o,g,i,d);break e;case 1:o=Hy(null,o,g,i,d);break e;case 11:o=Fy(null,o,g,i,d);break e;case 14:o=Uy(null,o,g,Br(g.type,i),d);break e}throw Error(n(306,g,""))}return o;case 0:return g=o.type,x=o.pendingProps,x=o.elementType===g?x:Br(g,x),Hf(i,o,g,x,d);case 1:return g=o.type,x=o.pendingProps,x=o.elementType===g?x:Br(g,x),Hy(i,o,g,x,d);case 3:e:{if(Ky(o),i===null)throw Error(n(387));g=o.pendingProps,S=o.memoizedState,x=S.element,ay(i,o),ed(o,g,null,d);var j=o.memoizedState;if(g=j.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){x=za(Error(n(423)),o),o=Gy(i,o,g,d,x);break e}else if(g!==x){x=za(Error(n(424)),o),o=Gy(i,o,g,d,x);break e}else for(tr=gi(o.stateNode.containerInfo.firstChild),er=o,xt=!0,zr=null,d=sy(o,null,g,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(La(),g===x){o=Zi(i,o,d);break e}An(i,o,g,d)}o=o.child}return o;case 5:return uy(o),i===null&&xf(o),g=o.type,x=o.pendingProps,S=i!==null?i.memoizedProps:null,j=x.children,Ye(g,x)?j=null:S!==null&&Ye(g,S)&&(o.flags|=32),Wy(i,o),An(i,o,j,d),o.child;case 6:return i===null&&xf(o),null;case 13:return Zy(i,o,d);case 4:return Rf(o,o.stateNode.containerInfo),g=o.pendingProps,i===null?o.child=Oa(o,null,g,d):An(i,o,g,d),o.child;case 11:return g=o.type,x=o.pendingProps,x=o.elementType===g?x:Br(g,x),Fy(i,o,g,x,d);case 7:return An(i,o,o.pendingProps,d),o.child;case 8:return An(i,o,o.pendingProps.children,d),o.child;case 12:return An(i,o,o.pendingProps.children,d),o.child;case 10:e:{if(g=o.type._context,x=o.pendingProps,S=o.memoizedProps,j=x.value,mt(Ju,g._currentValue),g._currentValue=j,S!==null)if(Xn(S.value,j)){if(S.children===x.children&&!zn.current){o=Zi(i,o,d);break e}}else for(S=o.child,S!==null&&(S.return=o);S!==null;){var V=S.dependencies;if(V!==null){j=S.child;for(var K=V.firstContext;K!==null;){if(K.context===g){if(S.tag===1){K=Gi(-1,d&-d),K.tag=2;var oe=S.updateQueue;if(oe!==null){oe=oe.shared;var me=oe.pending;me===null?K.next=K:(K.next=me.next,me.next=K),oe.pending=K}}S.lanes|=d,K=S.alternate,K!==null&&(K.lanes|=d),Pf(S.return,d,o),V.lanes|=d;break}K=K.next}}else if(S.tag===10)j=S.type===o.type?null:S.child;else if(S.tag===18){if(j=S.return,j===null)throw Error(n(341));j.lanes|=d,V=j.alternate,V!==null&&(V.lanes|=d),Pf(j,d,o),j=S.sibling}else j=S.child;if(j!==null)j.return=S;else for(j=S;j!==null;){if(j===o){j=null;break}if(S=j.sibling,S!==null){S.return=j.return,j=S;break}j=j.return}S=j}An(i,o,x.children,d),o=o.child}return o;case 9:return x=o.type,g=o.pendingProps.children,Ma(o,d),x=xr(x),g=g(x),o.flags|=1,An(i,o,g,d),o.child;case 14:return g=o.type,x=Br(g,o.pendingProps),x=Br(g.type,x),Uy(i,o,g,x,d);case 15:return $y(i,o,o.type,o.pendingProps,d);case 17:return g=o.type,x=o.pendingProps,x=o.elementType===g?x:Br(g,x),cd(i,o),o.tag=1,Bn(g)?(i=!0,Hu(o)):i=!1,Ma(o,d),Ly(o,g,x),$f(o,g,x,d),Kf(null,o,g,!0,i,d);case 19:return Yy(i,o,d);case 22:return Vy(i,o,d)}throw Error(n(156,o.tag))};function _0(i,o){return wu(i,o)}function QE(i,o,d,g){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(i,o,d,g){return new QE(i,o,d,g)}function hp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function eP(i){if(typeof i=="function")return hp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ce)return 11;if(i===J)return 14}return 2}function $s(i,o){var d=i.alternate;return d===null?(d=kr(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function _d(i,o,d,g,x,S){var j=2;if(g=i,typeof i=="function")hp(i)&&(j=1);else if(typeof i=="string")j=5;else e:switch(i){case F:return jo(d.children,x,S,o);case M:j=8,x|=8;break;case ne:return i=kr(12,d,o,x|2),i.elementType=ne,i.lanes=S,i;case ye:return i=kr(13,d,o,x),i.elementType=ye,i.lanes=S,i;case ge:return i=kr(19,d,o,x),i.elementType=ge,i.lanes=S,i;case le:return xd(d,x,S,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ee:j=10;break e;case ae:j=9;break e;case ce:j=11;break e;case J:j=14;break e;case Z:j=16,g=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=kr(j,d,o,x),o.elementType=i,o.type=g,o.lanes=S,o}function jo(i,o,d,g){return i=kr(7,i,g,o),i.lanes=d,i}function xd(i,o,d,g){return i=kr(22,i,g,o),i.elementType=le,i.lanes=d,i.stateNode={isHidden:!1},i}function fp(i,o,d){return i=kr(6,i,null,o),i.lanes=d,i}function pp(i,o,d){return o=kr(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function tP(i,o,d,g,x){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ps(0),this.expirationTimes=ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ps(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function mp(i,o,d,g,x,S,j,V,K){return i=new tP(i,o,d,V,K),o===1?(o=1,S===!0&&(o|=8)):o=0,S=kr(3,null,null,o),i.current=S,S.stateNode=i,S.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cf(S),i}function nP(i,o,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:g==null?null:""+g,children:i,containerInfo:o,implementation:d}}function x0(i){if(!i)return Ls;i=i._reactInternals;e:{if(li(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Bn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(Bn(d))return qv(i,d,o)}return o}function b0(i,o,d,g,x,S,j,V,K){return i=mp(d,g,!0,i,x,S,j,V,K),i.context=x0(null),d=i.current,g=jn(),x=Fs(d),S=Gi(g,x),S.callback=o??null,Ms(d,S,x),i.current.lanes=x,Gn(i,x,g),$n(i,g),i}function bd(i,o,d,g){var x=o.current,S=jn(),j=Fs(x);return d=x0(d),o.context===null?o.context=d:o.pendingContext=d,o=Gi(S,j),o.payload={element:i},g=g===void 0?null:g,g!==null&&(o.callback=g),i=Ms(x,o,j),i!==null&&($r(i,x,j,S),Qu(i,x,j)),j}function Sd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function S0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function gp(i,o){S0(i,o),(i=i.alternate)&&S0(i,o)}function rP(){return null}var k0=typeof reportError=="function"?reportError:function(i){console.error(i)};function vp(i){this._internalRoot=i}kd.prototype.render=vp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));bd(i,o,null,null)},kd.prototype.unmount=vp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ro(function(){bd(null,i,null,null)}),o[ct]=null}};function kd(i){this._internalRoot=i}kd.prototype.unstable_scheduleHydration=function(i){if(i){var o=ua();i={blockedOn:null,target:i,priority:o};for(var d=0;d<qt.length&&o!==0&&o<qt[d].priority;d++);qt.splice(d,0,i),d===0&&da(i)}};function yp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ed(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function E0(){}function iP(i,o,d,g,x){if(x){if(typeof g=="function"){var S=g;g=function(){var oe=Sd(j);S.call(oe)}}var j=b0(o,g,i,0,null,!1,!1,"",E0);return i._reactRootContainer=j,i[ct]=j.current,Cs(i.nodeType===8?i.parentNode:i),Ro(),j}for(;x=i.lastChild;)i.removeChild(x);if(typeof g=="function"){var V=g;g=function(){var oe=Sd(K);V.call(oe)}}var K=mp(i,0,!1,null,null,!1,!1,"",E0);return i._reactRootContainer=K,i[ct]=K.current,Cs(i.nodeType===8?i.parentNode:i),Ro(function(){bd(o,K,d,g)}),K}function Pd(i,o,d,g,x){var S=d._reactRootContainer;if(S){var j=S;if(typeof x=="function"){var V=x;x=function(){var K=Sd(j);V.call(K)}}bd(o,j,i,x)}else j=iP(d,o,i,x,g);return Sd(j)}la=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var d=Ke(o.pendingLanes);d!==0&&(Lr(o,d|1),$n(o,Tt()),(ot&6)===0&&(Ua=Tt()+500,Os()))}break;case 13:Ro(function(){var g=Ki(i,1);if(g!==null){var x=jn();$r(g,i,1,x)}}),gp(i,1)}},Ai=function(i){if(i.tag===13){var o=Ki(i,134217728);if(o!==null){var d=jn();$r(o,i,134217728,d)}gp(i,134217728)}},ca=function(i){if(i.tag===13){var o=Fs(i),d=Ki(i,o);if(d!==null){var g=jn();$r(d,i,o,g)}gp(i,o)}},ua=function(){return rt},co=function(i,o){var d=rt;try{return rt=i,o()}finally{rt=d}},cs=function(i,o,d){switch(o){case"input":if(dt(i,d),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var g=d[o];if(g!==i&&g.form===i.form){var x=Ca(g);if(!x)throw Error(n(90));Te(g),dt(g,x)}}}break;case"textarea":ta(i,d);break;case"select":o=d.value,o!=null&&gn(i,!!d.multiple,o,!1)}},Ft=cp,rn=Ro;var sP={usingClientEntryPoint:!1,Events:[Ui,$i,Ca,Ge,Pt,cp]},Tc={findFiberByHostInstance:Fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oP={bundleType:Tc.bundleType,version:Tc.version,rendererPackageName:Tc.rendererPackageName,rendererConfig:Tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=vu(i),i===null?null:i.stateNode},findFiberByHostInstance:Tc.findFiberByHostInstance||rP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{ao=Td.inject(oP),Kn=Td}catch{}}return Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sP,Vn.createPortal=function(i,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yp(o))throw Error(n(200));return nP(i,o,null,d)},Vn.createRoot=function(i,o){if(!yp(i))throw Error(n(299));var d=!1,g="",x=k0;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=mp(i,1,!1,null,null,d,!1,g,x),i[ct]=o.current,Cs(i.nodeType===8?i.parentNode:i),new vp(o)},Vn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=vu(o),i=i===null?null:i.stateNode,i},Vn.flushSync=function(i){return Ro(i)},Vn.hydrate=function(i,o,d){if(!Ed(o))throw Error(n(200));return Pd(null,i,o,!0,d)},Vn.hydrateRoot=function(i,o,d){if(!yp(i))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,x=!1,S="",j=k0;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(j=d.onRecoverableError)),o=b0(o,null,i,1,d??null,x,!1,S,j),i[ct]=o.current,Cs(i),g)for(i=0;i<g.length;i++)d=g[i],x=d._getVersion,x=x(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,x]:o.mutableSourceEagerHydrationData.push(d,x);return new kd(o)},Vn.render=function(i,o,d){if(!Ed(o))throw Error(n(200));return Pd(null,i,o,!1,d)},Vn.unmountComponentAtNode=function(i){if(!Ed(i))throw Error(n(40));return i._reactRootContainer?(Ro(function(){Pd(null,null,i,!1,function(){i._reactRootContainer=null,i[ct]=null})}),!0):!1},Vn.unstable_batchedUpdates=cp,Vn.unstable_renderSubtreeIntoContainer=function(i,o,d,g){if(!Ed(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Pd(i,o,d,!1,g)},Vn.version="18.3.1-next-f1338f8080-20240426",Vn}var L0;function vx(){if(L0)return xp.exports;L0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xp.exports=mP(),xp.exports}var O0;function gP(){if(O0)return Cd;O0=1;var e=vx();return Cd.createRoot=e.createRoot,Cd.hydrateRoot=e.hydrateRoot,Cd}var vP=gP();const yP=bh(vP);/*! Capacitor: https://capacitorjs.com/ - MIT License */const wP=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},r=(l,c)=>{n.platforms.set(l,c)},a=l=>{n.platforms.has(l)&&(n.currentPlatform=n.platforms.get(l))};return n.addPlatform=r,n.setPlatform=a,n},_P=e=>e.CapacitorPlatforms=wP(e),yx=_P(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});yx.addPlatform;yx.setPlatform;var gl;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(gl||(gl={}));class kp extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const xP=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},bP=e=>{var t,n,r,a,l;const c=e.CapacitorCustomPlatform||null,h=e.Capacitor||{},f=h.Plugins=h.Plugins||{},m=e.CapacitorPlatforms,y=()=>c!==null?c.name:xP(e),w=((t=m==null?void 0:m.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||y,b=()=>w()!=="web",P=((n=m==null?void 0:m.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||b,C=F=>{const M=$.get(F);return!!(M!=null&&M.platforms.has(w())||N(F))},k=((r=m==null?void 0:m.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||C,R=F=>{var M;return(M=h.PluginHeaders)===null||M===void 0?void 0:M.find(ne=>ne.name===F)},N=((a=m==null?void 0:m.currentPlatform)===null||a===void 0?void 0:a.getPluginHeader)||R,O=F=>e.console.error(F),A=(F,M,ne)=>Promise.reject(`${ne} does not have an implementation of "${M}".`),$=new Map,z=(F,M={})=>{const ne=$.get(F);if(ne)return console.warn(`Capacitor plugin "${F}" already registered. Cannot register plugins twice.`),ne.proxy;const ee=w(),ae=N(F);let ce;const ye=async()=>(!ce&&ee in M?ce=typeof M[ee]=="function"?ce=await M[ee]():ce=M[ee]:c!==null&&!ce&&"web"in M&&(ce=typeof M.web=="function"?ce=await M.web():ce=M.web),ce),ge=(q,B)=>{var Y,ue;if(ae){const he=ae==null?void 0:ae.methods.find(ve=>B===ve.name);if(he)return he.rtype==="promise"?ve=>h.nativePromise(F,B.toString(),ve):(ve,U)=>h.nativeCallback(F,B.toString(),ve,U);if(q)return(Y=q[B])===null||Y===void 0?void 0:Y.bind(q)}else{if(q)return(ue=q[B])===null||ue===void 0?void 0:ue.bind(q);throw new kp(`"${F}" plugin is not implemented on ${ee}`,gl.Unimplemented)}},J=q=>{let B;const Y=(...ue)=>{const he=ye().then(ve=>{const U=ge(ve,q);if(U){const ie=U(...ue);return B=ie==null?void 0:ie.remove,ie}else throw new kp(`"${F}.${q}()" is not implemented on ${ee}`,gl.Unimplemented)});return q==="addListener"&&(he.remove=async()=>B()),he};return Y.toString=()=>`${q.toString()}() { [capacitor code] }`,Object.defineProperty(Y,"name",{value:q,writable:!1,configurable:!1}),Y},Z=J("addListener"),le=J("removeListener"),D=(q,B)=>{const Y=Z({eventName:q},B),ue=async()=>{const ve=await Y;le({eventName:q,callbackId:ve},B)},he=new Promise(ve=>Y.then(()=>ve({remove:ue})));return he.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ue()},he},re=new Proxy({},{get(q,B){switch(B){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return ae?D:Z;case"removeListener":return le;default:return J(B)}}});return f[F]=re,$.set(F,{name:F,proxy:re,platforms:new Set([...Object.keys(M),...ae?[ee]:[]])}),re},H=((l=m==null?void 0:m.currentPlatform)===null||l===void 0?void 0:l.registerPlugin)||z;return h.convertFileSrc||(h.convertFileSrc=F=>F),h.getPlatform=w,h.handleError=O,h.isNativePlatform=P,h.isPluginAvailable=k,h.pluginMethodNoop=A,h.registerPlugin=H,h.Exception=kp,h.DEBUG=!!h.DEBUG,h.isLoggingEnabled=!!h.isLoggingEnabled,h.platform=h.getPlatform(),h.isNative=h.isNativePlatform(),h},SP=e=>e.Capacitor=bP(e),vl=SP(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),xl=vl.registerPlugin;vl.Plugins;class wx{constructor(t){this.listeners={},this.retainedEventArguments={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const l=this.windowListeners[t];l&&!l.registered&&this.addWindowListener(l),r&&this.sendRetainedArgumentsForEvent(t);const c=async()=>this.removeListener(t,n);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const a=this.listeners[t];if(!a){if(r){let l=this.retainedEventArguments[t];l||(l=[]),l.push(n),this.retainedEventArguments[t]=l}return}a.forEach(l=>l(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new vl.Exception(t,gl.Unimplemented)}unavailable(t="not available"){return new vl.Exception(t,gl.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const a=r.indexOf(n);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const I0=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),M0=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class kP extends wx{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[a,l]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=M0(a).trim(),l=M0(l).trim(),n[a]=l}),n}async setCookie(t){try{const n=I0(t.key),r=I0(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,l=(t.path||"/").replace("path=",""),c=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${a}; path=${l}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}xl("CapacitorCookies",{web:()=>new kP});const EP=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const a=r.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},r.onerror=a=>n(a),r.readAsDataURL(e)}),PP=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,l,c)=>(a[l]=e[t[c]],a),{})},TP=(e,t=!0)=>e?Object.entries(e).reduce((r,a)=>{const[l,c]=a;let h,f;return Array.isArray(c)?(f="",c.forEach(m=>{h=t?encodeURIComponent(m):m,f+=`${l}=${h}&`}),f.slice(0,-1)):(h=t?encodeURIComponent(c):c,f=`${l}=${h}`),`${r}&${f}`},"").substr(1):null,CP=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=PP(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[c,h]of Object.entries(e.data||{}))l.set(c,h);n.body=l.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const l=new FormData;if(e.data instanceof FormData)e.data.forEach((h,f)=>{l.append(f,h)});else for(const h of Object.keys(e.data))l.append(h,e.data[h]);n.body=l;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(a.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class RP extends wx{async request(t){const n=CP(t,t.webFetchExtra),r=TP(t.params,t.shouldEncodeUrlParams),a=r?`${t.url}?${r}`:t.url,l=await fetch(a,n),c=l.headers.get("content-type")||"";let{responseType:h="text"}=l.ok?t:{};c.includes("application/json")&&(h="json");let f,m;switch(h){case"arraybuffer":case"blob":m=await l.blob(),f=await EP(m);break;case"json":f=await l.json();break;case"document":case"text":default:f=await l.text()}const y={};return l.headers.forEach((w,b)=>{y[b]=w}),{data:f,headers:y,status:l.status,url:l.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}xl("CapacitorHttp",{web:()=>new RP});var ym;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(ym||(ym={}));var D0;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(D0||(D0={}));const NP=xl("StatusBar");var z0;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(z0||(z0={}));var B0;(function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"})(B0||(B0={}));const AP=xl("Keyboard");/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var F0="popstate";function jP(e={}){function t(r,a){let{pathname:l,search:c,hash:h}=r.location;return wm("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Kc(a)}return OP(t,n,null,e)}function kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LP(){return Math.random().toString(36).substring(2,10)}function U0(e,t){return{usr:e.state,key:e.key,idx:t}}function wm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bl(t):t,state:n,key:t&&t.key||r||LP()}}function Kc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function OP(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,h="POP",f=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function w(){h="POP";let R=y(),N=R==null?null:R-m;m=R,f&&f({action:h,location:k.location,delta:N})}function b(R,N){h="PUSH";let O=wm(k.location,R,N);m=y()+1;let A=U0(O,m),$=k.createHref(O);try{c.pushState(A,"",$)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign($)}l&&f&&f({action:h,location:k.location,delta:1})}function P(R,N){h="REPLACE";let O=wm(k.location,R,N);m=y();let A=U0(O,m),$=k.createHref(O);c.replaceState(A,"",$),l&&f&&f({action:h,location:k.location,delta:0})}function C(R){return IP(R)}let k={get action(){return h},get location(){return e(a,c)},listen(R){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(F0,w),f=R,()=>{a.removeEventListener(F0,w),f=null}},createHref(R){return t(a,R)},createURL:C,encodeLocation(R){let N=C(R);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:P,go(R){return c.go(R)}};return k}function IP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),kt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Kc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function _x(e,t,n="/"){return MP(e,t,n,!1)}function MP(e,t,n,r){let a=typeof t=="string"?bl(t):t,l=Qi(a.pathname||"/",n);if(l==null)return null;let c=xx(e);DP(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let m=ZP(l);h=KP(c[f],m,r)}return h}function xx(e,t=[],n=[],r="",a=!1){let l=(c,h,f=a,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&f)return;kt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let w=Xi([r,y.relativePath]),b=n.concat(y);c.children&&c.children.length>0&&(kt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),xx(c.children,t,b,w,f)),!(c.path==null&&!c.index)&&t.push({path:w,score:WP(w,c.index),routesMeta:b})};return e.forEach((c,h)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,h);else for(let m of bx(c.path))l(c,h,!0,m)}),t}function bx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=bx(r.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...c),h.map(f=>e.startsWith("/")&&f===""?"/":f)}function DP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:HP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var zP=/^:[\w-]+$/,BP=3,FP=2,UP=1,$P=10,VP=-2,$0=e=>e==="*";function WP(e,t){let n=e.split("/"),r=n.length;return n.some($0)&&(r+=VP),t&&(r+=FP),n.filter(a=>!$0(a)).reduce((a,l)=>a+(zP.test(l)?BP:l===""?UP:$P),r)}function HP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function KP(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",w=ih({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),b=f.route;if(!w&&m&&n&&!r[r.length-1].route.index&&(w=ih({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!w)return null;Object.assign(a,w.params),c.push({params:a,pathname:Xi([l,w.pathname]),pathnameBase:XP(Xi([l,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(l=Xi([l,w.pathnameBase]))}return c}function ih(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=GP(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:w},b)=>{if(y==="*"){let C=h[b]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const P=h[b];return w&&!P?m[y]=void 0:m[y]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function GP(e,t=!1,n=!0){cr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function ZP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Sx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qP=e=>Sx.test(e);function YP(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?bl(e):e,l;if(n)if(qP(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),cr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=V0(n.substring(1),"/"):l=V0(n,t)}else l=t;return{pathname:l,search:QP(r),hash:eT(a)}}function V0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ep(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Pg(e){let t=JP(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Tg(e,t,n,r=!1){let a;typeof e=="string"?a=bl(e):(a={...e},kt(!a.pathname||!a.pathname.includes("?"),Ep("?","pathname","search",a)),kt(!a.pathname||!a.pathname.includes("#"),Ep("#","pathname","hash",a)),kt(!a.search||!a.search.includes("#"),Ep("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let w=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),w-=1;a.pathname=b.join("/")}h=w>=0?t[w]:"/"}let f=YP(a,h),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var Xi=e=>e.join("/").replace(/\/\/+/g,"/"),XP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,tT=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function nT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function rT(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ex(e,t){let n=e;if(typeof n!="string"||!Sx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(kx)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Qi(c.pathname,t);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{cr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Px=["POST","PUT","PATCH","DELETE"];new Set(Px);var iT=["GET",...Px];new Set(iT);var Sl=E.createContext(null);Sl.displayName="DataRouter";var Sh=E.createContext(null);Sh.displayName="DataRouterState";var sT=E.createContext(!1),Tx=E.createContext({isTransitioning:!1});Tx.displayName="ViewTransition";var oT=E.createContext(new Map);oT.displayName="Fetchers";var aT=E.createContext(null);aT.displayName="Await";var ur=E.createContext(null);ur.displayName="Navigation";var ou=E.createContext(null);ou.displayName="Location";var ei=E.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var Cg=E.createContext(null);Cg.displayName="RouteError";var Cx="REACT_ROUTER_ERROR",lT="REDIRECT",cT="ROUTE_ERROR_RESPONSE";function uT(e){if(e.startsWith(`${Cx}:${lT}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function dT(e){if(e.startsWith(`${Cx}:${cT}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new tT(t.status,t.statusText,t.data)}catch{}}function hT(e,{relative:t}={}){kt(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(ur),{hash:a,pathname:l,search:c}=au(e,{relative:t}),h=l;return n!=="/"&&(h=l==="/"?n:Xi([n,l])),r.createHref({pathname:h,search:c,hash:a})}function kl(){return E.useContext(ou)!=null}function ti(){return kt(kl(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(ou).location}var Rx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nx(e){E.useContext(ur).static||E.useLayoutEffect(e)}function mn(){let{isDataRoute:e}=E.useContext(ei);return e?PT():fT()}function fT(){kt(kl(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Sl),{basename:t,navigator:n}=E.useContext(ur),{matches:r}=E.useContext(ei),{pathname:a}=ti(),l=JSON.stringify(Pg(r)),c=E.useRef(!1);return Nx(()=>{c.current=!0}),E.useCallback((f,m={})=>{if(cr(c.current,Rx),!c.current)return;if(typeof f=="number"){n.go(f);return}let y=Tg(f,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Xi([t,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[t,n,l,a,e])}E.createContext(null);function pT(){let{matches:e}=E.useContext(ei),t=e[e.length-1];return t?t.params:{}}function au(e,{relative:t}={}){let{matches:n}=E.useContext(ei),{pathname:r}=ti(),a=JSON.stringify(Pg(n));return E.useMemo(()=>Tg(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function mT(e,t){return Ax(e,t)}function Ax(e,t,n,r,a){var O;kt(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=E.useContext(ur),{matches:c}=E.useContext(ei),h=c[c.length-1],f=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",w=h&&h.route;{let A=w&&w.path||"";Lx(m,!w||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=ti(),P;if(t){let A=typeof t=="string"?bl(t):t;kt(y==="/"||((O=A.pathname)==null?void 0:O.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${A.pathname}" was given in the \`location\` prop.`),P=A}else P=b;let C=P.pathname||"/",k=C;if(y!=="/"){let A=y.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let R=_x(e,{pathname:k});cr(w||R!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),cr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=_T(R&&R.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:Xi([y,l.encodeLocation?l.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?y:Xi([y,l.encodeLocation?l.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,n,r,a);return t&&N?E.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},N):N}function gT(){let e=ET(),t=nT(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:a},n):null,c)}var vT=E.createElement(gT,null),jx=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=dT(e.digest);n&&(e=n)}let t=e!==void 0?E.createElement(ei.Provider,{value:this.props.routeContext},E.createElement(Cg.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?E.createElement(yT,{error:e},t):t}};jx.contextType=sT;var Pp=new WeakMap;function yT({children:e,error:t}){let{basename:n}=E.useContext(ur);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=uT(t.digest);if(r){let a=Pp.get(t);if(a)throw a;let l=Ex(r.location,n);if(kx&&!Pp.get(t))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Pp.set(t,c),c}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function wT({routeContext:e,match:t,children:n}){let r=E.useContext(Sl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(ei.Provider,{value:e},n)}function _T(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n==null?void 0:n.errors;if(c!=null){let y=l.findIndex(w=>w.route.id&&(c==null?void 0:c[w.route.id])!==void 0);kt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,f=-1;if(n)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=y),w.route.id){let{loaderData:b,errors:P}=n,C=w.route.loader&&!b.hasOwnProperty(w.route.id)&&(!P||P[w.route.id]===void 0);if(w.route.lazy||C){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=n&&r?(y,w)=>{var b,P;r(y,{location:n.location,params:((P=(b=n.matches)==null?void 0:b[0])==null?void 0:P.params)??{},unstable_pattern:rT(n.matches),errorInfo:w})}:void 0;return l.reduceRight((y,w,b)=>{let P,C=!1,k=null,R=null;n&&(P=c&&w.route.id?c[w.route.id]:void 0,k=w.route.errorElement||vT,h&&(f<0&&b===0?(Lx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,R=null):f===b&&(C=!0,R=w.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,b+1)),O=()=>{let A;return P?A=k:C?A=R:w.route.Component?A=E.createElement(w.route.Component,null):w.route.element?A=w.route.element:A=y,E.createElement(wT,{match:w,routeContext:{outlet:y,matches:N,isDataRoute:n!=null},children:A})};return n&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?E.createElement(jx,{location:n.location,revalidation:n.revalidation,component:k,error:P,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:m}):O()},null)}function Rg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xT(e){let t=E.useContext(Sl);return kt(t,Rg(e)),t}function bT(e){let t=E.useContext(Sh);return kt(t,Rg(e)),t}function ST(e){let t=E.useContext(ei);return kt(t,Rg(e)),t}function Ng(e){let t=ST(e),n=t.matches[t.matches.length-1];return kt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function kT(){return Ng("useRouteId")}function ET(){var r;let e=E.useContext(Cg),t=bT("useRouteError"),n=Ng("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function PT(){let{router:e}=xT("useNavigate"),t=Ng("useNavigate"),n=E.useRef(!1);return Nx(()=>{n.current=!0}),E.useCallback(async(a,l={})=>{cr(n.current,Rx),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var W0={};function Lx(e,t,n){!t&&!W0[e]&&(W0[e]=!0,cr(!1,n))}E.memo(TT);function TT({routes:e,future:t,state:n,onError:r}){return Ax(e,void 0,n,r,t)}function Mc({to:e,replace:t,state:n,relative:r}){kt(kl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=E.useContext(ur);cr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=E.useContext(ei),{pathname:c}=ti(),h=mn(),f=Tg(e,Pg(l),c,r==="path"),m=JSON.stringify(f);return E.useEffect(()=>{h(JSON.parse(m),{replace:t,state:n,relative:r})},[h,m,r,t,n]),null}function nn(e){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CT({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){kt(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=e.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=bl(n));let{pathname:m="/",search:y="",hash:w="",state:b=null,key:P="default"}=n,C=E.useMemo(()=>{let k=Qi(m,h);return k==null?null:{location:{pathname:k,search:y,hash:w,state:b,key:P},navigationType:r}},[h,m,y,w,b,P,r]);return cr(C!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:E.createElement(ur.Provider,{value:f},E.createElement(ou.Provider,{children:t,value:C}))}function _m({children:e,location:t}){return mT(xm(e),t)}function xm(e,t=[]){let n=[];return E.Children.forEach(e,(r,a)=>{if(!E.isValidElement(r))return;let l=[...t,a];if(r.type===E.Fragment){n.push.apply(n,xm(r.props.children,l));return}kt(r.type===nn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=xm(r.props.children,l)),n.push(c)}),n}var Zd="get",qd="application/x-www-form-urlencoded";function kh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function RT(e){return kh(e)&&e.tagName.toLowerCase()==="button"}function NT(e){return kh(e)&&e.tagName.toLowerCase()==="form"}function AT(e){return kh(e)&&e.tagName.toLowerCase()==="input"}function jT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LT(e,t){return e.button===0&&(!t||t==="_self")&&!jT(e)}function bm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function OT(e,t){let n=bm(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(l=>{n.append(a,l)})}),n}var Rd=null;function IT(){if(Rd===null)try{new FormData(document.createElement("form"),0),Rd=!1}catch{Rd=!0}return Rd}var MT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tp(e){return e!=null&&!MT.has(e)?(cr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qd}"`),null):e}function DT(e,t){let n,r,a,l,c;if(NT(e)){let h=e.getAttribute("action");r=h?Qi(h,t):null,n=e.getAttribute("method")||Zd,a=Tp(e.getAttribute("enctype"))||qd,l=new FormData(e)}else if(RT(e)||AT(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||h.getAttribute("action");if(r=f?Qi(f,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||Zd,a=Tp(e.getAttribute("formenctype"))||Tp(h.getAttribute("enctype"))||qd,l=new FormData(h,e),!IT()){let{name:m,type:y,value:w}=e;if(y==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,w)}}else{if(kh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zd,r=null,a=qd,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ag(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zT(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Qi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function BT(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function UT(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await BT(l,n);return c.links?c.links():[]}return[]}));return HT(r.flat(1).filter(FT).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function H0(e,t,n,r,a,l){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,h=(f,m)=>{var y;return n[m].pathname!==f.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,m)=>c(f,m)||h(f,m)):l==="data"?t.filter((f,m)=>{var w;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function $T(e,t,{includeHydrateFallback:n}={}){return VT(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function VT(e){return[...new Set(e)]}function WT(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function HT(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(WT(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function Ox(){let e=E.useContext(Sl);return Ag(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function KT(){let e=E.useContext(Sh);return Ag(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jg=E.createContext(void 0);jg.displayName="FrameworkContext";function Ix(){let e=E.useContext(jg);return Ag(e,"You must render this element inside a <HydratedRouter> element"),e}function GT(e,t){let n=E.useContext(jg),[r,a]=E.useState(!1),[l,c]=E.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:w}=t,b=E.useRef(null);E.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let k=N=>{N.forEach(O=>{c(O.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return b.current&&R.observe(b.current),()=>{R.disconnect()}}},[e]),E.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let P=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:Rc(h,P),onBlur:Rc(f,C),onMouseEnter:Rc(m,P),onMouseLeave:Rc(y,C),onTouchStart:Rc(w,P)}]:[!1,b,{}]}function Rc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ZT({page:e,...t}){let{router:n}=Ox(),r=E.useMemo(()=>_x(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?E.createElement(YT,{page:e,matches:r,...t}):null}function qT(e){let{manifest:t,routeModules:n}=Ix(),[r,a]=E.useState([]);return E.useEffect(()=>{let l=!1;return UT(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function YT({page:e,matches:t,...n}){let r=ti(),{manifest:a,routeModules:l}=Ix(),{basename:c}=Ox(),{loaderData:h,matches:f}=KT(),m=E.useMemo(()=>H0(e,t,f,a,r,"data"),[e,t,f,a,r]),y=E.useMemo(()=>H0(e,t,f,a,r,"assets"),[e,t,f,a,r]),w=E.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let C=new Set,k=!1;if(t.forEach(N=>{var A;let O=a.routes[N.route.id];!O||!O.hasLoader||(!m.some($=>$.route.id===N.route.id)&&N.route.id in h&&((A=l[N.route.id])!=null&&A.shouldRevalidate)||O.hasClientLoader?k=!0:C.add(N.route.id))}),C.size===0)return[];let R=zT(e,c,"data");return k&&C.size>0&&R.searchParams.set("_routes",t.filter(N=>C.has(N.route.id)).map(N=>N.route.id).join(",")),[R.pathname+R.search]},[c,h,r,a,m,t,e,l]),b=E.useMemo(()=>$T(y,a),[y,a]),P=qT(y);return E.createElement(E.Fragment,null,w.map(C=>E.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>E.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),P.map(({key:C,link:k})=>E.createElement("link",{key:C,nonce:n.nonce,...k})))}function JT(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var XT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XT&&(window.__reactRouterVersion="7.11.0")}catch{}function QT({basename:e,children:t,unstable_useTransitions:n,window:r}){let a=E.useRef();a.current==null&&(a.current=jP({window:r,v5Compat:!0}));let l=a.current,[c,h]=E.useState({action:l.action,location:l.location}),f=E.useCallback(m=>{n===!1?h(m):E.startTransition(()=>h(m))},[n]);return E.useLayoutEffect(()=>l.listen(f),[l,f]),E.createElement(CT,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var Mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dx=E.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:h,target:f,to:m,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:b,...P},C){let{basename:k,unstable_useTransitions:R}=E.useContext(ur),N=typeof m=="string"&&Mx.test(m),O=Ex(m,k);m=O.to;let A=hT(m,{relative:a}),[$,z,H]=GT(r,P),F=rC(m,{replace:c,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:w,unstable_defaultShouldRevalidate:b,unstable_useTransitions:R});function M(ee){t&&t(ee),ee.defaultPrevented||F(ee)}let ne=E.createElement("a",{...P,...H,href:O.absoluteURL||A,onClick:O.isExternal||l?t:M,ref:JT(C,z),target:f,"data-discover":!N&&n==="render"?"true":void 0});return $&&!N?E.createElement(E.Fragment,null,ne,E.createElement(ZT,{page:A})):ne});Dx.displayName="Link";var eC=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:h,children:f,...m},y){let w=au(c,{relative:m.relative}),b=ti(),P=E.useContext(Sh),{navigator:C,basename:k}=E.useContext(ur),R=P!=null&&cC(w)&&h===!0,N=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,O=b.pathname,A=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(O=O.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&k&&(A=Qi(A,k)||A);const $=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let z=O===N||!a&&O.startsWith(N)&&O.charAt($)==="/",H=A!=null&&(A===N||!a&&A.startsWith(N)&&A.charAt(N.length)==="/"),F={isActive:z,isPending:H,isTransitioning:R},M=z?t:void 0,ne;typeof r=="function"?ne=r(F):ne=[r,z?"active":null,H?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ee=typeof l=="function"?l(F):l;return E.createElement(Dx,{...m,"aria-current":M,className:ne,ref:y,style:ee,to:c,viewTransition:h},typeof f=="function"?f(F):f)});eC.displayName="NavLink";var tC=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Zd,action:h,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:b,...P},C)=>{let{unstable_useTransitions:k}=E.useContext(ur),R=aC(),N=lC(h,{relative:m}),O=c.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&Mx.test(h),$=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let H=z.nativeEvent.submitter,F=(H==null?void 0:H.getAttribute("formmethod"))||c,M=()=>R(H||z.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:b});k&&n!==!1?E.startTransition(()=>M()):M()};return E.createElement("form",{ref:C,method:O,action:N,onSubmit:r?f:$,...P,"data-discover":!A&&e==="render"?"true":void 0})});tC.displayName="Form";function nC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zx(e){let t=E.useContext(Sl);return kt(t,nC(e)),t}function rC(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let m=mn(),y=ti(),w=au(e,{relative:l});return E.useCallback(b=>{if(LT(b,t)){b.preventDefault();let P=n!==void 0?n:Kc(y)===Kc(w),C=()=>m(e,{replace:P,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});f?E.startTransition(()=>C()):C()}},[y,m,w,n,r,t,e,a,l,c,h,f])}function iC(e){cr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=E.useRef(bm(e)),n=E.useRef(!1),r=ti(),a=E.useMemo(()=>OT(r.search,n.current?null:t.current),[r.search]),l=mn(),c=E.useCallback((h,f)=>{const m=bm(typeof h=="function"?h(new URLSearchParams(a)):h);n.current=!0,l("?"+m,f)},[l,a]);return[a,c]}var sC=0,oC=()=>`__${String(++sC)}__`;function aC(){let{router:e}=zx("useSubmit"),{basename:t}=E.useContext(ur),n=kT(),r=e.fetch,a=e.navigate;return E.useCallback(async(l,c={})=>{let{action:h,method:f,encType:m,formData:y,body:w}=DT(l,t);if(c.navigate===!1){let b=c.fetcherKey||oC();await r(b,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:w,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:w,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,t,n])}function lC(e,{relative:t}={}){let{basename:n}=E.useContext(ur),r=E.useContext(ei);kt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...au(e||".",{relative:t})},c=ti();if(e==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let y=h.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Xi([n,l.pathname])),Kc(l)}function cC(e,{relative:t}={}){let n=E.useContext(Tx);kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zx("useViewTransitionState"),a=au(e,{relative:t});if(!n.isTransitioning)return!1;let l=Qi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Qi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ih(a.pathname,c)!=null||ih(a.pathname,l)!=null}var El=vx();const Bx=bh(El);var uC=(e,t,n,r,a,l,c,h)=>{let f=document.documentElement,m=["light","dark"];function y(P){(Array.isArray(e)?e:[e]).forEach(C=>{let k=C==="class",R=k&&l?a.map(N=>l[N]||N):a;k?(f.classList.remove(...R),f.classList.add(l&&l[P]?l[P]:P)):f.setAttribute(C,P)}),w(P)}function w(P){h&&m.includes(P)&&(f.style.colorScheme=P)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)y(r);else try{let P=localStorage.getItem(t)||n,C=c&&P==="system"?b():P;y(C)}catch{}},dC=E.createContext(void 0),hC={setTheme:e=>{},themes:[]},fC=()=>{var e;return(e=E.useContext(dC))!=null?e:hC};E.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:l,value:c,themes:h,nonce:f,scriptProps:m})=>{let y=JSON.stringify([n,t,l,e,h,c,r,a]).slice(1,-1);return E.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${uC.toString()})(${y})`}})});function pC(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const mC=e=>{switch(e){case"success":return yC;case"info":return _C;case"warning":return wC;case"error":return xC;default:return null}},gC=Array(12).fill(0),vC=({visible:e,className:t})=>_e.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},_e.createElement("div",{className:"sonner-spinner"},gC.map((n,r)=>_e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),yC=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wC=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_C=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),xC=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),bC=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},_e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SC=()=>{const[e,t]=_e.useState(document.hidden);return _e.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Sm=1;class kC{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...a}=t,l=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Sm++,c=this.toasts.find(f=>f.id===l),h=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...t,id:l,title:r}),{...f,...t,id:l,dismissible:h,title:r}):f):this.addToast({title:r,...a,dismissible:h,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let l=r!==void 0,c;const h=a.then(async m=>{if(c=["resolve",m],_e.isValidElement(m))l=!1,this.create({id:r,type:"default",message:m});else if(PC(m)&&!m.ok){l=!1;const w=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,C=typeof w=="object"&&!_e.isValidElement(w)?w:{message:w};this.create({id:r,type:"error",description:b,...C})}else if(m instanceof Error){l=!1;const w=typeof n.error=="function"?await n.error(m):n.error,b=typeof n.description=="function"?await n.description(m):n.description,C=typeof w=="object"&&!_e.isValidElement(w)?w:{message:w};this.create({id:r,type:"error",description:b,...C})}else if(n.success!==void 0){l=!1;const w=typeof n.success=="function"?await n.success(m):n.success,b=typeof n.description=="function"?await n.description(m):n.description,C=typeof w=="object"&&!_e.isValidElement(w)?w:{message:w};this.create({id:r,type:"success",description:b,...C})}}).catch(async m=>{if(c=["reject",m],n.error!==void 0){l=!1;const y=typeof n.error=="function"?await n.error(m):n.error,w=typeof n.description=="function"?await n.description(m):n.description,P=typeof y=="object"&&!_e.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:w,...P})}}).finally(()=>{l&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((m,y)=>h.then(()=>c[0]==="reject"?y(c[1]):m(c[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||Sm++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Wn=new kC,EC=(e,t)=>{const n=(t==null?void 0:t.id)||Sm++;return Wn.addToast({title:e,...t,id:n}),n},PC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",TC=EC,CC=()=>Wn.toasts,RC=()=>Wn.getActiveToasts(),Re=Object.assign(TC,{success:Wn.success,info:Wn.info,warning:Wn.warning,error:Wn.error,custom:Wn.custom,message:Wn.message,promise:Wn.promise,dismiss:Wn.dismiss,loading:Wn.loading},{getHistory:CC,getToasts:RC});pC("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Nd(e){return e.label!==void 0}const NC=3,AC="24px",jC="16px",K0=4e3,LC=356,OC=14,IC=45,MC=200;function _i(...e){return e.filter(Boolean).join(" ")}function DC(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const zC=e=>{var t,n,r,a,l,c,h,f,m;const{invert:y,toast:w,unstyled:b,interacting:P,setHeights:C,visibleToasts:k,heights:R,index:N,toasts:O,expanded:A,removeToast:$,defaultRichColors:z,closeButton:H,style:F,cancelButtonStyle:M,actionButtonStyle:ne,className:ee="",descriptionClassName:ae="",duration:ce,position:ye,gap:ge,expandByDefault:J,classNames:Z,icons:le,closeButtonAriaLabel:D="Close toast"}=e,[re,q]=_e.useState(null),[B,Y]=_e.useState(null),[ue,he]=_e.useState(!1),[ve,U]=_e.useState(!1),[ie,fe]=_e.useState(!1),[be,Se]=_e.useState(!1),[Oe,Te]=_e.useState(!1),[it,at]=_e.useState(0),[qe,Et]=_e.useState(0),dt=_e.useRef(w.duration||ce||K0),zt=_e.useRef(null),st=_e.useRef(null),Bt=N===0,gn=N+1<=k,vt=w.type,dr=w.dismissible!==!1,ta=w.className||"",na=w.descriptionClassName||"",Cr=_e.useMemo(()=>R.findIndex(Ge=>Ge.toastId===w.id)||0,[R,w.id]),ss=_e.useMemo(()=>{var Ge;return(Ge=w.closeButton)!=null?Ge:H},[w.closeButton,H]),ii=_e.useMemo(()=>w.duration||ce||K0,[w.duration,ce]),os=_e.useRef(0),Pn=_e.useRef(0),Rr=_e.useRef(0),si=_e.useRef(null),[io,as]=ye.split("-"),so=_e.useMemo(()=>R.reduce((Ge,Pt,Ft)=>Ft>=Cr?Ge:Ge+Pt.height,0),[R,Cr]),ls=SC(),Nr=w.invert||y,Ri=vt==="loading";Pn.current=_e.useMemo(()=>Cr*ge+so,[Cr,so]),_e.useEffect(()=>{dt.current=ii},[ii]),_e.useEffect(()=>{he(!0)},[]),_e.useEffect(()=>{const Ge=st.current;if(Ge){const Pt=Ge.getBoundingClientRect().height;return Et(Pt),C(Ft=>[{toastId:w.id,height:Pt,position:w.position},...Ft]),()=>C(Ft=>Ft.filter(rn=>rn.toastId!==w.id))}},[C,w.id]),_e.useLayoutEffect(()=>{if(!ue)return;const Ge=st.current,Pt=Ge.style.height;Ge.style.height="auto";const Ft=Ge.getBoundingClientRect().height;Ge.style.height=Pt,Et(Ft),C(rn=>rn.find(_t=>_t.toastId===w.id)?rn.map(_t=>_t.toastId===w.id?{..._t,height:Ft}:_t):[{toastId:w.id,height:Ft,position:w.position},...rn])},[ue,w.title,w.description,C,w.id]);const In=_e.useCallback(()=>{U(!0),at(Pn.current),C(Ge=>Ge.filter(Pt=>Pt.toastId!==w.id)),setTimeout(()=>{$(w)},MC)},[w,$,C,Pn]);_e.useEffect(()=>{if(w.promise&&vt==="loading"||w.duration===1/0||w.type==="loading")return;let Ge;return A||P||ls?(()=>{if(Rr.current<os.current){const rn=new Date().getTime()-os.current;dt.current=dt.current-rn}Rr.current=new Date().getTime()})():(()=>{dt.current!==1/0&&(os.current=new Date().getTime(),Ge=setTimeout(()=>{w.onAutoClose==null||w.onAutoClose.call(w,w),In()},dt.current))})(),()=>clearTimeout(Ge)},[A,P,w,vt,ls,In]),_e.useEffect(()=>{w.delete&&In()},[In,w.delete]);function cs(){var Ge;if(le!=null&&le.loading){var Pt;return _e.createElement("div",{className:_i(Z==null?void 0:Z.loader,w==null||(Pt=w.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":vt==="loading"},le.loading)}return _e.createElement(vC,{className:_i(Z==null?void 0:Z.loader,w==null||(Ge=w.classNames)==null?void 0:Ge.loader),visible:vt==="loading"})}const Ar=w.icon||(le==null?void 0:le[vt])||mC(vt);var hr,oo;return _e.createElement("li",{tabIndex:0,ref:st,className:_i(ee,ta,Z==null?void 0:Z.toast,w==null||(t=w.classNames)==null?void 0:t.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[vt],w==null||(n=w.classNames)==null?void 0:n[vt]),"data-sonner-toast":"","data-rich-colors":(hr=w.richColors)!=null?hr:z,"data-styled":!(w.jsx||w.unstyled||b),"data-mounted":ue,"data-promise":!!w.promise,"data-swiped":Oe,"data-removed":ve,"data-visible":gn,"data-y-position":io,"data-x-position":as,"data-index":N,"data-front":Bt,"data-swiping":ie,"data-dismissible":dr,"data-type":vt,"data-invert":Nr,"data-swipe-out":be,"data-swipe-direction":B,"data-expanded":!!(A||J&&ue),style:{"--index":N,"--toasts-before":N,"--z-index":O.length-N,"--offset":`${ve?it:Pn.current}px`,"--initial-height":J?"auto":`${qe}px`,...F,...w.style},onDragEnd:()=>{fe(!1),q(null),si.current=null},onPointerDown:Ge=>{Ri||!dr||(zt.current=new Date,at(Pn.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(fe(!0),si.current={x:Ge.clientX,y:Ge.clientY}))},onPointerUp:()=>{var Ge,Pt,Ft;if(be||!dr)return;si.current=null;const rn=Number(((Ge=st.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),oi=Number(((Pt=st.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_t=new Date().getTime()-((Ft=zt.current)==null?void 0:Ft.getTime()),$t=re==="x"?rn:oi,ai=Math.abs($t)/_t;if(Math.abs($t)>=IC||ai>.11){at(Pn.current),w.onDismiss==null||w.onDismiss.call(w,w),Y(re==="x"?rn>0?"right":"left":oi>0?"down":"up"),In(),Se(!0);return}else{var Gt,Tn;(Gt=st.current)==null||Gt.style.setProperty("--swipe-amount-x","0px"),(Tn=st.current)==null||Tn.style.setProperty("--swipe-amount-y","0px")}Te(!1),fe(!1),q(null)},onPointerMove:Ge=>{var Pt,Ft,rn;if(!si.current||!dr||((Pt=window.getSelection())==null?void 0:Pt.toString().length)>0)return;const _t=Ge.clientY-si.current.y,$t=Ge.clientX-si.current.x;var ai;const Gt=(ai=e.swipeDirections)!=null?ai:DC(ye);!re&&(Math.abs($t)>1||Math.abs(_t)>1)&&q(Math.abs($t)>Math.abs(_t)?"x":"y");let Tn={x:0,y:0};const Zt=Pe=>1/(1.5+Math.abs(Pe)/20);if(re==="y"){if(Gt.includes("top")||Gt.includes("bottom"))if(Gt.includes("top")&&_t<0||Gt.includes("bottom")&&_t>0)Tn.y=_t;else{const Pe=_t*Zt(_t);Tn.y=Math.abs(Pe)<Math.abs(_t)?Pe:_t}}else if(re==="x"&&(Gt.includes("left")||Gt.includes("right")))if(Gt.includes("left")&&$t<0||Gt.includes("right")&&$t>0)Tn.x=$t;else{const Pe=$t*Zt($t);Tn.x=Math.abs(Pe)<Math.abs($t)?Pe:$t}(Math.abs(Tn.x)>0||Math.abs(Tn.y)>0)&&Te(!0),(Ft=st.current)==null||Ft.style.setProperty("--swipe-amount-x",`${Tn.x}px`),(rn=st.current)==null||rn.style.setProperty("--swipe-amount-y",`${Tn.y}px`)}},ss&&!w.jsx&&vt!=="loading"?_e.createElement("button",{"aria-label":D,"data-disabled":Ri,"data-close-button":!0,onClick:Ri||!dr?()=>{}:()=>{In(),w.onDismiss==null||w.onDismiss.call(w,w)},className:_i(Z==null?void 0:Z.closeButton,w==null||(r=w.classNames)==null?void 0:r.closeButton)},(oo=le==null?void 0:le.close)!=null?oo:bC):null,(vt||w.icon||w.promise)&&w.icon!==null&&((le==null?void 0:le[vt])!==null||w.icon)?_e.createElement("div",{"data-icon":"",className:_i(Z==null?void 0:Z.icon,w==null||(a=w.classNames)==null?void 0:a.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||cs():null,w.type!=="loading"?Ar:null):null,_e.createElement("div",{"data-content":"",className:_i(Z==null?void 0:Z.content,w==null||(l=w.classNames)==null?void 0:l.content)},_e.createElement("div",{"data-title":"",className:_i(Z==null?void 0:Z.title,w==null||(c=w.classNames)==null?void 0:c.title)},w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title),w.description?_e.createElement("div",{"data-description":"",className:_i(ae,na,Z==null?void 0:Z.description,w==null||(h=w.classNames)==null?void 0:h.description)},typeof w.description=="function"?w.description():w.description):null),_e.isValidElement(w.cancel)?w.cancel:w.cancel&&Nd(w.cancel)?_e.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||M,onClick:Ge=>{Nd(w.cancel)&&dr&&(w.cancel.onClick==null||w.cancel.onClick.call(w.cancel,Ge),In())},className:_i(Z==null?void 0:Z.cancelButton,w==null||(f=w.classNames)==null?void 0:f.cancelButton)},w.cancel.label):null,_e.isValidElement(w.action)?w.action:w.action&&Nd(w.action)?_e.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||ne,onClick:Ge=>{Nd(w.action)&&(w.action.onClick==null||w.action.onClick.call(w.action,Ge),!Ge.defaultPrevented&&In())},className:_i(Z==null?void 0:Z.actionButton,w==null||(m=w.classNames)==null?void 0:m.actionButton)},w.action.label):null)};function G0(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function BC(e,t){const n={};return[e,t].forEach((r,a)=>{const l=a===1,c=l?"--mobile-offset":"--offset",h=l?jC:AC;function f(m){["top","right","bottom","left"].forEach(y=>{n[`${c}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?n[`${c}-${m}`]=h:n[`${c}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):f(h)}),n}const FC=_e.forwardRef(function(t,n){const{invert:r,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:h,className:f,offset:m,mobileOffset:y,theme:w="light",richColors:b,duration:P,style:C,visibleToasts:k=NC,toastOptions:R,dir:N=G0(),gap:O=OC,icons:A,containerAriaLabel:$="Notifications"}=t,[z,H]=_e.useState([]),F=_e.useMemo(()=>Array.from(new Set([a].concat(z.filter(B=>B.position).map(B=>B.position)))),[z,a]),[M,ne]=_e.useState([]),[ee,ae]=_e.useState(!1),[ce,ye]=_e.useState(!1),[ge,J]=_e.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=_e.useRef(null),le=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=_e.useRef(null),re=_e.useRef(!1),q=_e.useCallback(B=>{H(Y=>{var ue;return(ue=Y.find(he=>he.id===B.id))!=null&&ue.delete||Wn.dismiss(B.id),Y.filter(({id:he})=>he!==B.id)})},[]);return _e.useEffect(()=>Wn.subscribe(B=>{if(B.dismiss){requestAnimationFrame(()=>{H(Y=>Y.map(ue=>ue.id===B.id?{...ue,delete:!0}:ue))});return}setTimeout(()=>{Bx.flushSync(()=>{H(Y=>{const ue=Y.findIndex(he=>he.id===B.id);return ue!==-1?[...Y.slice(0,ue),{...Y[ue],...B},...Y.slice(ue+1)]:[B,...Y]})})})}),[z]),_e.useEffect(()=>{if(w!=="system"){J(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:Y})=>{J(Y?"dark":"light")})}catch{B.addListener(({matches:ue})=>{try{J(ue?"dark":"light")}catch(he){console.error(he)}})}},[w]),_e.useEffect(()=>{z.length<=1&&ae(!1)},[z]),_e.useEffect(()=>{const B=Y=>{var ue;if(l.every(U=>Y[U]||Y.code===U)){var ve;ae(!0),(ve=Z.current)==null||ve.focus()}Y.code==="Escape"&&(document.activeElement===Z.current||(ue=Z.current)!=null&&ue.contains(document.activeElement))&&ae(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[l]),_e.useEffect(()=>{if(Z.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,re.current=!1)}},[Z.current]),_e.createElement("section",{ref:n,"aria-label":`${$} ${le}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((B,Y)=>{var ue;const[he,ve]=B.split("-");return z.length?_e.createElement("ol",{key:B,dir:N==="auto"?G0():N,tabIndex:-1,ref:Z,className:f,"data-sonner-toaster":!0,"data-sonner-theme":ge,"data-y-position":he,"data-lifted":ee&&z.length>1&&!c,"data-x-position":ve,style:{"--front-toast-height":`${((ue=M[0])==null?void 0:ue.height)||0}px`,"--width":`${LC}px`,"--gap":`${O}px`,...C,...BC(m,y)},onBlur:U=>{re.current&&!U.currentTarget.contains(U.relatedTarget)&&(re.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||re.current||(re.current=!0,D.current=U.relatedTarget)},onMouseEnter:()=>ae(!0),onMouseMove:()=>ae(!0),onMouseLeave:()=>{ce||ae(!1)},onDragEnd:()=>ae(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||ye(!0)},onPointerUp:()=>ye(!1)},z.filter(U=>!U.position&&Y===0||U.position===B).map((U,ie)=>{var fe,be;return _e.createElement(zC,{key:U.id,icons:A,index:ie,toast:U,defaultRichColors:b,duration:(fe=R==null?void 0:R.duration)!=null?fe:P,className:R==null?void 0:R.className,descriptionClassName:R==null?void 0:R.descriptionClassName,invert:r,visibleToasts:k,closeButton:(be=R==null?void 0:R.closeButton)!=null?be:h,interacting:ce,position:B,style:R==null?void 0:R.style,unstyled:R==null?void 0:R.unstyled,classNames:R==null?void 0:R.classNames,cancelButtonStyle:R==null?void 0:R.cancelButtonStyle,actionButtonStyle:R==null?void 0:R.actionButtonStyle,closeButtonAriaLabel:R==null?void 0:R.closeButtonAriaLabel,removeToast:q,toasts:z.filter(Se=>Se.position==U.position),heights:M.filter(Se=>Se.position==U.position),setHeights:ne,expandByDefault:c,gap:O,expanded:ee,swipeDirections:t.swipeDirections})})):null}))}),UC=({...e})=>{const{theme:t="system"}=fC();return v.jsx(FC,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};var xi=function(){return xi=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},xi.apply(this,arguments)};function Pl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function $C(e,t,n,r){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(y){try{m(r.next(y))}catch(w){c(w)}}function f(y){try{m(r.throw(y))}catch(w){c(w)}}function m(y){y.done?l(y.value):a(y.value).then(h,f)}m((r=r.apply(e,t||[])).next())})}function VC(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,l;r<a;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}const WC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Lg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class HC extends Lg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Z0 extends Lg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class q0 extends Lg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var km;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(km||(km={}));class KC{constructor(t,{headers:n={},customFetch:r,region:a=km.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=WC(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return $C(this,arguments,void 0,function*(n,r={}){var a;let l,c;try{const{headers:h,method:f,body:m,signal:y,timeout:w}=r;let b={},{region:P}=r;P||(P=this.region);const C=new URL(`${this.url}/${n}`);P&&P!=="any"&&(b["x-region"]=P,C.searchParams.set("forceFunctionRegion",P));let k;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",k=m):typeof m=="string"?(b["Content-Type"]="text/plain",k=m):typeof FormData<"u"&&m instanceof FormData?k=m:(b["Content-Type"]="application/json",k=JSON.stringify(m)):k=m;let R=y;w&&(c=new AbortController,l=setTimeout(()=>c.abort(),w),y?(R=c.signal,y.addEventListener("abort",()=>c.abort())):R=c.signal);const N=yield this.fetch(C.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),h),body:k,signal:R}).catch(z=>{throw new HC(z)}),O=N.headers.get("x-relay-error");if(O&&O==="true")throw new Z0(N);if(!N.ok)throw new q0(N);let A=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),$;return A==="application/json"?$=yield N.json():A==="application/octet-stream"||A==="application/pdf"?$=yield N.blob():A==="text/event-stream"?$=N:A==="multipart/form-data"?$=yield N.formData():$=yield N.text(),{data:$,error:null,response:N}}catch(h){return{data:null,error:h,response:h instanceof q0||h instanceof Z0?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var GC=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},ZC=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,h=null,f=null,m=l.status,y=l.statusText;if(l.ok){var w,b;if(n.method!=="HEAD"){var P;const N=await l.text();N===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((P=n.headers.get("Accept"))===null||P===void 0)&&P.includes("application/vnd.pgrst.plan+text"))?h=N:h=JSON.parse(N))}const k=(w=n.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),R=(b=l.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");k&&R&&R.length>1&&(f=parseInt(R[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var C;const k=await l.text();try{c=JSON.parse(k),Array.isArray(c)&&l.status===404&&(h=[],c=null,m=200,y="OK")}catch{l.status===404&&k===""?(m=204,y="No Content"):c={message:k}}if(c&&n.isMaybeSingle&&(!(c==null||(C=c.details)===null||C===void 0)&&C.includes("0 rows"))&&(c=null,m=200,y="OK"),c&&n.shouldThrowOnError)throw new GC(c)}return{error:c,data:h,count:f,status:m,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var c;let h="";const f=l==null?void 0:l.cause;if(f){var m,y,w,b;const C=(m=f==null?void 0:f.message)!==null&&m!==void 0?m:"",k=(y=f==null?void 0:f.code)!==null&&y!==void 0?y:"";h=`${(w=l==null?void 0:l.name)!==null&&w!==void 0?w:"FetchError"}: ${l==null?void 0:l.message}`,h+=`

Caused by: ${(b=f==null?void 0:f.name)!==null&&b!==void 0?b:"Error"}: ${C}`,k&&(h+=` (${k})`),f!=null&&f.stack&&(h+=`
${f.stack}`)}else{var P;h=(P=l==null?void 0:l.stack)!==null&&P!==void 0?P:""}return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},qC=class extends ZC{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"offset":`${r}.offset`,l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:l="text"}={}){var c;const h=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Y0=new RegExp("[,()]");var el=class extends qC{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Y0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Y0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let a="";r==="plain"?a="pl":r==="phrase"?a="ph":r==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},YC=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},a=n?"HEAD":"GET";let l=!1;const c=(e??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),r&&this.headers.append("Prefer",`count=${r}`),new el({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new el({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new el({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new el({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new el({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},JC=class Fx{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new YC(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Fx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:l}={}){var c;let h;const f=new URL(`${this.url}/rpc/${t}`);let m;r||a?(h=r?"HEAD":"GET",Object.entries(n).filter(([w,b])=>b!==void 0).map(([w,b])=>[w,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([w,b])=>{f.searchParams.append(w,b)})):(h="POST",m=n);const y=new Headers(this.headers);return l&&y.set("Prefer",`count=${l}`),new el({method:h,url:f,headers:y,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class XC{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const QC="2.89.0",eR=`realtime-js/${QC}`,Ux="1.0.0",tR="2.0.0",J0=Ux,Em=1e4,nR=1e3,rR=100;var Gs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gs||(Gs={}));var en;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(en||(en={}));var Zr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zr||(Zr={}));var Pm;(function(e){e.websocket="websocket"})(Pm||(Pm={}));var Fo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fo||(Fo={}));class iR{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const a=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var n,r;const a=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,n,r){var a,l;const c=t.topic,h=(a=t.ref)!==null&&a!==void 0?a:"",f=(l=t.join_ref)!==null&&l!==void 0?l:"",m=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(y).length===0?"":JSON.stringify(y);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+c.length+m.length+w.length,P=new ArrayBuffer(this.HEADER_LENGTH+b);let C=new DataView(P),k=0;C.setUint8(k++,this.KINDS.userBroadcastPush),C.setUint8(k++,f.length),C.setUint8(k++,h.length),C.setUint8(k++,c.length),C.setUint8(k++,m.length),C.setUint8(k++,w.length),C.setUint8(k++,n),Array.from(f,N=>C.setUint8(k++,N.charCodeAt(0))),Array.from(h,N=>C.setUint8(k++,N.charCodeAt(0))),Array.from(c,N=>C.setUint8(k++,N.charCodeAt(0))),Array.from(m,N=>C.setUint8(k++,N.charCodeAt(0))),Array.from(w,N=>C.setUint8(k++,N.charCodeAt(0)));var R=new Uint8Array(P.byteLength+r.byteLength);return R.set(new Uint8Array(P),0),R.set(new Uint8Array(r),P.byteLength),R.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[a,l,c,h,f]=r;return n({join_ref:a,ref:l,topic:c,event:h,payload:f})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),a=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,a)}}_decodeUserBroadcast(t,n,r){const a=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),h=n.getUint8(4);let f=this.HEADER_LENGTH+4;const m=r.decode(t.slice(f,f+a));f=f+a;const y=r.decode(t.slice(f,f+l));f=f+l;const w=r.decode(t.slice(f,f+c));f=f+c;const b=t.slice(f,t.byteLength),P=h===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,C={type:this.BROADCAST_EVENT,event:y,payload:P};return c>0&&(C.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class $x{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(gt||(gt={}));const X0=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((l,c)=>(l[c]=sR(c,e,t,a),l),{}):{}},sR=(e,t,n,r)=>{const a=t.find(h=>h.name===e),l=a==null?void 0:a.type,c=n[e];return l&&!r.includes(l)?Vx(l,c):Tm(c)},Vx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return cR(t,n)}switch(e){case gt.bool:return oR(t);case gt.float4:case gt.float8:case gt.int2:case gt.int4:case gt.int8:case gt.numeric:case gt.oid:return aR(t);case gt.json:case gt.jsonb:return lR(t);case gt.timestamp:return uR(t);case gt.abstime:case gt.date:case gt.daterange:case gt.int4range:case gt.int8range:case gt.money:case gt.reltime:case gt.text:case gt.time:case gt.timestamptz:case gt.timetz:case gt.tsrange:case gt.tstzrange:return Tm(t);default:return Tm(t)}},Tm=e=>e,oR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},aR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},cR=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let l;const c=e.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>Vx(t,h))}return e},uR=e=>typeof e=="string"?e.replace(" ","T"):e,Wx=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Cp{constructor(t,n,r={},a=Em){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Q0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Q0||(Q0={}));class Dc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dc.syncState(this.state,a,l,c),this.pendingDiffs.forEach(f=>{this.state=Dc.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Dc.syncDiff(this.state,a,l,c),h())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const l=this.cloneDeep(t),c=this.transformState(n),h={},f={};return this.map(l,(m,y)=>{c[m]||(f[m]=y)}),this.map(c,(m,y)=>{const w=l[m];if(w){const b=y.map(R=>R.presence_ref),P=w.map(R=>R.presence_ref),C=y.filter(R=>P.indexOf(R.presence_ref)<0),k=w.filter(R=>b.indexOf(R.presence_ref)<0);C.length>0&&(h[m]=C),k.length>0&&(f[m]=k)}else h[m]=y}),this.syncDiff(l,{joins:h,leaves:f},r,a)}static syncDiff(t,n,r,a){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(l,(h,f)=>{var m;const y=(m=t[h])!==null&&m!==void 0?m:[];if(t[h]=this.cloneDeep(f),y.length>0){const w=t[h].map(P=>P.presence_ref),b=y.filter(P=>w.indexOf(P.presence_ref)<0);t[h].unshift(...b)}r(h,y,f)}),this.map(c,(h,f)=>{let m=t[h];if(!m)return;const y=f.map(w=>w.presence_ref);m=m.filter(w=>y.indexOf(w.presence_ref)<0),t[h]=m,a(h,m,f),m.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ew;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ew||(ew={}));var zc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zc||(zc={}));var Ji;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ji||(Ji={}));class rl{constructor(t,n={config:{}},r){var a,l;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=en.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Cp(this,Zr.join,this.params,this.timeout),this.rejoinTimer=new $x(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=en.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=en.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zr.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Dc(this),this.broadcastEndpointURL=Wx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==en.closed){const{config:{broadcast:c,presence:h,private:f}}=this.params,m=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(P=>P.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[zc.PRESENCE]&&this.bindings[zc.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,w={},b={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(P=>t==null?void 0:t(Ji.CHANNEL_ERROR,P)),this._onClose(()=>t==null?void 0:t(Ji.CLOSED)),this.updateJoinPayload(Object.assign({config:b},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:P})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),P===void 0){t==null||t(Ji.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,R=(C=k==null?void 0:k.length)!==null&&C!==void 0?C:0,N=[];for(let O=0;O<R;O++){const A=k[O],{filter:{event:$,schema:z,table:H,filter:F}}=A,M=P&&P[O];if(M&&M.event===$&&rl.isFilterValueEqual(M.schema,z)&&rl.isFilterValueEqual(M.table,H)&&rl.isFilterValueEqual(M.filter,F))N.push(Object.assign(Object.assign({},A),{id:M.id}));else{this.unsubscribe(),this.state=en.errored,t==null||t(Ji.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ji.SUBSCRIBED);return}}).receive("error",P=>{this.state=en.errored,t==null||t(Ji.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(P).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ji.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===en.joined&&t===zc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const m=await h.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=t,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,f;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=en.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Cp(this,Zr.leave,{},t),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=en.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const a=new AbortController,l=setTimeout(()=>a.abort(),r),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),c}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Cp(this,t,n,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rR){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,l;const c=t.toLocaleLowerCase(),{close:h,error:f,leave:m,join:y}=Zr;if(r&&[h,f,m,y].indexOf(c)>=0&&r!==this._joinRef())return;let b=this._onMessage(c,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(P=>{var C,k,R;return((C=P.filter)===null||C===void 0?void 0:C.event)==="*"||((R=(k=P.filter)===null||k===void 0?void 0:k.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(P=>P.callback(b,r)):(l=this.bindings[c])===null||l===void 0||l.filter(P=>{var C,k,R,N,O,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in P){const $=P.id,z=(C=P.filter)===null||C===void 0?void 0:C.event;return $&&((k=n.ids)===null||k===void 0?void 0:k.includes($))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const $=(O=(N=P==null?void 0:P.filter)===null||N===void 0?void 0:N.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return $==="*"||$===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return P.type.toLocaleLowerCase()===c}).map(P=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:k,table:R,commit_timestamp:N,type:O,errors:A}=C;b=Object.assign(Object.assign({},{schema:k,table:R,commit_timestamp:N,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(C))}P.callback(b,r)})}_isClosed(){return this.state===en.closed}_isJoined(){return this.state===en.joined}_isJoining(){return this.state===en.joining}_isLeaving(){return this.state===en.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),l={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&rl.isEqual(a.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zr.close,{},t)}_onError(t){this._on(Zr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=en.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=X0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=X0(t.columns,t.old_record)),n}}const Rp=()=>{},Ad={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dR=[1e3,2e3,5e3,1e4],hR=1e4,fR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pR{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Em,this.transport=null,this.heartbeatIntervalMs=Ad.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rp,this.ref=0,this.reconnectTimer=null,this.vsn=J0,this.logger=Rp,this.conn=null,this.sendBuffer=[],this.serializer=new iR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Pm.websocket}`,this.httpEndpoint=Wx(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=XC.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gs.connecting:return Fo.Connecting;case Gs.open:return Fo.Open;case Gs.closing:return Fo.Closing;default:return Fo.Closed}}isConnected(){return this.connectionState()===Fo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(l=>l.topic===r);if(a)return a;{const l=new rl(`realtime:${t}`,n,this);return this.channels.push(l),l}}push(t){const{topic:n,event:r,payload:a,ref:l}=t,c=()=>{this.encode(t,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${r} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nR,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ad.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:l,ref:c}=n,h=c?`(${c})`:"",f=l.status||"";this.log("receive",`${f} ${r} ${a} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(a,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Gs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gs.open||this.conn.readyState===Gs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([fR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:eR};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Zr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $x(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ad.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,a,l,c,h,f,m,y,w,b,P;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Em,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Ad.HEARTBEAT_INTERVAL,this.worker=(l=t==null?void 0:t.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=t==null?void 0:t.heartbeatCallback)!==null&&h!==void 0?h:Rp,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:J0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:(C=>dR[C-1]||hR),this.vsn){case Ux:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:((C,k)=>k(JSON.stringify(C))),this.decode=(w=t==null?void 0:t.decode)!==null&&w!==void 0?w:((C,k)=>k(JSON.parse(C)));break;case tR:this.encode=(b=t==null?void 0:t.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(P=t==null?void 0:t.decode)!==null&&P!==void 0?P:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Gc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function mR(e,t,n){const r=new URL(t,e);if(n)for(const[a,l]of Object.entries(n))l!==void 0&&r.searchParams.set(a,l);return r.toString()}async function gR(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function vR(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:a,body:l,headers:c}){const h=mR(e.baseUrl,r,a),f=await gR(e.auth),m=await t(h,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...f,...c},body:l?JSON.stringify(l):void 0}),y=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),b=w&&y?JSON.parse(y):y;if(!m.ok){const P=w?b:void 0,C=P==null?void 0:P.error;throw new Gc((C==null?void 0:C.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:P})}return{status:m.status,headers:m.headers,data:b}}}}function jd(e){return e.join("")}var yR=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:jd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jd(e.namespace)}`}),!0}catch(t){if(t instanceof Gc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Gc&&n.status===409)return;throw n}}};function Va(e){return e.join("")}var wR=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Va(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Va(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Va(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Va(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Va(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Va(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Gc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Gc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},_R=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=vR({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new yR(this.client,t),this.tableOps=new wR(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Eh=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function At(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var xR=class extends Eh{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Cm=class extends Eh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Og=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bR=()=>Response,Rm=e=>{if(Array.isArray(e))return e.map(n=>Rm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[a]=Rm(r)}),t},SR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kR=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function ER(e,t){if(Zc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PR(e){var t=ER(e,"string");return Zc(t)=="symbol"?t:t+""}function TR(e,t,n){return(t=PR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(n),!0).forEach(function(r){TR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Np=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},CR=async(e,t,n)=>{e instanceof await bR()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const a=e.status||500,l=(r==null?void 0:r.statusCode)||a+"";t(new xR(Np(r),a,l))}).catch(r=>{t(new Cm(Np(r),r))}):t(new Cm(Np(e),e))},RR=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?a:(SR(r)?(a.headers=$e({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,t!=null&&t.duplex&&(a.duplex=t.duplex),$e($e({},a),n))};async function lu(e,t,n,r,a,l){return new Promise((c,h)=>{e(n,RR(t,r,a,l)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>CR(f,h,r))})}async function qc(e,t,n,r){return lu(e,"GET",t,n,r)}async function Gr(e,t,n,r,a){return lu(e,"POST",t,r,a,n)}async function Nm(e,t,n,r,a){return lu(e,"PUT",t,r,a,n)}async function NR(e,t,n,r){return lu(e,"HEAD",t,$e($e({},n),{},{noResolveJson:!0}),r)}async function Ig(e,t,n,r,a){return lu(e,"DELETE",t,r,a,n)}var AR=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(At(t))return{data:null,error:t};throw t}}};let Hx;Hx=Symbol.toStringTag;var jR=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Hx]="BlobDownloadBuilder",this.promise=null}asStream(){return new AR(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(At(t))return{data:null,error:t};throw t}}};const LR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var OR=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Og(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var a=this;try{let l;const c=$e($e({},nw),r);let h=$e($e({},a.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",a.encodeMetadata(f)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),f&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(f))):(l=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,f&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),r!=null&&r.headers&&(h=$e($e({},h),r.headers));const m=a._removeEmptyFolders(t),y=a._getFinalPath(m),w=await(e=="PUT"?Nm:Gr)(a.fetch,`${a.url}/object/${y}`,l,$e({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(At(l))return{data:null,error:l};throw l}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var a=this;const l=a._removeEmptyFolders(e),c=a._getFinalPath(l),h=new URL(a.url+`/object/upload/sign/${c}`);h.searchParams.set("token",t);try{let f;const m=$e({upsert:nw.upsert},r),y=$e($e({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",m.cacheControl)):(f=n,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{data:{path:l,fullPath:(await Nm(a.fetch,h.toString(),f,{headers:y})).Key},error:null}}catch(f){if(a.shouldThrowOnError)throw f;if(At(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const a=$e({},n.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const l=await Gr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:a}),c=new URL(n.url+l.url),h=c.searchParams.get("token");if(!h)throw new Eh("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Gr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(At(a))return{data:null,error:a};throw a}}async copy(e,t,n){var r=this;try{return{data:{path:(await Gr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(At(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,n){var r=this;try{let a=r._getFinalPath(e),l=await Gr(r.fetch,`${r.url}/object/sign/${a}`,$e({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${r.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(At(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,n){var r=this;try{const a=await Gr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(c=>$e($e({},c),{},{signedUrl:c.signedURL?encodeURI(`${r.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(At(a))return{data:null,error:a};throw a}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=r?`?${r}`:"",l=this._getFinalPath(e),c=()=>qc(this.fetch,`${this.url}/${n}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new jR(c,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Rm(await qc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await NR(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(At(r)&&r instanceof Cm){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&r.push(a);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&r.push(c);let h=r.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${h}`)}}}async remove(e){var t=this;try{return{data:await Ig(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const a=$e($e($e({},LR),t),{},{prefix:e||""});return{data:await Gr(r.fetch,`${r.url}/object/list/${r.bucketId}`,a,{headers:r.headers},n),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(At(a))return{data:null,error:a};throw a}}async listV2(e,t){var n=this;try{const r=$e({},e);return{data:await Gr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Kx="2.89.0",Gx={"X-Client-Info":`storage-js/${Kx}`};var IR=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const a=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=$e($e({},Gx),t),this.fetch=Og(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await qc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await qc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Gr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Nm(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Ig(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},MR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$e($e({},Gx),t),this.fetch=Og(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),a=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await qc(t.fetch,a,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Ig(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!kR(e))throw new Eh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new _R({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(a,l){const c=a[l];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(a,h),error:null}}catch(f){if(r)throw f;return{data:null,error:f}}}}})}};const Mg={"X-Client-Info":`storage-js/${Kx}`,"Content-Type":"application/json"};var Zx=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function sr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Ap=class extends Zx{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},DR=class extends Zx{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Dg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BR=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,a=e;if(typeof a.json=="function")a.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||r+"";t(new Ap(rw(l),r,c))}).catch(()=>{const l=r+"";t(new Ap(a.statusText||`HTTP ${r} error`,r,l))});else{const l=r+"";t(new Ap(a.statusText||`HTTP ${r} error`,r,l))}}else t(new DR(rw(e),e))},FR=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(zR(r)?(a.headers=$e({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,$e($e({},a),n)):a};async function UR(e,t,n,r,a,l){return new Promise((c,h)=>{e(n,FR(t,r,a,l)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>BR(f,h,r))})}async function or(e,t,n,r,a){return UR(e,"POST",t,r,a,n)}var $R=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$e($e({},Mg),t),this.fetch=Dg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await or(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await or(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await or(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await or(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}},VR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$e($e({},Mg),t),this.fetch=Dg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await or(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await or(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await or(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await or(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await or(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}},WR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$e($e({},Mg),t),this.fetch=Dg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await or(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await or(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await or(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await or(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}},HR=class extends WR{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new KR(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},KR=class extends $R{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,$e($e({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,$e($e({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new GR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},GR=class extends VR{constructor(e,t,n,r,a){super(e,t,a),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,$e($e({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,$e($e({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,$e($e({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,$e($e({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,$e($e({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},ZR=class extends IR{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new OR(this.url,this.headers,e,this.fetch)}get vectors(){return new HR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new MR(this.url+"/iceberg",this.headers,this.fetch)}};const qx="2.89.0",tl=30*1e3,Am=3,jp=Am*tl,qR="http://localhost:9999",YR="supabase.auth.token",JR={"X-Client-Info":`gotrue-js/${qx}`},jm="X-Supabase-Api-Version",Yx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QR=600*1e3;class Yc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class eN extends Yc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function tN(e){return Me(e)&&e.name==="AuthApiError"}class Uo extends Yc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class is extends Yc{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class rr extends is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nN(e){return Me(e)&&e.name==="AuthSessionMissingError"}class Wa extends is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ld extends is{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Od extends is{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rN(e){return Me(e)&&e.name==="AuthImplicitGrantRedirectError"}class iw extends is{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iN extends is{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Lm extends is{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Lp(e){return Me(e)&&e.name==="AuthRetryableFetchError"}class sw extends is{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Om extends is{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ow=` 	
\r=`.split(""),sN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ow.length;t+=1)e[ow[t].charCodeAt(0)]=-2;for(let t=0;t<sh.length;t+=1)e[sh[t].charCodeAt(0)]=t;return e})();function aw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(sh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(sh[r]),t.queuedBits-=6}}function Jx(e,t,n){const r=sN[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function lw(e){const t=[],n=c=>{t.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{lN(c,r,n)};for(let c=0;c<e.length;c+=1)Jx(e.charCodeAt(c),a,l);return t.join("")}function oN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function aN(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}oN(r,t)}}function lN(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function cl(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Jx(e.charCodeAt(a),n,r);return new Uint8Array(t)}function cN(e){const t=[];return aN(e,n=>t.push(n)),new Uint8Array(t)}function $o(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>aw(a,n,r)),aw(null,n,r),t.join("")}function uN(e){return Math.round(Date.now()/1e3)+e}function dN(){return Symbol("auth-callback")}const hn=()=>typeof window<"u"&&typeof document<"u",Lo={tested:!1,writable:!1},Xx=()=>{if(!hn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Lo.tested)return Lo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Lo.tested=!0,Lo.writable=!0}catch{Lo.tested=!0,Lo.writable=!1}return Lo.writable};function hN(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{t[l]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const Qx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Oo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},un=async(e,t)=>{await e.removeItem(t)};class Ph{constructor(){this.promise=new Ph.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ph.promiseConstructor=Promise;function Op(e){const t=e.split(".");if(t.length!==3)throw new Om("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!XR.test(t[r]))throw new Om("JWT not in base64url format");return{header:JSON.parse(lw(t[0])),payload:JSON.parse(lw(t[1])),signature:cl(t[2]),raw:{header:t[0],payload:t[1]}}}async function pN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mN(e,t){return new Promise((r,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await e(l);if(!t(l,null,c)){r(c);return}}catch(c){if(!t(l,c)){a(c);return}}})()})}function gN(e){return("0"+e.toString(16)).substr(-2)}function vN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,gN).join("")}async function yN(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function wN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await yN(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ha(e,t,n=!1){const r=vN();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await nl(e,`${t}-code-verifier`,a);const l=await wN(r);return[l,r===l?"plain":"s256"]}const _N=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xN(e){const t=e.headers.get(jm);if(!t||!t.match(_N))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function SN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ka(e){if(!kN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ip(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function EN(e,t){return new Proxy(e,{get:(n,r,a)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,a)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,a)}})}function cw(e){return JSON.parse(JSON.stringify(e))}const zo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),PN=[502,503,504];async function uw(e){var t;if(!fN(e))throw new Lm(zo(e),0);if(PN.includes(e.status))throw new Lm(zo(e),e.status);let n;try{n=await e.json()}catch(l){throw new Uo(zo(l),l)}let r;const a=xN(e);if(a&&a.getTime()>=Yx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sw(zo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new rr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new sw(zo(n),e.status,n.weak_password.reasons);throw new eN(zo(n),e.status||500,r)}const TN=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function Ue(e,t,n,r){var a;const l=Object.assign({},r==null?void 0:r.headers);l[jm]||(l[jm]=Yx["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await CN(e,t,n+h,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function CN(e,t,n,r,a,l){const c=TN(t,r,a,l);let h;try{h=await e(n,Object.assign({},c))}catch(f){throw console.error(f),new Lm(zo(f),0)}if(h.ok||await uw(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(f){await uw(f)}}function Wr(e){var t;let n=null;AN(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=uN(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function dw(e){const t=Wr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function RN(e){return{data:e,error:null}}function NN(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:l}=e,c=Pl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:l},f=Object.assign({},c);return{data:{properties:h,user:f},error:null}}function hw(e){return e}function AN(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mp=["global","local","others"];class jN{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Qx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Mp[0]){if(Mp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mp.join(", ")}`);try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zs})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Pl(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:NN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zs})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,l,c,h,f;try{const m={nextPage:null,lastPage:0,total:0},y=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:hw});if(y.error)throw y.error;const w=await y.json(),b=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,P=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return P.length>0&&(P.forEach(C=>{const k=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(C.split(";")[1].split("=")[1]);m[`${R}Page`]=k}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Me(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Ka(t);try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zs})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ka(t);try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Zs})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ka(t);try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zs})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ka(t.userId);try{const{data:n,error:r}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ka(t.userId),Ka(t.id);try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,a,l,c,h,f;try{const m={nextPage:null,lastPage:0,total:0},y=await Ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:hw});if(y.error)throw y.error;const w=await y.json(),b=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,P=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return P.length>0&&(P.forEach(C=>{const k=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(C.split(";")[1].split("=")[1]);m[`${R}Page`]=k}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Me(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await Ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}}function fw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ga={debug:!!(globalThis&&Xx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class LN extends eb{}async function ON(e,t,n){Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new LN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ga.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function IN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function MN(e){return parseInt(e,16)}function DN(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function zN(e){var t;const{chainId:n,domain:r,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:f,resources:m,scheme:y,uri:w,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const P=tb(e.address),C=y?`${y}://${r}`:r,k=e.statement?`${e.statement}
`:"",R=`${C} wants you to sign in with your Ethereum account:
${P}

${k}`;let N=`URI: ${w}
Version: ${b}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),h&&(N+=`
Not Before: ${h.toISOString()}`),f&&(N+=`
Request ID: ${f}`),m){let O=`
Resources:`;for(const A of m){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}N+=O}return`${R}
${N}`}class Ht extends Error{constructor({message:t,code:n,cause:r,name:a}){var l;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=a??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class oh extends Ht{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function BN({error:e,options:t}){var n,r,a;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(nb(c)){if(l.rp.id!==c)return new Ht({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function FN({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(nb(r)){if(n.rpId!==r)return new Ht({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class UN{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const $N=new UN;function VN(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,a=Pl(e,["challenge","user","excludeCredentials"]),l=cl(t).buffer,c=Object.assign(Object.assign({},n),{id:cl(n.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:c});if(r&&r.length>0){h.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const m=r[f];h.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:cl(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function WN(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Pl(e,["challenge","allowCredentials"]),a=cl(t).buffer,l=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:cl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function HN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:$o(new Uint8Array(e.response.attestationObject)),clientDataJSON:$o(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function KN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:$o(new Uint8Array(a.authenticatorData)),clientDataJSON:$o(new Uint8Array(a.clientDataJSON)),signature:$o(new Uint8Array(a.signature)),userHandle:a.userHandle?$o(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function nb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function pw(){var e,t;return!!(hn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function GN(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oh("Browser returned unexpected credential type",t)}:{data:null,error:new oh("Empty credential response",t)}}catch(t){return{data:null,error:BN({error:t,options:e})}}}async function ZN(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oh("Browser returned unexpected credential type",t)}:{data:null,error:new oh("Empty credential response",t)}}catch(t){return{data:null,error:FN({error:t,options:e})}}}const qN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},YN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ah(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(const a of e)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))r[l]=c;else if(n(c))r[l]=c;else if(t(c)){const h=r[l];t(h)?r[l]=ah(h,c):r[l]=ah(c)}else r[l]=c}return r}function JN(e,t){return ah(qN,e,t||{})}function XN(e,t){return ah(YN,e,t||{})}class QN{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:a},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:h};const f=a??$N.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${r}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=JN(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:w}=await GN({publicKey:m,signal:f});return y?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}case"request":{const m=XN(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:w}=await ZN(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:f}));return y?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}}}catch(c){return Me(c)?{data:null,error:c}:{data:null,error:new Uo("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Yc("rpId is required for WebAuthn authentication")};try{if(!pw())return{data:null,error:new Uo("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:a},{request:l});if(!c)return{data:null,error:h};const{webauthn:f}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(c){return Me(c)?{data:null,error:c}:{data:null,error:new Uo("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Yc("rpId is required for WebAuthn registration")};try{if(!pw())return{data:null,error:new Uo("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(y=>{var w;return(w=y.data)===null||w===void 0?void 0:w.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:h};const{data:f,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:a},{create:l});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(c){return Me(c)?{data:null,error:c}:{data:null,error:new Uo("Unexpected error in register",c)}}}}IN();const eA={url:qR,storageKey:YR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function mw(e,t,n){return await n()}const Za={};class Jc{get jwks(){var t,n;return(n=(t=Za[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Za[this.storageKey]=Object.assign(Object.assign({},Za[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Za[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Za[this.storageKey]=Object.assign(Object.assign({},Za[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},eA),t);if(this.storageKey=l.storageKey,this.instanceID=(n=Jc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Jc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&hn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new jN({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Qx(l.fetch),this.lock=l.lock||mw,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&hn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ON:this.lock=mw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new QN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Xx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fw(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=fw(this.memoryStorage)),hn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${qx}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(hn()&&(n=hN(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),hn()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),rN(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Me(n)?this._returnResult({error:n}):this._returnResult({error:new Uo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const l=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Wr}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(Me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var n,r,a;try{let l;if("email"in t){const{email:y,password:w,options:b}=t;let P=null,C=null;this.flowType==="pkce"&&([P,C]=await Ha(this.storage,this.storageKey)),l=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:y,password:w,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:P,code_challenge_method:C},xform:Wr})}else if("phone"in t){const{phone:y,password:w,options:b}=t;l=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Wr})}else throw new Ld("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return await un(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(await un(this.storage,`${this.storageKey}-code-verifier`),Me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:c,options:h}=t;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:dw})}else if("phone"in t){const{phone:l,password:c,options:h}=t;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:dw})}else throw new Ld("You must provide either an email or phone number and a password");const{data:r,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!r||!r.session||!r.user){const l=new Wa;return this._returnResult({data:{user:null,session:null},error:l})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(Me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,a,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,a,l,c,h,f,m,y,w,b;let P,C;if("message"in t)P=t.message,C=t.signature;else{const{chain:k,wallet:R,statement:N,options:O}=t;let A;if(hn())if(typeof R=="object")A=R;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")A=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=R}const $=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href),z=await A.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=tb(z[0]);let F=(r=O==null?void 0:O.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!F){const ne=await A.request({method:"eth_chainId"});F=MN(ne)}const M={domain:$.host,address:H,statement:N,uri:$.href,version:"1",chainId:F,nonce:(a=O==null?void 0:O.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=O==null?void 0:O.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=O==null?void 0:O.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=O==null?void 0:O.signInWithEthereum)===null||y===void 0?void 0:y.resources};P=zN(M),C=await A.request({method:"personal_sign",params:[DN(P),H]})}try{const{data:k,error:R}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:P,signature:C},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Wr});if(R)throw R;if(!k||!k.session||!k.user){const N=new Wa;return this._returnResult({data:{user:null,session:null},error:N})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:R})}catch(k){if(Me(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var n,r,a,l,c,h,f,m,y,w,b,P;let C,k;if("message"in t)C=t.message,k=t.signature;else{const{chain:R,wallet:N,statement:O,options:A}=t;let $;if(hn())if(typeof N=="object")$=N;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))$=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=N}const z=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const H=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),O?{statement:O}:null));let F;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")F=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)F=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)C=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),k=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${z.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(a=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((m=A==null?void 0:A.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((w=(y=A==null?void 0:A.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...A.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const H=await $.signMessage(new TextEncoder().encode(C),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=H}}try{const{data:R,error:N}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:$o(k)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(P=t.options)===null||P===void 0?void 0:P.captchaToken}}:null),xform:Wr});if(N)throw N;if(!R||!R.session||!R.user){const O=new Wa;return this._returnResult({data:{user:null,session:null},error:O})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:N})}catch(R){if(Me(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(t){const n=await Oo(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new iN;const{data:l,error:c}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Wr});if(await un(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new Wa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await un(this.storage,`${this.storageKey}-code-verifier`),Me(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:l,nonce:c}=t,h=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Wr}),{data:f,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const y=new Wa;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(n){if(Me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,a,l,c;try{if("email"in t){const{email:h,options:f}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ha(this.storage,this.storageKey));const{error:w}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:h,options:f}=t,{data:m,error:y}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y})}throw new Ld("You must provide either an email or phone number.")}catch(h){if(await un(this.storage,`${this.storageKey}-code-verifier`),Me(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var n,r;try{let a,l;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:h}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Wr});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,m=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(Me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var n,r,a,l,c;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Ha(this.storage,this.storageKey));const m=await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:RN});return!((l=m.data)===null||l===void 0)&&l.url&&hn()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await un(this.storage,`${this.storageKey}-code-verifier`),Me(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new rr;const{error:a}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:l}=t,{error:c}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:r,type:a,options:l}=t,{data:c,error:h}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new Ld("You must provide either an email or phone number and a type")}catch(n){if(Me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Oo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<jp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const c=await Oo(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Ip()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=EN(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zs}):await this._useSession(async n=>{var r,a,l;const{data:c,error:h}=n;if(h)throw h;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rr}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Zs})})}catch(n){if(Me(n))return nN(n)&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:l}=r;if(l)throw l;if(!a.session)throw new rr;const c=a.session;let h=null,f=null;this.flowType==="pkce"&&t.email!=null&&([h,f]=await Ha(this.storage,this.storageKey));const{data:m,error:y}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:f}),jwt:c.access_token,xform:Zs});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(await un(this.storage,`${this.storageKey}-code-verifier`),Me(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rr;const n=Date.now()/1e3;let r=n,a=!0,l=null;const{payload:c}=Op(t.access_token);if(c.exp&&(r=c.exp,a=r<=n),a){const{data:h,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(t.access_token);if(f)throw f;l={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(Me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:c,error:h}=n;if(h)throw h;t=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new rr;const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!hn())throw new Od("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Od(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new iw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Od("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new iw("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:h,expires_at:f,token_type:m}=t;if(!l||!h||!c||!m)throw new Od("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(h);let b=y+w;f&&(b=parseInt(f));const P=b-y;P*1e3<=tl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${P}s, should have been closer to ${w}s`);const C=b-w;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,y);const{data:k,error:R}=await this._getUser(l);if(R)throw R;const N={provider_token:r,provider_refresh_token:a,access_token:l,expires_in:w,expires_at:b,refresh_token:c,token_type:m,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(r){if(Me(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Oo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:l}=n;if(l)return this._returnResult({error:l});const c=(r=a.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:h}=await this.admin.signOut(c,t);if(h&&!(tN(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=dN(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:l},error:c}=n;if(c)throw c;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Ha(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await un(this.storage,`${this.storageKey}-code-verifier`),Me(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:a}=await this._useSession(async l=>{var c,h,f,m,y;const{data:w,error:b}=l;if(b)throw b;const P=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",P,{headers:this.headers,jwt:(y=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return hn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Me(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:c,provider:h,token:f,access_token:m,nonce:y}=t,w=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:h,id_token:f,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Wr}),{data:b,error:P}=w;return P?this._returnResult({data:{user:null,session:null},error:P}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Wa}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:P}))}catch(a){if(await un(this.storage,`${this.storageKey}-code-verifier`),Me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:l,error:c}=n;if(c)throw c;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await mN(async a=>(a>0&&await pN(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Wr})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Lp(l)&&Date.now()+c-r<tl})}catch(r){if(this._debug(n,"error",r),Me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),hn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Oo(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Oo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await nl(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Ip()}else if(a&&!a.user&&!a.user){const c=await Oo(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await un(this.storage,this.storageKey+"-user"),await nl(this.storage,this.storageKey,a)):a.user=Ip()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<jp;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${jp}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Lp(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ph;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new rr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),Me(l)){const c={data:null,error:l};return Lp(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await un(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await nl(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=cw(a);await nl(this.storage,this.storageKey,l)}else{const a=cw(n);await nl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await un(this.storage,this.storageKey),await un(this.storage,this.storageKey+"-code-verifier"),await un(this.storage,this.storageKey+"-user"),this.userStorage&&await un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),tl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/tl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${tl}ms, refresh threshold is ${Am} ticks`),a<=Am&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof eb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await Ha(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);a.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await Ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:m}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&f.type==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?HN(t.webauthn.credential_response):KN(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:f}=await Ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await Ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:VN(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:WN(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Op(r.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;return a?this._returnResult({data:null,error:a}):r?await Ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new rr})})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new rr});const c=await Ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&hn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new rr});const c=await Ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&hn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new rr})})}catch(t){if(Me(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;return a?this._returnResult({data:null,error:a}):r?(await Ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new rr})})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(h=>h.kid===t);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(h=>h.kid===t),r&&this.jwks_cached_at+QR>a)return r;const{data:l,error:c}=await Ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,r=l.keys.find(h=>h.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:P,error:C}=await this.getSession();if(C||!P.session)return this._returnResult({data:null,error:C});r=P.session.access_token}const{header:a,payload:l,signature:c,raw:{header:h,payload:f}}=Op(r);n!=null&&n.allowExpired||bN(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:P}=await this.getUser(r);if(P)throw P;return{data:{claims:l,header:a,signature:c},error:null}}const y=SN(a.alg),w=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,c,cN(`${h}.${f}`)))throw new Om("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}}Jc.nextInstanceID={};const tA=Jc,nA="2.89.0";let jc="";typeof Deno<"u"?jc="deno":typeof document<"u"?jc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jc="react-native":jc="node";const rA={"X-Client-Info":`supabase-js-${jc}/${nA}`},iA={headers:rA},sA={schema:"public"},oA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aA={};function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function lA(e,t){if(Xc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cA(e){var t=lA(e,"string");return Xc(t)=="symbol"?t:t+""}function uA(e,t,n){return(t=cA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(n),!0).forEach(function(r){uA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const dA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hA=()=>Headers,fA=(e,t,n)=>{const r=dA(n),a=hA();return async(l,c)=>{var h;const f=(h=await t())!==null&&h!==void 0?h:e;let m=new a(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),r(l,Mt(Mt({},c),{},{headers:m}))}};function pA(e){return e.endsWith("/")?e:e+"/"}function mA(e,t){var n,r;const{db:a,auth:l,realtime:c,global:h}=e,{db:f,auth:m,realtime:y,global:w}=t,b={db:Mt(Mt({},f),a),auth:Mt(Mt({},m),l),realtime:Mt(Mt({},y),c),storage:{},global:Mt(Mt(Mt({},w),h),{},{headers:Mt(Mt({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function gA(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var vA=class extends tA{constructor(e){super(e)}},yA=class{constructor(e,t,n){var r,a;this.supabaseUrl=e,this.supabaseKey=t;const l=gA(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:sA,realtime:aA,auth:Mt(Mt({},oA),{},{storageKey:c}),global:iA},f=mA(n??{},h);if(this.storageKey=(r=f.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=f.auth)!==null&&m!==void 0?m:{},this.headers,f.global.fetch)}this.fetch=fA(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Mt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new JC(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new ZR(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new KC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:a,storageKey:l,flowType:c,lock:h,debug:f,throwOnError:m},y,w){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vA({url:this.authUrl.href,headers:Mt(Mt({},b),y),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:a,flowType:c,lock:h,debug:f,throwOnError:m,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new pR(this.realtimeUrl.href,Mt(Mt({},e),{},{params:Mt(Mt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vw=(e,t,n)=>new yA(e,t,n);function wA(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}wA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Im="https://xmskjcdwmwlcmjexnnxw.supabase.co",Mm="sb_publishable_aJ6U77lzPTrGZEjQ6WJgUw_PPusa7R-";console.log(" Supabase client initialized"),console.log(" Supabase URL:",Im.substring(0,30)+"..."),console.log(" Supabase Key:",Mm.substring(0,20)+"...");let Yd=null;var gx;if(!Yd)try{if(Im&&Mm){const e=typeof window<"u"&&((gx=window.Capacitor)==null?void 0:gx.isNativePlatform());Yd=vw(Im,Mm,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:typeof window<"u"?window.localStorage:void 0,flowType:e?"pkce":"implicit"},db:{schema:"public"},global:{headers:{"x-client-info":"esnaftaucuz-web"},fetch:(t,n={})=>{const r=new AbortController,a=Date.now(),l=setTimeout(()=>{const h=Date.now()-a;console.error(" Supabase fetch timeout after",h,"ms:",t),r.abort()},3e4),c=typeof t=="string"?t:t.toString();return console.log(" Supabase fetch START:",c.substring(0,100),n.method||"GET"),console.log(" Fetch started at:",new Date().toISOString()),fetch(t,{...n,signal:r.signal}).then(h=>{const f=Date.now()-a;return clearTimeout(l),console.log(` Supabase fetch SUCCESS (${f}ms):`,c.substring(0,100),h.status),h.ok||console.error(" Response not OK:",h.status,h.statusText),h}).catch(h=>{var m;const f=Date.now()-a;throw clearTimeout(l),h.name==="AbortError"?(console.error(` Supabase fetch TIMEOUT (${f}ms):`,c.substring(0,100)),new Error("stek zaman amna urad. Ltfen internet balantnz kontrol edin.")):(console.error(` Supabase fetch ERROR (${f}ms):`,c.substring(0,100),h),console.error("Error details:",{name:h.name,message:h.message,stack:(m=h.stack)==null?void 0:m.substring(0,200)}),h)})}}}),console.log(" Supabase client created successfully")}}catch(e){console.error(" Failed to create Supabase client:",e),Yd=vw("https://placeholder.supabase.co","placeholder-key")}const Fe=Yd,dn=[];for(let e=0;e<256;++e)dn.push((e+256).toString(16).slice(1));function _A(e,t=0){return(dn[e[t+0]]+dn[e[t+1]]+dn[e[t+2]]+dn[e[t+3]]+"-"+dn[e[t+4]]+dn[e[t+5]]+"-"+dn[e[t+6]]+dn[e[t+7]]+"-"+dn[e[t+8]]+dn[e[t+9]]+"-"+dn[e[t+10]]+dn[e[t+11]]+dn[e[t+12]]+dn[e[t+13]]+dn[e[t+14]]+dn[e[t+15]]).toLowerCase()}let Dp;const xA=new Uint8Array(16);function bA(){if(!Dp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dp=crypto.getRandomValues.bind(crypto)}return Dp(xA)}const SA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yw={randomUUID:SA};function kA(e,t,n){var a;e=e||{};const r=e.random??((a=e.rng)==null?void 0:a.call(e))??bA();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,_A(r)}function rb(e,t,n){return yw.randomUUID&&!e?yw.randomUUID():kA(e)}const qa={register:async(e,t,n)=>{try{const{data:r,error:a}=await Fe.auth.signUp({email:e,password:t,options:{data:{name:n}}});if(a)throw a.message.includes("leaked")||a.message.includes("compromised")?new Error("Bu ifre gvenlik ana uram. Ltfen daha gl bir ifre sein."):a.message.includes("already registered")?new Error("Bu email adresi zaten kaytl. Ltfen giri yapn."):a;if(!r.user)throw new Error("User creation failed");const{data:l,error:c}=await Fe.from("users").insert({id:r.user.id,email:r.user.email,name:n}).select().single();if(c)throw console.error("Profile creation error:",c),c.code==="42501"?new Error("Profil oluturulamad: Yetki hatas. Ltfen daha sonra tekrar deneyin."):new Error("Profil oluturulamad: "+(c.message||"Bilinmeyen hata"));let h=r.session;if(!h){console.log(" No session from signUp, attempting signIn...");const{data:f,error:m}=await Fe.auth.signInWithPassword({email:e,password:t});m?console.error("SignIn after signUp error:",m):(h=f.session,console.log(" Session obtained from signIn"))}return h!=null&&h.access_token&&(localStorage.setItem("authToken",h.access_token),console.log(" Token stored in localStorage")),localStorage.setItem("user",JSON.stringify(l)),console.log(" User stored in localStorage"),{user:{id:l.id,email:l.email,name:l.name,avatar:l.avatar,level:l.level,points:l.points,contributions:l.contributions},token:(h==null?void 0:h.access_token)||null,session:h}}catch(r){throw console.error("Registration error:",r),new Error(r.message||"Kayt baarsz")}},login:async(e,t)=>{try{const{data:n,error:r}=await Fe.auth.signInWithPassword({email:e,password:t});if(r)throw r.message.includes("Invalid login credentials")?new Error("Email veya ifre hatal"):r.message.includes("Email not confirmed")?new Error("Email adresinizi dorulamanz gerekiyor"):r;if(!n.user||!n.session)throw new Error("Login failed");const{data:a,error:l}=await Fe.from("users").select("*").eq("id",n.user.id).single();if(l)throw console.error("Profile fetch error:",l),new Error("Kullanc profili bulunamad");return{user:{id:a.id,email:a.email,name:a.name,avatar:a.avatar,level:a.level,points:a.points,contributions:a.contributions},token:n.session.access_token,session:n.session}}catch(n){throw console.error("Login error:",n),new Error(n.message||"Giri baarsz")}},googleLogin:async()=>{var e,t;try{console.log(" Starting Google OAuth..."),console.log(" Current origin:",window.location.origin),console.log(" Current href:",window.location.href);const n=typeof window<"u"&&((e=window.Capacitor)==null?void 0:e.isNativePlatform()),r={queryParams:{access_type:"offline",prompt:"consent"}};n?(r.redirectTo="com.esnaftaucuz.app://",console.log(" Mobile detected, using custom URL scheme:",r.redirectTo)):(r.redirectTo=`${window.location.origin}/`,console.log(" Web detected, using redirectTo:",r.redirectTo));const{data:a,error:l}=await Fe.auth.signInWithOAuth({provider:"google",options:r});if(l)throw console.error(" Google OAuth error:",l),l;return console.log(" Google OAuth redirect URL:",a.url),{redirectUrl:a.url}}catch(n){throw console.error("Google login error:",n),(t=n.message)!=null&&t.includes("redirect_uri_mismatch")?new Error("Google OAuth yaplandrmas hatal. Ltfen gelitirici ile iletiime gein."):new Error(n.message||"Google ile giri baarsz")}},guestLogin:async()=>{try{const e=rb(),{data:t,error:n}=await Fe.from("users").insert({id:e,name:"Misafir Kullanc",email:`guest_${Date.now()}@guest.com`,is_guest:!0}).select().single();if(n)throw n;if(!t)throw new Error("Guest user creation failed");return{user:{id:t.id,name:t.name,email:t.email,avatar:t.avatar,level:t.level,points:t.points,contributions:t.contributions,isGuest:!0},token:t.id,session:{access_token:t.id,expires_in:3600,token_type:"Bearer",user:{id:t.id,email:t.email}}}}catch(e){throw console.error("Guest login error:",e),new Error(e.message||"Misafir girii baarsz")}},getCurrentUser:async()=>{try{const{data:{user:e},error:t}=await Fe.auth.getUser();if(t||!e){const r=localStorage.getItem("authToken");if(r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r)){const{data:a}=await Fe.from("users").select("*").eq("id",r).eq("is_guest",!0).single();if(a)return{user:a}}throw t||new Error("User not found")}const{data:n}=await Fe.from("users").select("*").eq("id",e.id).single();return{user:n||e}}catch(e){throw console.error("Get current user error:",e),e}},logout:async()=>{try{await Fe.auth.signOut(),localStorage.removeItem("authToken"),localStorage.removeItem("user")}catch(e){console.error("Logout error:",e)}}},Bc={getAll:async(e,t)=>{try{let n=Fe.from("products").select("*").eq("is_active",!0);e&&(n=n.ilike("name",`%${e}%`)),t&&(n=n.eq("category",t));const{data:r,error:a}=await n.order("name",{ascending:!0});if(a)throw a;return r||[]}catch(n){throw console.error("Get products error:",n),new Error(n.message||"rnler yklenemedi")}},getTrending:async()=>{try{console.log(" Fetching trending products..."),console.log(" Supabase URL:","https://xmskjcdwmwlcmjexnnxw.supabase.co".substring(0,30)+"..."),console.log(" Supabase Key:","Set");const e="https://xmskjcdwmwlcmjexnnxw.supabase.co";console.log(" Testing Supabase connection...");const t=Date.now(),{data:n,error:r}=await Fe.from("products").select("id, name, category, image").eq("is_active",!0).order("search_count",{ascending:!1}).limit(6),a=Date.now();return console.log(` Query completed in ${a-t}ms`),r?(console.error(" Supabase error:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),console.error("Error details:",r.details),console.error("Error hint:",r.hint),[]):(console.log(" Trending products fetched:",(n==null?void 0:n.length)||0),n||[])}catch(e){return console.error(" Get trending products exception:",e),console.error("Error name:",e.name),console.error("Error message:",e.message),[]}},getById:async e=>{try{const{data:t,error:n}=await Fe.from("products").select("*").eq("id",e).single();if(n)throw n;if(!t)throw new Error("Product not found");return await Fe.from("products").update({search_count:(t.search_count||0)+1}).eq("id",e),t}catch(t){throw console.error("Get product error:",t),new Error(t.message||"rn bulunamad")}},create:async(e,t,n)=>{try{console.log("Creating product:",{name:e,category:t,defaultUnit:n});const{data:r,error:a}=await Fe.from("products").insert({name:e.trim(),category:t||"Dier",default_unit:n||"adet",is_active:!0}).select().single();if(a)throw console.error("Product creation error:",a),new Error(`rn oluturulamad: ${a.message}`);if(!r)throw new Error("rn oluturulamad: Yeni rn dndrlmedi");return console.log("Product created successfully:",r.id),r}catch(r){throw console.error("Create product error:",r),new Error(r.message||"rn oluturulamad")}}},zp={getAll:async e=>{try{let t=Fe.from("locations").select("*");e!=null&&e.type&&(t=t.eq("type",e.type)),e!=null&&e.city&&(t=t.eq("city",e.city)),e!=null&&e.district&&(t=t.eq("district",e.district));const{data:n,error:r}=await t.order("name",{ascending:!0});if(r)throw r;if(e!=null&&e.lat&&(e!=null&&e.lng)&&(e!=null&&e.radius)&&n){const a=e.radius/1e3;return n.filter(l=>{if(!l.coordinates)return!1;const c=l.coordinates,h=c.lat||c.y||0,f=c.lng||c.x||0;return zg(e.lat,e.lng,h,f)<=a})}return n||[]}catch(t){throw console.error("Get locations error:",t),new Error(t.message||"Konumlar yklenemedi")}},getById:async e=>{try{const{data:t,error:n}=await Fe.from("locations").select("*").eq("id",e).single();if(n)throw n;if(!t)throw new Error("Location not found");return t}catch(t){throw console.error("Get location error:",t),new Error(t.message||"Konum bulunamad")}},create:async e=>{try{const{data:t,error:n}=await Fe.from("locations").insert({name:e.name,type:e.type,address:e.address,coordinates:`(${e.lng},${e.lat})`,city:e.city,district:e.district}).select().single();if(n)throw n;return t}catch(t){throw console.error("Create location error:",t),new Error(t.message||"Konum oluturulamad")}}},Ho={getAll:async e=>{try{console.log(" Fetching prices with filters:",e);let t=Fe.from("prices").select(`
          *,
          product:products(id, name, category, default_unit, image),
          location:locations(id, name, type, address, coordinates, city, district),
          user:users(id, name, avatar, level)
        `).eq("is_active",!0);if(e!=null&&e.product&&(t=t.eq("product_id",e.product)),e!=null&&e.location&&(t=t.eq("location_id",e.location)),e!=null&&e.verified&&(t=t.eq("is_verified",e.verified)),e!=null&&e.withPhoto&&(t=t.not("photo","is",null)),e!=null&&e.todayOnly){const c=new Date;c.setHours(0,0,0,0),t=t.gte("created_at",c.toISOString())}switch(e==null?void 0:e.sort){case"cheapest":t=t.order("price",{ascending:!0});break;case"expensive":t=t.order("price",{ascending:!1});break;case"verified":t=t.order("is_verified",{ascending:!1}),t=t.order("verification_count",{ascending:!1});break;case"newest":default:t=t.order("created_at",{ascending:!1});break}e!=null&&e.limit?t=t.limit(e.limit):t=t.limit(500);const{data:n,error:r}=await t;if(r)return console.error(" Supabase query error:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),[];const a=(n||[]).map(c=>{var m;let h,f;if(c.coordinates){const y=c.coordinates;if(typeof y=="string"){const w=y.match(/\(([^,]+),([^)]+)\)/);w&&(f=parseFloat(w[1]),h=parseFloat(w[2]))}else typeof y=="object"&&(typeof y.lat=="number"&&typeof y.lng=="number"?(h=y.lat,f=y.lng):typeof y.x=="number"&&typeof y.y=="number"&&(h=y.y,f=y.x))}if((!h||!f)&&((m=c.location)!=null&&m.coordinates)){const y=c.location.coordinates;if(typeof y=="string"){const w=y.match(/\(([^,]+),([^)]+)\)/);w&&(f=parseFloat(w[1]),h=parseFloat(w[2]))}else typeof y=="object"&&(typeof y.lat=="number"&&typeof y.lng=="number"?(h=y.lat,f=y.lng):typeof y.x=="number"&&typeof y.y=="number"&&(h=y.y,f=y.x))}return typeof h=="number"&&typeof f=="number"&&!isNaN(h)&&!isNaN(f)?{...c,lat:h,lng:f}:c});console.log(` Normalized ${a.filter(c=>c.lat&&c.lng).length} prices with coordinates`);let l=a;if(e!=null&&e.lat&&(e!=null&&e.lng)&&(e!=null&&e.radius)){const c=e.radius/1e3;l=l.filter(h=>h.lat&&h.lng?zg(e.lat,e.lng,h.lat,h.lng)<=c:!1)}return console.log(" Prices fetched:",(l==null?void 0:l.length)||0),l}catch(t){return console.error(" Get prices error:",t),console.error("Error details:",{message:t.message,code:t.code,details:t.details,hint:t.hint}),[]}},getByProduct:async(e,t="cheapest")=>Ho.getAll({product:e,sort:t}),getById:async e=>{try{const{data:t,error:n}=await Fe.from("prices").select(`
          *,
          product:products(id, name, category, default_unit, image),
          location:locations(id, name, type, address, coordinates, city, district),
          user:users(id, name, avatar, level)
        `).eq("id",e).single();if(n)throw n;if(!t)throw new Error("Price not found");return t}catch(t){throw console.error("Get price error:",t),new Error(t.message||"Fiyat bulunamad")}},create:async e=>{const t=new Promise((r,a)=>{setTimeout(()=>a(new Error("lem zaman amna urad. Ltfen tekrar deneyin.")),3e4)}),n=async()=>{try{console.log(" Starting price creation..."),console.log(" Getting user...");const{data:{user:r}}=await Fe.auth.getUser(),a=localStorage.getItem("authToken");let l=null;if(r?(l=r.id,console.log(" Authenticated user found:",l)):a&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(a)&&(l=a,console.log(" Guest user found:",l)),!l)throw new Error("Giri yapmanz gerekiyor");console.log(" Finding or creating product...");let c=e.product;const h=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e.product);console.log("Product is UUID:",h,"Value:",e.product);let f=null;if(h){console.log("Searching product by ID...");const{data:O,error:A}=await Fe.from("products").select("id").eq("id",e.product).maybeSingle();A&&console.error("Product search error:",A),f=O}else{console.log("Searching product by name...");const{data:O,error:A}=await Fe.from("products").select("id").ilike("name",e.product.trim()).maybeSingle();A&&console.error("Product search error:",A),f=O}if(f)c=f.id,console.log("Using existing product ID:",c);else{console.log("Creating new product:",e.product);const{data:O,error:A}=await Fe.from("products").insert({name:e.product.trim(),default_unit:e.unit,is_active:!0}).select("id").single();if(A)throw console.error("Product creation error:",A),new Error(`rn oluturulamad: ${A.message}`);if(!O)throw new Error("rn oluturulamad: Yeni rn dndrlmedi");c=O.id,console.log("Product created with ID:",c)}console.log(" Finding or creating location...");let m=e.location;const y=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e.location);console.log("Location is UUID:",y,"Value:",e.location);let w=null;if(y){console.log("Searching location by ID...");const{data:O,error:A}=await Fe.from("locations").select("id").eq("id",e.location).maybeSingle();A&&console.error("Location search error:",A),w=O}else{console.log("Searching location by name...");const{data:O,error:A}=await Fe.from("locations").select("id").ilike("name",e.location.trim()).maybeSingle();A&&console.error("Location search error:",A),w=O}if(w)m=w.id,console.log("Using existing location ID:",m);else{console.log("Creating new location:",e.location);const O=e.lat||37.8667,A=e.lng||32.4833,{data:$,error:z}=await Fe.from("locations").insert({name:e.location.trim(),type:"dier",coordinates:`(${A},${O})`}).select("id").single();if(z)throw console.error("Location creation error:",z),new Error(`Konum oluturulamad: ${z.message}`);if(!$)throw new Error("Konum oluturulamad: Yeni konum dndrlmedi");m=$.id,console.log("Location created with ID:",m)}let b=null,P=null;if(e.photo)try{console.log(" Uploading photo to Supabase Storage...",{fileName:e.photo.name,fileSize:e.photo.size,fileType:e.photo.type});const O=e.photo.name.split(".").pop()||"jpg",A=`${l}/${rb()}.${O}`;console.log(" Uploading to:",A);const{data:$,error:z}=await Fe.storage.from("price-photos").upload(A,e.photo,{cacheControl:"3600",upsert:!1});if(z)console.error(" Photo upload error:",z),console.error("Upload error details:",{message:z.message,statusCode:z.statusCode,error:z.error}),P=z.message||"Bilinmeyen hata",console.warn(" Continuing without photo due to upload error");else{console.log(" Photo uploaded to storage:",$),console.log(" Uploaded file path:",$.path);const{data:H}=Fe.storage.from("price-photos").getPublicUrl($.path);b=H.publicUrl,console.log(" Photo URL generated:",b),console.log(" Full photo URL:",b),(!b||b.includes("undefined")||b.includes("null"))&&(console.error(" Invalid photo URL generated:",b),P="Fotoraf URL'i oluturulamad")}}catch(O){console.error(" Photo upload exception:",O),P=O.message||"Bilinmeyen hata",console.warn(" Continuing without photo due to exception")}else console.log(" No photo provided, skipping photo upload");const C={product_id:c,price:e.price,unit:e.unit,location_id:m,user_id:l,photo:b};e.lat&&e.lng&&(C.coordinates=`(${e.lng},${e.lat})`),console.log(" Creating price with data:",{product_id:C.product_id,location_id:C.location_id,user_id:C.user_id,price:C.price,hasPhoto:!!C.photo,photoUrl:C.photo||"null",hasCoordinates:!!C.coordinates}),console.log(" Inserting price into database...");const{data:k,error:R}=await Fe.from("prices").insert(C).select(`
          *,
          product:products(id, name, category, default_unit, image),
          location:locations(id, name, type, address, coordinates, city, district),
          user:users(id, name, avatar, level)
        `).single();if(k&&console.log(" Price record created:",{id:k.id,photo:k.photo||"null",hasPhoto:!!k.photo}),R)throw console.error("Price creation error:",R),console.error("Price data:",C),new Error(`Fiyat oluturulamad: ${R.message}`);if(!k)throw new Error("Fiyat oluturulamad: Yeni fiyat dndrlmedi");console.log("Price created successfully:",k.id);const{data:N}=await Fe.from("users").select("points, contributions").eq("id",l).single();if(N){const O=(N.points||0)+10,A=N.contributions||{shares:0,verifications:0};await Fe.from("users").update({points:O,contributions:{...A,shares:(A.shares||0)+1}}).eq("id",l)}return console.log(" Price creation completed successfully"),{...k,photoUploadError:P||void 0}}catch(r){throw console.error(" Create price error:",r),console.error("Error details:",{message:r.message,code:r.code,details:r.details,hint:r.hint}),new Error(r.message||"Fiyat oluturulamad")}};return Promise.race([n(),t])},verify:async e=>{try{const{data:{user:t}}=await Fe.auth.getUser(),n=localStorage.getItem("authToken");if(!t&&!n)throw new Error("Giri yapmanz gerekiyor");const{data:r}=await Fe.from("prices").select("verification_count").eq("id",e).single(),{data:a,error:l}=await Fe.from("prices").update({is_verified:!0,verification_count:((r==null?void 0:r.verification_count)||0)+1}).eq("id",e).select(`
          *,
          product:products(id, name, category, default_unit, image),
          location:locations(id, name, type, address, coordinates, city, district),
          user:users(id, name, avatar, level)
        `).single();if(l)throw l;return{message:"Fiyat doruland",price:a}}catch(t){throw console.error("Verify price error:",t),new Error(t.message||"Fiyat dorulanamad")}},report:async e=>{try{const{data:t}=await Fe.from("prices").select("report_count").eq("id",e).single(),{data:n,error:r}=await Fe.from("prices").update({report_count:((t==null?void 0:t.report_count)||0)+1}).eq("id",e).select().single();if(r)throw r;return{message:"Fiyat raporland"}}catch(t){throw console.error("Report price error:",t),new Error(t.message||"Fiyat raporlanamad")}}},ib={getById:async e=>{try{const{data:t,error:n}=await Fe.from("users").select("*").eq("id",e).single();if(n)throw n;if(!t)throw new Error("User not found");return t}catch(t){throw console.error("Get user error:",t),new Error(t.message||"Kullanc bulunamad")}},getContributions:async e=>{try{const{data:t,error:n}=await Fe.from("prices").select(`
          *,
          product:products(id, name, category, default_unit, image),
          location:locations(id, name, type, address, coordinates, city, district)
        `).eq("user_id",e).eq("is_active",!0).order("created_at",{ascending:!1}).limit(50);if(n)throw n;return t||[]}catch(t){throw console.error("Get contributions error:",t),new Error(t.message||"Katklar yklenemedi")}},update:async(e,t)=>{try{const n={};t.name&&(n.name=t.name),t.preferences&&(n.preferences=t.preferences,t.preferences.searchRadius!==void 0&&(n.search_radius=t.preferences.searchRadius)),t.location&&(t.location.city&&(n.city=t.location.city),t.location.district&&(n.district=t.location.district),t.location.coordinates&&(n.coordinates=`(${t.location.coordinates.lng},${t.location.coordinates.lat})`));const{data:r,error:a}=await Fe.from("users").update(n).eq("id",e).select().single();if(a)throw a;return r}catch(n){throw console.error("Update user error:",n),new Error(n.message||"Kullanc gncellenemedi")}}},ww={search:async(e,t="all")=>{try{const n={products:[],prices:[],locations:[]};if(t==="all"||t==="products"){const{data:r}=await Fe.from("products").select("*").ilike("name",`%${e}%`).eq("is_active",!0).limit(10);n.products=r||[]}if(t==="all"||t==="prices"){const{data:r}=await Fe.from("prices").select(`
            *,
            product:products(id, name, category, default_unit, image),
            location:locations(id, name, type, address, coordinates, city, district),
            user:users(id, name, avatar, level)
          `).eq("is_active",!0).limit(20);r&&(n.prices=r.filter(a=>{var l,c;return(c=(l=a.product)==null?void 0:l.name)==null?void 0:c.toLowerCase().includes(e.toLowerCase())}))}if(t==="all"||t==="locations"){const{data:r}=await Fe.from("locations").select("*").or(`name.ilike.%${e}%,address.ilike.%${e}%,city.ilike.%${e}%,district.ilike.%${e}%`).limit(10);n.locations=r||[]}return n}catch(n){throw console.error("Search error:",n),new Error(n.message||"Arama baarsz")}},getNearbyCheapest:async(e,t,n=5e3,r=10)=>{try{console.log(" Fetching nearby cheapest prices...");const{data:a,error:l}=await Fe.from("prices").select(`
          *,
          product:products(id, name, category, default_unit, image),
          location:locations(id, name, type, address, coordinates, city, district),
          user:users(id, name, avatar, level)
        `).eq("is_active",!0).gte("created_at",new Date(Date.now()-1440*60*1e3).toISOString()).order("price",{ascending:!0}).limit(100);if(l)throw console.error(" Supabase error:",l),l;console.log(" Nearby prices fetched:",(a==null?void 0:a.length)||0);const c=n/1e3,h=(a||[]).filter(y=>{var k;if(!((k=y.location)!=null&&k.coordinates))return!1;const w=y.location.coordinates,b=w.lat||w.y||0,P=w.lng||w.x||0;return zg(e,t,b,P)<=c}),f={};h.forEach(y=>{var b;const w=(b=y.product)==null?void 0:b.id;w&&(!f[w]||y.price<f[w].price)&&(f[w]=y)});const m=Object.values(f).slice(0,r);return console.log(" Nearby cheapest prices processed:",m.length),m}catch(a){return console.error(" Get nearby cheapest error:",a),console.error("Error details:",{message:a.message,code:a.code,details:a.details,hint:a.hint}),[]}}};function zg(e,t,n,r){const l=(n-e)*Math.PI/180,c=(r-t)*Math.PI/180,h=Math.sin(l/2)*Math.sin(l/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return 6371*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))}const sb=E.createContext(void 0);function EA({children:e}){const[t,n]=E.useState(null),[r,a]=E.useState(null),[l,c]=E.useState(!0),[h,f]=E.useState(!1);E.useEffect(()=>{const k=new URLSearchParams(window.location.hash.substring(1)),R=k.get("access_token"),N=k.get("code"),O=k.get("error");if(O){console.error("OAuth error in URL:",O),window.history.replaceState({},document.title,window.location.pathname),c(!1),f(!1);return}const A=!!(R||N);f(A),A&&console.log(" OAuth callback detected in URL");const $=async(F,M,ne=!1)=>{var ce,ye,ge;const ee=()=>{var Z;if(!(F!=null&&F.user))return null;const J=F.user.user_metadata||{};return{id:F.user.id,email:F.user.email||"",name:J.name||J.full_name||((Z=F.user.email)==null?void 0:Z.split("@")[0])||"Kullanc",avatar:J.avatar_url||J.picture,level:1,points:0,contributions:{shares:0,verifications:0},isGuest:!1}},ae=setTimeout(()=>{console.warn(" Profile load safety timeout - forcing loading to false");const J=ee();J&&(n(J),localStorage.setItem("user",JSON.stringify(J)),console.log(" Using fallback user due to safety timeout")),c(!1)},8e3);try{console.log(" Loading user profile for:",F.user.email),a(F.access_token),localStorage.setItem("authToken",F.access_token);let J=null,Z=null;try{J=localStorage.getItem("user"),J&&(Z=JSON.parse(J),Z&&Z.id===F.user.id&&(console.log(" Using cached user from localStorage for faster render"),n(Z),c(!1)))}catch{J=null,Z=null}const le=Fe.from("users").select("*").eq("id",F.user.id).single(),D=new Promise((B,Y)=>{setTimeout(()=>Y(new Error("Profile fetch timeout after 5 seconds")),5e3)});let re=null,q=null;try{const Y=await Promise.race([le,D]);re=Y.data,q=Y.error,q&&q.code!=="PGRST116"&&(console.error(" Profile fetch error:",q),console.error("Profile error details:",{code:q.code,message:q.message,details:q.details}))}catch(B){console.error(" Profile fetch timeout:",B),re=null,q={code:"TIMEOUT",message:"Profile fetch timed out"}}if(!re&&(M==="SIGNED_IN"||M==="INITIAL_SESSION")){console.log(" Profile not found, creating new profile for OAuth user...");const B=F.user.user_metadata||{},Y=ee();Y&&(console.log(" Showing fallback user immediately while creating profile..."),n(Y),localStorage.setItem("user",JSON.stringify(Y)),c(!1),re=Y);const ue=Fe.from("users").insert({id:F.user.id,email:F.user.email||"",name:B.name||B.full_name||((ce=F.user.email)==null?void 0:ce.split("@")[0])||"Kullanc",avatar:B.avatar_url||B.picture,google_id:B.provider==="google"?F.user.id:null,is_guest:!1}).select().single(),he=new Promise((ve,U)=>{setTimeout(()=>U(new Error("Profile creation timeout after 5 seconds")),5e3)});Promise.race([ue,he]).then(ve=>{const U=ve;!U.error&&U.data?(console.log(" Profile created for OAuth user"),n(U.data),localStorage.setItem("user",JSON.stringify(U.data))):console.error(" Failed to create profile:",U.error)}).catch(ve=>{console.error(" Profile creation timeout:",ve)})}if(clearTimeout(ae),re)!Z||re.id!==Z.id?(n(re),localStorage.setItem("user",JSON.stringify(re)),console.log(" User profile loaded:",re.email),Z||c(!1)):console.log(" User profile already cached, using cached version");else{console.warn(" No profile found and could not create one");const B=F.user.user_metadata||{},Y={id:F.user.id,email:F.user.email||"",name:B.name||B.full_name||((ye=F.user.email)==null?void 0:ye.split("@")[0])||"Kullanc",avatar:B.avatar_url||B.picture,level:1,points:0,contributions:{shares:0,verifications:0},isGuest:!1};n(Y),localStorage.setItem("user",JSON.stringify(Y)),console.log(" Using fallback user - profile not available")}if(c(!1),ne){if(window.location.hash){const B=window.location.pathname+window.location.search;window.history.replaceState({},document.title,B),console.log(" OAuth callback hash cleaned from URL")}window.location.pathname!=="/"&&(window.history.replaceState({},document.title,"/"),console.log(" OAuth callback URL cleaned, redirected to root"))}}catch(J){if(clearTimeout(ae),console.error(" Load user profile error:",J),F!=null&&F.user){const Z=F.user.user_metadata||{},le={id:F.user.id,email:F.user.email||"",name:Z.name||Z.full_name||((ge=F.user.email)==null?void 0:ge.split("@")[0])||"Kullanc",avatar:Z.avatar_url||Z.picture,level:1,points:0,contributions:{shares:0,verifications:0},isGuest:!1};n(le),localStorage.setItem("user",JSON.stringify(le)),console.log(" Using fallback user due to error")}c(!1)}};(async()=>{if(h){console.log(" OAuth callback detected, skipping initial auth check - waiting for onAuthStateChange"),setTimeout(()=>{l&&h&&(console.warn(" OAuth callback timeout - forcing loading to false"),c(!1),f(!1))},15e3);return}const F=setTimeout(()=>{console.warn(" Auth initialization timeout - forcing loading to false"),c(!1)},8e3);try{const{data:{session:M},error:ne}=await Fe.auth.getSession();if(clearTimeout(F),ne){console.error("Session error:",ne),c(!1);return}if(M)await $(M,"INITIAL_SESSION",!1);else{const ee=localStorage.getItem("authToken");if(ee&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(ee))try{const{data:ae}=await Fe.from("users").select("*").eq("id",ee).eq("is_guest",!0).single();if(ae){n(ae),c(!1);return}}catch(ae){console.error("Guest user check error:",ae)}c(!1)}}catch(M){clearTimeout(F),console.error("Auth initialization error:",M),c(!1)}})();const{data:{subscription:H}}=Fe.auth.onAuthStateChange(async(F,M)=>{var ae;if(console.log(" Auth state changed:",F,(ae=M==null?void 0:M.user)==null?void 0:ae.email),F==="TOKEN_REFRESHED"&&t&&M){console.log(" Token refreshed, user already loaded - skipping profile reload");return}const ne=F==="SIGNED_IN"||F==="SIGNED_OUT"||F==="TOKEN_REFRESHED"&&!t||F==="USER_UPDATED"&&!t;let ee=null;ne&&(ee=setTimeout(()=>{console.warn(" Auth state change timeout - forcing loading to false"),c(!1)},12e3));try{if(M)!t||F==="SIGNED_IN"?(c(!0),await $(M,F,F==="SIGNED_IN"||F==="TOKEN_REFRESHED"&&h),F==="SIGNED_IN"&&(console.log(" OAuth login successful, profile loaded"),f(!1),window.location.hash&&(window.history.replaceState({},document.title,window.location.pathname+window.location.search),console.log(" OAuth callback hash cleaned from URL")),window.location.pathname!=="/"&&window.history.replaceState({},document.title,"/"),await new Promise(ye=>setTimeout(ye,50)),c(!1))):(ee&&clearTimeout(ee),console.log(" User already loaded, skipping profile reload"));else{if(F==="SIGNED_OUT"){console.log(" User signed out, clearing auth state"),ee&&clearTimeout(ee),a(null),n(null),localStorage.removeItem("authToken"),localStorage.removeItem("user"),c(!1),f(!1);return}if(F==="INITIAL_SESSION"&&h){console.log(" INITIAL_SESSION with null session but OAuth callback in progress - waiting..."),ee&&clearTimeout(ee);return}const ce=localStorage.getItem("authToken");if(ce&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(ce))try{const{data:ge}=await Fe.from("users").select("*").eq("id",ce).eq("is_guest",!0).single();if(ge){ee&&clearTimeout(ee),n(ge),c(!1);return}}catch(ge){console.error("Guest user check error:",ge)}const ye=localStorage.getItem("user");if(ye)try{const ge=JSON.parse(ye);if(ge&&ge.id){console.log(" Session null but user exists in storage, keeping user state"),ee&&clearTimeout(ee),n(ge),c(!1);return}}catch(ge){console.error("Failed to parse stored user:",ge)}console.log(" Session null and no user found, clearing auth state"),ee&&clearTimeout(ee),a(null),n(null),localStorage.removeItem("authToken"),localStorage.removeItem("user"),c(!1)}}catch(ce){ee&&clearTimeout(ee),console.error(" Auth state change error:",ce),c(!1)}});return()=>H.unsubscribe()},[]);const m=async(k,R,N)=>{try{console.log(" Starting registration...");const O=await qa.register(k,R,N);console.log(" Registration API call successful"),console.log(" User data:",O.user),console.log(" Token:",O.token?"Present":"Missing"),O.token&&(a(O.token),localStorage.setItem("authToken",O.token)),O.user?(n(O.user),localStorage.setItem("user",JSON.stringify(O.user)),console.log(" User state updated in AuthContext")):console.warn(" No user data returned from registration"),await new Promise(A=>setTimeout(A,100)),console.log(" Registration completed")}catch(O){throw console.error("Register error:",O),O}},y=async(k,R)=>{try{const N=await qa.login(k,R);a(N.token),n(N.user)}catch(N){throw console.error("Login error:",N),N}},w=async()=>{try{const k=await qa.googleLogin();k.redirectUrl&&(window.location.href=k.redirectUrl)}catch(k){throw console.error("Google login error:",k),k}},b=async()=>{try{const k=await qa.guestLogin();a(k.token),n(k.user)}catch(k){throw console.error("Guest login error:",k),k}},P=async()=>{try{console.log(" Logging out..."),await qa.logout(),a(null),n(null),localStorage.removeItem("authToken"),localStorage.removeItem("user"),console.log(" Logout successful")}catch(k){console.error(" Logout error:",k),a(null),n(null),localStorage.removeItem("authToken"),localStorage.removeItem("user")}},C=async()=>{try{const k=await qa.getCurrentUser();n(k.user),localStorage.setItem("user",JSON.stringify(k.user))}catch(k){console.error("Refresh user error:",k)}};return v.jsx(sb.Provider,{value:{user:t,token:r,isLoading:l,register:m,login:y,googleLogin:w,guestLogin:b,logout:P,refreshUser:C},children:e})}function ni(){const e=E.useContext(sb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Bg=E.createContext({});function Fg(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ug=typeof window<"u",ob=Ug?E.useLayoutEffect:E.useEffect,Th=E.createContext(null);function $g(e,t){e.indexOf(t)===-1&&e.push(t)}function Vg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const es=(e,t,n)=>n>t?t:n<e?e:n;let Wg=()=>{};const ts={},ab=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function lb(e){return typeof e=="object"&&e!==null}const cb=e=>/^0[^.\s]+$/u.test(e);function Hg(e){let t;return()=>(t===void 0&&(t=e()),t)}const Tr=e=>e,PA=(e,t)=>n=>t(e(n)),cu=(...e)=>e.reduce(PA),Qc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Kg{constructor(){this.subscriptions=[]}add(t){return $g(this.subscriptions,t),()=>Vg(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Si=e=>e*1e3,Pr=e=>e/1e3;function ub(e,t){return t?e*(1e3/t):0}const db=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,TA=1e-7,CA=12;function RA(e,t,n,r,a){let l,c,h=0;do c=t+(n-t)/2,l=db(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>TA&&++h<CA);return c}function uu(e,t,n,r){if(e===t&&n===r)return Tr;const a=l=>RA(l,0,1,e,n);return l=>l===0||l===1?l:db(a(l),t,r)}const hb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,fb=e=>t=>1-e(1-t),pb=uu(.33,1.53,.69,.99),Gg=fb(pb),mb=hb(Gg),gb=e=>(e*=2)<1?.5*Gg(e):.5*(2-Math.pow(2,-10*(e-1))),Zg=e=>1-Math.sin(Math.acos(e)),vb=fb(Zg),yb=hb(Zg),NA=uu(.42,0,1,1),AA=uu(0,0,.58,1),wb=uu(.42,0,.58,1),jA=e=>Array.isArray(e)&&typeof e[0]!="number",_b=e=>Array.isArray(e)&&typeof e[0]=="number",LA={linear:Tr,easeIn:NA,easeInOut:wb,easeOut:AA,circIn:Zg,circInOut:yb,circOut:vb,backIn:Gg,backInOut:mb,backOut:pb,anticipate:gb},OA=e=>typeof e=="string",_w=e=>{if(_b(e)){Wg(e.length===4);const[t,n,r,a]=e;return uu(t,n,r,a)}else if(OA(e))return LA[e];return e},Id=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function IA(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(y){c.has(y)&&(m.schedule(y),e()),y(h)}const m={schedule:(y,w=!1,b=!1)=>{const C=b&&a?n:r;return w&&c.add(y),C.has(y)||C.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const MA=40;function xb(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Id.reduce((A,$)=>(A[$]=IA(l),A),{}),{setup:h,read:f,resolveKeyframes:m,preUpdate:y,update:w,preRender:b,render:P,postRender:C}=c,k=()=>{const A=ts.useManualTiming?a.timestamp:performance.now();n=!1,ts.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(A-a.timestamp,MA),1)),a.timestamp=A,a.isProcessing=!0,h.process(a),f.process(a),m.process(a),y.process(a),w.process(a),b.process(a),P.process(a),C.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(k))},R=()=>{n=!0,r=!0,a.isProcessing||e(k)};return{schedule:Id.reduce((A,$)=>{const z=c[$];return A[$]=(H,F=!1,M=!1)=>(n||R(),z.schedule(H,F,M)),A},{}),cancel:A=>{for(let $=0;$<Id.length;$++)c[Id[$]].cancel(A)},state:a,steps:c}}const{schedule:St,cancel:Ys,state:fn,steps:Bp}=xb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tr,!0);let Jd;function DA(){Jd=void 0}const Hn={now:()=>(Jd===void 0&&Hn.set(fn.isProcessing||ts.useManualTiming?fn.timestamp:performance.now()),Jd),set:e=>{Jd=e,queueMicrotask(DA)}},bb=e=>t=>typeof t=="string"&&t.startsWith(e),Sb=bb("--"),zA=bb("var(--"),qg=e=>zA(e)?BA.test(e.split("/*")[0].trim()):!1,BA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},eu={...Tl,transform:e=>es(0,1,e)},Md={...Tl,default:1},Fc=e=>Math.round(e*1e5)/1e5,Yg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FA(e){return e==null}const UA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jg=(e,t)=>n=>!!(typeof n=="string"&&UA.test(n)&&n.startsWith(e)||t&&!FA(n)&&Object.prototype.hasOwnProperty.call(n,t)),kb=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,h]=r.match(Yg);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},$A=e=>es(0,255,e),Fp={...Tl,transform:e=>Math.round($A(e))},Vo={test:Jg("rgb","red"),parse:kb("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Fp.transform(e)+", "+Fp.transform(t)+", "+Fp.transform(n)+", "+Fc(eu.transform(r))+")"};function VA(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Dm={test:Jg("#"),parse:VA,transform:Vo.transform},du=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Hs=du("deg"),ki=du("%"),We=du("px"),WA=du("vh"),HA=du("vw"),xw={...ki,parse:e=>ki.parse(e)/100,transform:e=>ki.transform(e*100)},il={test:Jg("hsl","hue"),parse:kb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ki.transform(Fc(t))+", "+ki.transform(Fc(n))+", "+Fc(eu.transform(r))+")"},Kt={test:e=>Vo.test(e)||Dm.test(e)||il.test(e),parse:e=>Vo.test(e)?Vo.parse(e):il.test(e)?il.parse(e):Dm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vo.transform(e):il.transform(e),getAnimatableNone:e=>{const t=Kt.parse(e);return t.alpha=0,Kt.transform(t)}},KA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GA(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Yg))==null?void 0:t.length)||0)+(((n=e.match(KA))==null?void 0:n.length)||0)>0}const Eb="number",Pb="color",ZA="var",qA="var(",bw="${}",YA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(YA,f=>(Kt.test(f)?(r.color.push(l),a.push(Pb),n.push(Kt.parse(f))):f.startsWith(qA)?(r.var.push(l),a.push(ZA),n.push(f)):(r.number.push(l),a.push(Eb),n.push(parseFloat(f))),++l,bw)).split(bw);return{values:n,split:h,indexes:r,types:a}}function Tb(e){return tu(e).values}function Cb(e){const{split:t,types:n}=tu(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const h=n[c];h===Eb?l+=Fc(a[c]):h===Pb?l+=Kt.transform(a[c]):l+=a[c]}return l}}const JA=e=>typeof e=="number"?0:Kt.test(e)?Kt.getAnimatableNone(e):e;function XA(e){const t=Tb(e);return Cb(e)(t.map(JA))}const Js={test:GA,parse:Tb,createTransformer:Cb,getAnimatableNone:XA};function Up(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function QA({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const h=n<.5?n*(1+t):n+t-n*t,f=2*n-h;a=Up(f,h,e+1/3),l=Up(f,h,e),c=Up(f,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function lh(e,t){return n=>n>0?t:e}const jt=(e,t,n)=>e+(t-e)*n,$p=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},ej=[Dm,Vo,il],tj=e=>ej.find(t=>t.test(e));function Sw(e){const t=tj(e);if(!t)return!1;let n=t.parse(e);return t===il&&(n=QA(n)),n}const kw=(e,t)=>{const n=Sw(e),r=Sw(t);if(!n||!r)return lh(e,t);const a={...n};return l=>(a.red=$p(n.red,r.red,l),a.green=$p(n.green,r.green,l),a.blue=$p(n.blue,r.blue,l),a.alpha=jt(n.alpha,r.alpha,l),Vo.transform(a))},zm=new Set(["none","hidden"]);function nj(e,t){return zm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function rj(e,t){return n=>jt(e,t,n)}function Xg(e){return typeof e=="number"?rj:typeof e=="string"?qg(e)?lh:Kt.test(e)?kw:oj:Array.isArray(e)?Rb:typeof e=="object"?Kt.test(e)?kw:ij:lh}function Rb(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>Xg(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function ij(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Xg(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function sj(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],h=e.values[c]??0;n[a]=h,r[l]++}return n}const oj=(e,t)=>{const n=Js.createTransformer(t),r=tu(e),a=tu(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?zm.has(e)&&!a.values.length||zm.has(t)&&!r.values.length?nj(e,t):cu(Rb(sj(r,a),a.values),n):lh(e,t)};function Nb(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?jt(e,t,n):Xg(e)(e,t)}const aj=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>St.update(t,n),stop:()=>Ys(t),now:()=>fn.isProcessing?fn.timestamp:Hn.now()}},Ab=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ch=2e4;function Qg(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ch;)t+=n,r=e.next(t);return t>=ch?1/0:t}function lj(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Qg(r),ch);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:Pr(a)}}const cj=5;function jb(e,t,n){const r=Math.max(t-cj,0);return ub(n-e(r),t-r)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vp=.001;function uj({duration:e=Dt.duration,bounce:t=Dt.bounce,velocity:n=Dt.velocity,mass:r=Dt.mass}){let a,l,c=1-t;c=es(Dt.minDamping,Dt.maxDamping,c),e=es(Dt.minDuration,Dt.maxDuration,Pr(e)),c<1?(a=m=>{const y=m*c,w=y*e,b=y-n,P=Bm(m,c),C=Math.exp(-w);return Vp-b/P*C},l=m=>{const w=m*c*e,b=w*n+n,P=Math.pow(c,2)*Math.pow(m,2)*e,C=Math.exp(-w),k=Bm(Math.pow(m,2),c);return(-a(m)+Vp>0?-1:1)*((b-P)*C)/k}):(a=m=>{const y=Math.exp(-m*e),w=(m-n)*e+1;return-Vp+y*w},l=m=>{const y=Math.exp(-m*e),w=(n-m)*(e*e);return y*w});const h=5/e,f=hj(a,l,h);if(e=Si(e),isNaN(f))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:e};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:e}}}const dj=12;function hj(e,t,n){let r=n;for(let a=1;a<dj;a++)r=r-e(r)/t(r);return r}function Bm(e,t){return e*Math.sqrt(1-t*t)}const fj=["duration","bounce"],pj=["stiffness","damping","mass"];function Ew(e,t){return t.some(n=>e[n]!==void 0)}function mj(e){let t={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...e};if(!Ew(e,pj)&&Ew(e,fj))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*es(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Dt.mass,stiffness:a,damping:l}}else{const n=uj(e);t={...t,...n,mass:Dt.mass},t.isResolvedFromDuration=!0}return t}function uh(e=Dt.visualDuration,t=Dt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:m,mass:y,duration:w,velocity:b,isResolvedFromDuration:P}=mj({...n,velocity:-Pr(n.velocity||0)}),C=b||0,k=m/(2*Math.sqrt(f*y)),R=c-l,N=Pr(Math.sqrt(f/y)),O=Math.abs(R)<5;r||(r=O?Dt.restSpeed.granular:Dt.restSpeed.default),a||(a=O?Dt.restDelta.granular:Dt.restDelta.default);let A;if(k<1){const z=Bm(N,k);A=H=>{const F=Math.exp(-k*N*H);return c-F*((C+k*N*R)/z*Math.sin(z*H)+R*Math.cos(z*H))}}else if(k===1)A=z=>c-Math.exp(-N*z)*(R+(C+N*R)*z);else{const z=N*Math.sqrt(k*k-1);A=H=>{const F=Math.exp(-k*N*H),M=Math.min(z*H,300);return c-F*((C+k*N*R)*Math.sinh(M)+z*R*Math.cosh(M))/z}}const $={calculatedDuration:P&&w||null,next:z=>{const H=A(z);if(P)h.done=z>=w;else{let F=z===0?C:0;k<1&&(F=z===0?Si(C):jb(A,z,H));const M=Math.abs(F)<=r,ne=Math.abs(c-H)<=a;h.done=M&&ne}return h.value=h.done?c:H,h},toString:()=>{const z=Math.min(Qg($),ch),H=Ab(F=>$.next(z*F).value,z,30);return z+"ms "+H},toTransition:()=>{}};return $}uh.applyToOptions=e=>{const t=lj(e,100,uh);return e.ease=t.ease,e.duration=Si(t.duration),e.type="keyframes",e};function Fm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:m=.5,restSpeed:y}){const w=e[0],b={done:!1,value:w},P=M=>h!==void 0&&M<h||f!==void 0&&M>f,C=M=>h===void 0?f:f===void 0||Math.abs(h-M)<Math.abs(f-M)?h:f;let k=n*t;const R=w+k,N=c===void 0?R:c(R);N!==R&&(k=N-w);const O=M=>-k*Math.exp(-M/r),A=M=>N+O(M),$=M=>{const ne=O(M),ee=A(M);b.done=Math.abs(ne)<=m,b.value=b.done?N:ee};let z,H;const F=M=>{P(b.value)&&(z=M,H=uh({keyframes:[b.value,C(b.value)],velocity:jb(A,M,b.value),damping:a,stiffness:l,restDelta:m,restSpeed:y}))};return F(0),{calculatedDuration:null,next:M=>{let ne=!1;return!H&&z===void 0&&(ne=!0,$(M),F(M)),z!==void 0&&M>=z?H.next(M-z):(!ne&&$(M),b)}}}function gj(e,t,n){const r=[],a=n||ts.mix||Nb,l=e.length-1;for(let c=0;c<l;c++){let h=a(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||Tr:t;h=cu(f,h)}r.push(h)}return r}function vj(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(Wg(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=gj(t,r,a),f=h.length,m=y=>{if(c&&y<e[0])return t[0];let w=0;if(f>1)for(;w<e.length-2&&!(y<e[w+1]);w++);const b=Qc(e[w],e[w+1],y);return h[w](b)};return n?y=>m(es(e[0],e[l-1],y)):m}function yj(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Qc(0,t,r);e.push(jt(n,1,a))}}function wj(e){const t=[0];return yj(t,e.length-1),t}function _j(e,t){return e.map(n=>n*t)}function xj(e,t){return e.map(()=>t||wb).splice(0,e.length-1)}function Uc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=jA(r)?r.map(_w):_w(r),l={done:!1,value:t[0]},c=_j(n&&n.length===t.length?n:wj(t),e),h=vj(c,t,{ease:Array.isArray(a)?a:xj(t,a)});return{calculatedDuration:e,next:f=>(l.value=h(f),l.done=f>=e,l)}}const bj=e=>e!==null;function ev(e,{repeat:t,repeatType:n="loop"},r,a=1){const l=e.filter(bj),h=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const Sj={decay:Fm,inertia:Fm,tween:Uc,keyframes:Uc,spring:uh};function Lb(e){typeof e.type=="string"&&(e.type=Sj[e.type])}class tv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const kj=e=>e/100;class nv extends tv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Hn.now()&&this.tick(Hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Lb(t);const{type:n=Uc,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:h}=t;const f=n||Uc;f!==Uc&&typeof h[0]!="number"&&(this.mixKeyframes=cu(kj,Nb(h[0],h[1])),h=[0,100]);const m=f({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Qg(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:y,repeat:w,repeatType:b,repeatDelay:P,type:C,onUpdate:k,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-m*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let A=this.currentTime,$=r;if(w){const M=Math.min(this.currentTime,a)/h;let ne=Math.floor(M),ee=M%1;!ee&&M>=1&&(ee=1),ee===1&&ne--,ne=Math.min(ne,w+1),!!(ne%2)&&(b==="reverse"?(ee=1-ee,P&&(ee-=P/h)):b==="mirror"&&($=c)),A=es(0,1,ee)*h}const z=O?{done:!1,value:y[0]}:$.next(A);l&&(z.value=l(z.value));let{done:H}=z;!O&&f!==null&&(H=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return F&&C!==Fm&&(z.value=ev(y,this.options,R,this.speed)),k&&k(z.value),F&&this.finish(),z}then(t,n){return this.finished.then(t,n)}get duration(){return Pr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Pr(t)}get time(){return Pr(this.currentTime)}set time(t){var n;t=Si(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Hn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Pr(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:t=aj,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Ej(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Wo=e=>e*180/Math.PI,Um=e=>{const t=Wo(Math.atan2(e[1],e[0]));return $m(t)},Pj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Um,rotateZ:Um,skewX:e=>Wo(Math.atan(e[1])),skewY:e=>Wo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$m=e=>(e=e%360,e<0&&(e+=360),e),Pw=Um,Tw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Cw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Tj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Tw,scaleY:Cw,scale:e=>(Tw(e)+Cw(e))/2,rotateX:e=>$m(Wo(Math.atan2(e[6],e[5]))),rotateY:e=>$m(Wo(Math.atan2(-e[2],e[0]))),rotateZ:Pw,rotate:Pw,skewX:e=>Wo(Math.atan(e[4])),skewY:e=>Wo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Vm(e){return e.includes("scale")?1:0}function Wm(e,t){if(!e||e==="none")return Vm(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=Tj,a=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Pj,a=h}if(!a)return Vm(t);const l=r[t],c=a[1].split(",").map(Rj);return typeof l=="function"?l(c):c[l]}const Cj=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Wm(n,t)};function Rj(e){return parseFloat(e.trim())}const Cl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rl=new Set(Cl),Rw=e=>e===Tl||e===We,Nj=new Set(["x","y","z"]),Aj=Cl.filter(e=>!Nj.has(e));function jj(e){const t=[];return Aj.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ko={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Wm(t,"x"),y:(e,{transform:t})=>Wm(t,"y")};Ko.translateX=Ko.x;Ko.translateY=Ko.y;const Go=new Set;let Hm=!1,Km=!1,Gm=!1;function Ob(){if(Km){const e=Array.from(Go).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=jj(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var h;(h=r.getValue(l))==null||h.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Km=!1,Hm=!1,Go.forEach(e=>e.complete(Gm)),Go.clear()}function Ib(){Go.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Km=!0)})}function Lj(){Gm=!0,Ib(),Ob(),Gm=!1}class rv{constructor(t,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Go.add(this),Hm||(Hm=!0,St.read(Ib),St.resolveKeyframes(Ob))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}Ej(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Go.delete(this)}cancel(){this.state==="scheduled"&&(Go.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Oj=e=>e.startsWith("--");function Ij(e,t,n){Oj(t)?e.style.setProperty(t,n):e.style[t]=n}const Mj=Hg(()=>window.ScrollTimeline!==void 0),Dj={};function zj(e,t){const n=Hg(e);return()=>Dj[t]??n()}const Mb=zj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Nw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lc([0,.65,.55,1]),circOut:Lc([.55,0,1,.45]),backIn:Lc([.31,.01,.66,-.59]),backOut:Lc([.33,1.53,.69,.99])};function Db(e,t){if(e)return typeof e=="function"?Mb()?Ab(e,t):"ease-out":_b(e)?Lc(e):Array.isArray(e)?e.map(n=>Db(n,t)||Nw.easeOut):Nw[e]}function Bj(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:f}={},m=void 0){const y={[t]:n};f&&(y.offset=f);const w=Db(h,a);Array.isArray(w)&&(y.easing=w);const b={delay:r,duration:a,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),e.animate(y,b)}function zb(e){return typeof e=="function"&&"applyToOptions"in e}function Fj({type:e,...t}){return zb(e)&&Mb()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Uj extends tv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Wg(typeof t.type!="string");const m=Fj(t);this.animation=Bj(n,r,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=ev(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):Ij(n,r,y),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Pr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Pr(t)}get time(){return Pr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Si(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Mj()?(this.animation.timeline=t,Tr):n(this)}}const Bb={anticipate:gb,backInOut:mb,circInOut:yb};function $j(e){return e in Bb}function Vj(e){typeof e.ease=="string"&&$j(e.ease)&&(e.ease=Bb[e.ease])}const Aw=10;class Wj extends Uj{constructor(t){Vj(t),Lb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new nv({...c,autoplay:!1}),f=Si(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-Aw).value,h.sample(f).value,Aw),h.stop()}}const jw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Js.test(e)||e==="0")&&!e.startsWith("url("));function Hj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Kj(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=jw(a,t),h=jw(l,t);return!c||!h?!1:Hj(e)||(n==="spring"||zb(n))&&r}function Zm(e){e.duration=0,e.type="keyframes"}const Gj=new Set(["opacity","clipPath","filter","transform"]),Zj=Hg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qj(e){var y;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=e;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return Zj()&&n&&Gj.has(n)&&(n!=="transform"||!m)&&!f&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const Yj=40;class Jj extends tv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:f,motionValue:m,element:y,...w}){var C;super(),this.stop=()=>{var k,R;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=Hn.now();const b={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:y,...w},P=(y==null?void 0:y.KeyframeResolver)||rv;this.keyframeResolver=new P(h,(k,R,N)=>this.onKeyframesResolved(k,R,b,!N),f,m,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:f,isHandoff:m,onUpdate:y}=r;this.resolvedAt=Hn.now(),Kj(t,l,c,h)||((ts.instantAnimations||!f)&&(y==null||y(ev(t,r,n))),t[0]=t[t.length-1],Zm(r),r.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Yj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},P=!m&&qj(b)?new Wj({...b,element:b.motionValue.owner.current}):new nv(b);P.finished.then(()=>this.notifyFinished()).catch(Tr),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Lj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Xj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qj(e){const t=Xj.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function Fb(e,t,n=1){const[r,a]=Qj(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return ab(c)?parseFloat(c):c}return qg(a)?Fb(a,t,n+1):a}function iv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Ub=new Set(["width","height","top","left","right","bottom",...Cl]),eL={test:e=>e==="auto",parse:e=>e},$b=e=>t=>t.test(e),Vb=[Tl,We,ki,Hs,HA,WA,eL],Lw=e=>Vb.find($b(e));function tL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||cb(e):!0}const nL=new Set(["brightness","contrast","saturate","opacity"]);function rL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Yg)||[];if(!r)return e;const a=n.replace(r,"");let l=nL.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const iL=/\b([a-z-]*)\(.*?\)/gu,qm={...Js,getAnimatableNone:e=>{const t=e.match(iL);return t?t.map(rL).join(" "):e}},Ow={...Tl,transform:Math.round},sL={rotate:Hs,rotateX:Hs,rotateY:Hs,rotateZ:Hs,scale:Md,scaleX:Md,scaleY:Md,scaleZ:Md,skew:Hs,skewX:Hs,skewY:Hs,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:eu,originX:xw,originY:xw,originZ:We},sv={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We,...sL,zIndex:Ow,fillOpacity:eu,strokeOpacity:eu,numOctaves:Ow},oL={...sv,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:qm,WebkitFilter:qm},Wb=e=>oL[e];function Hb(e,t){let n=Wb(e);return n!==qm&&(n=Js),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const aL=new Set(["auto","none","0"]);function lL(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!aL.has(l)&&tu(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=Hb(n,a)}class cL extends rv{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),qg(m))){const y=Fb(m,n.current);y!==void 0&&(t[f]=y),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Ub.has(r)||t.length!==2)return;const[a,l]=t,c=Lw(a),h=Lw(l);if(c!==h)if(Rw(c)&&Rw(h))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else Ko[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||tL(t[a]))&&r.push(a);r.length&&lL(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ko[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var h;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Ko[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function uL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Kb=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Gb(e){return lb(e)&&"offsetHeight"in e}const Iw=30,dL=e=>!isNaN(parseFloat(e));class hL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const a=Hn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=dL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Kg);const r=this.events[t].add(n);return t==="change"?()=>{r(),St.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Iw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Iw);return ub(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(e,t){return new hL(e,t)}const{schedule:ov}=xb(queueMicrotask,!1),Hr={x:!1,y:!1};function Zb(){return Hr.x||Hr.y}function fL(e){return e==="x"||e==="y"?Hr[e]?null:(Hr[e]=!0,()=>{Hr[e]=!1}):Hr.x||Hr.y?null:(Hr.x=Hr.y=!0,()=>{Hr.x=Hr.y=!1})}function qb(e,t){const n=uL(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function Mw(e){return!(e.pointerType==="touch"||Zb())}function pL(e,t,n={}){const[r,a,l]=qb(e,n),c=h=>{if(!Mw(h))return;const{target:f}=h,m=t(f,h);if(typeof m!="function"||!f)return;const y=w=>{Mw(w)&&(m(w),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,a)};return r.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const Yb=(e,t)=>t?e===t?!0:Yb(e,t.parentElement):!1,av=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gL(e){return mL.has(e.tagName)||e.tabIndex!==-1}const Xd=new WeakSet;function Dw(e){return t=>{t.key==="Enter"&&e(t)}}function Wp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const vL=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Dw(()=>{if(Xd.has(n))return;Wp(n,"down");const a=Dw(()=>{Wp(n,"up")}),l=()=>Wp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function zw(e){return av(e)&&!Zb()}function yL(e,t,n={}){const[r,a,l]=qb(e,n),c=h=>{const f=h.currentTarget;if(!zw(h))return;Xd.add(f);const m=t(f,h),y=(P,C)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",b),Xd.has(f)&&Xd.delete(f),zw(P)&&typeof m=="function"&&m(P,{success:C})},w=P=>{y(P,f===window||f===document||n.useGlobalTarget||Yb(f,P.target))},b=P=>{y(P,!1)};window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",b,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),Gb(h)&&(h.addEventListener("focus",m=>vL(m,a)),!gL(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Jb(e){return lb(e)&&"ownerSVGElement"in e}function wL(e){return Jb(e)&&e.tagName==="svg"}const En=e=>!!(e&&e.getVelocity),_L=[...Vb,Kt,Js],xL=e=>_L.find($b(e)),lv=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Bw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bL(...e){return t=>{let n=!1;const r=e.map(a=>{const l=Bw(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():Bw(e[a],null)}}}}function SL(...e){return E.useCallback(bL(...e),e)}class kL extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=Gb(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function EL({children:e,isPresent:t,anchorX:n,root:r}){const a=E.useId(),l=E.useRef(null),c=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=E.useContext(lv),f=SL(l,e==null?void 0:e.ref);return E.useInsertionEffect(()=>{const{width:m,height:y,top:w,left:b,right:P}=c.current;if(t||!l.current||!m||!y)return;const C=n==="left"?`left: ${b}`:`right: ${P}`;l.current.dataset.motionPopId=a;const k=document.createElement("style");h&&(k.nonce=h);const R=r??document.head;return R.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${y}px !important;
            ${C}px !important;
            top: ${w}px !important;
          }
        `),()=>{R.contains(k)&&R.removeChild(k)}},[t]),v.jsx(kL,{isPresent:t,childRef:l,sizeRef:c,children:E.cloneElement(e,{ref:f})})}const PL=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:f})=>{const m=Fg(TL),y=E.useId();let w=!0,b=E.useMemo(()=>(w=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:P=>{m.set(P,!0);for(const C of m.values())if(!C)return;r&&r()},register:P=>(m.set(P,!1),()=>m.delete(P))}),[n,m,r]);return l&&w&&(b={...b}),E.useMemo(()=>{m.forEach((P,C)=>m.set(C,!1))},[n]),E.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(e=v.jsx(EL,{isPresent:n,anchorX:h,root:f,children:e})),v.jsx(Th.Provider,{value:b,children:e})};function TL(){return new Map}function Xb(e=!0){const t=E.useContext(Th);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=E.useId();E.useEffect(()=>{if(e)return a(l)},[e]);const c=E.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const Dd=e=>e.key||"";function Fw(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const CL=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:f})=>{const[m,y]=Xb(c),w=E.useMemo(()=>Fw(e),[e]),b=c&&!m?[]:w.map(Dd),P=E.useRef(!0),C=E.useRef(w),k=Fg(()=>new Map),[R,N]=E.useState(w),[O,A]=E.useState(w);ob(()=>{P.current=!1,C.current=w;for(let H=0;H<O.length;H++){const F=Dd(O[H]);b.includes(F)?k.delete(F):k.get(F)!==!0&&k.set(F,!1)}},[O,b.length,b.join("-")]);const $=[];if(w!==R){let H=[...w];for(let F=0;F<O.length;F++){const M=O[F],ne=Dd(M);b.includes(ne)||(H.splice(F,0,M),$.push(M))}return l==="wait"&&$.length&&(H=$),A(Fw(H)),N(w),null}const{forceRender:z}=E.useContext(Bg);return v.jsx(v.Fragment,{children:O.map(H=>{const F=Dd(H),M=c&&!m?!1:w===O||b.includes(F),ne=()=>{if(k.has(F))k.set(F,!0);else return;let ee=!0;k.forEach(ae=>{ae||(ee=!1)}),ee&&(z==null||z(),A(C.current),c&&(y==null||y()),r&&r())};return v.jsx(PL,{isPresent:M,initial:!P.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:M?void 0:ne,anchorX:h,children:H},F)})})},Qb=E.createContext({strict:!1}),Uw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const e in Uw)wl[e]={isEnabled:t=>Uw[e].some(n=>!!t[n])};function RL(e){for(const t in e)wl[t]={...wl[t],...e[t]}}const NL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||NL.has(e)}let eS=e=>!dh(e);function AL(e){typeof e=="function"&&(eS=t=>t.startsWith("on")?!dh(t):e(t))}try{AL(require("@emotion/is-prop-valid").default)}catch{}function jL(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(eS(a)||n===!0&&dh(a)||!t&&!dh(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const Ch=E.createContext({});function Rh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function nu(e){return typeof e=="string"||Array.isArray(e)}const cv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uv=["initial",...cv];function Nh(e){return Rh(e.animate)||uv.some(t=>nu(e[t]))}function tS(e){return!!(Nh(e)||e.variants)}function LL(e,t){if(Nh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||nu(n)?n:void 0,animate:nu(r)?r:void 0}}return e.inherit!==!1?t:{}}function OL(e){const{initial:t,animate:n}=LL(e,E.useContext(Ch));return E.useMemo(()=>({initial:t,animate:n}),[$w(t),$w(n)])}function $w(e){return Array.isArray(e)?e.join(" "):e}function Vw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Nc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(We.test(e))e=parseFloat(e);else return e;const n=Vw(e,t.target.x),r=Vw(e,t.target.y);return`${n}% ${r}%`}},IL={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Js.parse(e);if(a.length>5)return r;const l=Js.createTransformer(e),c=typeof a[0]!="number"?1:0,h=n.x.scale*t.x,f=n.y.scale*t.y;a[0+c]/=h,a[1+c]/=f;const m=jt(h,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},Ym={borderRadius:{...Nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nc,borderTopRightRadius:Nc,borderBottomLeftRadius:Nc,borderBottomRightRadius:Nc,boxShadow:IL};function nS(e,{layout:t,layoutId:n}){return Rl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ym[e]||e==="opacity")}const ML={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DL=Cl.length;function zL(e,t,n){let r="",a=!0;for(let l=0;l<DL;l++){const c=Cl[l],h=e[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const m=Kb(h,sv[c]);if(!f){a=!1;const y=ML[c]||c;r+=`${y}(${m}) `}n&&(t[c]=m)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function dv(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,h=!1;for(const f in t){const m=t[f];if(Rl.has(f)){c=!0;continue}else if(Sb(f)){a[f]=m;continue}else{const y=Kb(m,sv[f]);f.startsWith("origin")?(h=!0,l[f]=y):r[f]=y}}if(t.transform||(c||n?r.transform=zL(t,e.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:m="50%",originZ:y=0}=l;r.transformOrigin=`${f} ${m} ${y}`}}const hv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rS(e,t,n){for(const r in t)!En(t[r])&&!nS(r,n)&&(e[r]=t[r])}function BL({transformTemplate:e},t){return E.useMemo(()=>{const n=hv();return dv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function FL(e,t){const n=e.style||{},r={};return rS(r,n,e),Object.assign(r,BL(e,t)),r}function UL(e,t){const n={},r=FL(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const $L={offset:"stroke-dashoffset",array:"stroke-dasharray"},VL={offset:"strokeDashoffset",array:"strokeDasharray"};function WL(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?$L:VL;e[l.offset]=We.transform(-r);const c=We.transform(t),h=We.transform(n);e[l.array]=`${c} ${h}`}function iS(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},f,m,y){if(dv(e,h,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:b}=e;w.transform&&(b.transform=w.transform,delete w.transform),(b.transform||w.transformOrigin)&&(b.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),b.transform&&(b.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete w.transformBox),t!==void 0&&(w.x=t),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),a!==void 0&&WL(w,a,l,c,!1)}const sS=()=>({...hv(),attrs:{}}),oS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function HL(e,t,n,r){const a=E.useMemo(()=>{const l=sS();return iS(l,t,oS(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};rS(l,e.style,e),a.style={...l,...a.style}}return a}const KL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fv(e){return typeof e!="string"||e.includes("-")?!1:!!(KL.indexOf(e)>-1||/[A-Z]/u.test(e))}function GL(e,t,n,{latestValues:r},a,l=!1){const h=(fv(e)?HL:UL)(t,r,a,e),f=jL(t,typeof e=="string",l),m=e!==E.Fragment?{...f,...h,ref:n}:{},{children:y}=t,w=E.useMemo(()=>En(y)?y.get():y,[y]);return E.createElement(e,{...m,children:w})}function Ww(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function pv(e,t,n,r){if(typeof t=="function"){const[a,l]=Ww(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=Ww(r);t=t(n!==void 0?n:e.custom,a,l)}return t}function Qd(e){return En(e)?e.get():e}function ZL({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:qL(n,r,a,e),renderState:t()}}function qL(e,t,n,r){const a={},l=r(e,{});for(const b in l)a[b]=Qd(l[b]);let{initial:c,animate:h}=e;const f=Nh(e),m=tS(e);t&&m&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const w=y?h:c;if(w&&typeof w!="boolean"&&!Rh(w)){const b=Array.isArray(w)?w:[w];for(let P=0;P<b.length;P++){const C=pv(e,b[P]);if(C){const{transitionEnd:k,transition:R,...N}=C;for(const O in N){let A=N[O];if(Array.isArray(A)){const $=y?A.length-1:0;A=A[$]}A!==null&&(a[O]=A)}for(const O in k)a[O]=k[O]}}}return a}const aS=e=>(t,n)=>{const r=E.useContext(Ch),a=E.useContext(Th),l=()=>ZL(e,t,r,a);return n?l():Fg(l)};function mv(e,t,n){var l;const{style:r}=e,a={};for(const c in r)(En(r[c])||t.style&&En(t.style[c])||nS(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const YL=aS({scrapeMotionValuesFromProps:mv,createRenderState:hv});function lS(e,t,n){const r=mv(e,t,n);for(const a in e)if(En(e[a])||En(t[a])){const l=Cl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const JL=aS({scrapeMotionValuesFromProps:lS,createRenderState:sS}),XL=Symbol.for("motionComponentSymbol");function sl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function QL(e,t,n){return E.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):sl(n)&&(n.current=r))},[t])}const gv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),e2="framerAppearId",cS="data-"+gv(e2),uS=E.createContext({});function t2(e,t,n,r,a){var k,R;const{visualElement:l}=E.useContext(Ch),c=E.useContext(Qb),h=E.useContext(Th),f=E.useContext(lv).reducedMotion,m=E.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const y=m.current,w=E.useContext(uS);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&n2(m.current,n,a,w);const b=E.useRef(!1);E.useInsertionEffect(()=>{y&&b.current&&y.update(n,h)});const P=n[cS],C=E.useRef(!!P&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,P))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,P)));return ob(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),C.current&&y.animationState&&y.animationState.animateChanges())}),E.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,P)}),C.current=!1),y.enteringChildren=void 0)}),y}function n2(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:m,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:dS(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&sl(h),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:f,layoutRoot:m})}function dS(e){if(e)return e.options.allowProjection!==!1?e.projection:dS(e.parent)}function Hp(e,{forwardMotionProps:t=!1}={},n,r){n&&RL(n);const a=fv(e)?JL:YL;function l(h,f){let m;const y={...E.useContext(lv),...h,layoutId:r2(h)},{isStatic:w}=y,b=OL(h),P=a(h,w);if(!w&&Ug){i2();const C=s2(y);m=C.MeasureLayout,b.visualElement=t2(e,P,y,r,C.ProjectionNode)}return v.jsxs(Ch.Provider,{value:b,children:[m&&b.visualElement?v.jsx(m,{visualElement:b.visualElement,...y}):null,GL(e,h,QL(P,b.visualElement,f),P,w,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=E.forwardRef(l);return c[XL]=e,c}function r2({layoutId:e}){const t=E.useContext(Bg).id;return t&&e!==void 0?t+"-"+e:e}function i2(e,t){E.useContext(Qb).strict}function s2(e){const{drag:t,layout:n}=wl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function o2(e,t){if(typeof Proxy>"u")return Hp;const n=new Map,r=(l,c)=>Hp(l,c,e,t),a=(l,c)=>r(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,Hp(c,void 0,e,t)),n.get(c))})}function hS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function a2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function l2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Kp(e){return e===void 0||e===1}function Jm({scale:e,scaleX:t,scaleY:n}){return!Kp(e)||!Kp(t)||!Kp(n)}function Bo(e){return Jm(e)||fS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fS(e){return Hw(e.x)||Hw(e.y)}function Hw(e){return e&&e!=="0%"}function hh(e,t,n){const r=e-n,a=t*r;return n+a}function Kw(e,t,n,r,a){return a!==void 0&&(e=hh(e,a,r)),hh(e,n,r)+t}function Xm(e,t=0,n=1,r,a){e.min=Kw(e.min,t,n,r,a),e.max=Kw(e.max,t,n,r,a)}function pS(e,{x:t,y:n}){Xm(e.x,t.translate,t.scale,t.originPoint),Xm(e.y,n.translate,n.scale,n.originPoint)}const Gw=.999999999999,Zw=1.0000000000001;function c2(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&al(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,pS(e,c)),r&&Bo(l.latestValues)&&al(e,l.latestValues))}t.x<Zw&&t.x>Gw&&(t.x=1),t.y<Zw&&t.y>Gw&&(t.y=1)}function ol(e,t){e.min=e.min+t,e.max=e.max+t}function qw(e,t,n,r,a=.5){const l=jt(e.min,e.max,a);Xm(e,t,n,l,r)}function al(e,t){qw(e.x,t.x,t.scaleX,t.scale,t.originX),qw(e.y,t.y,t.scaleY,t.scale,t.originY)}function mS(e,t){return hS(l2(e.getBoundingClientRect(),t))}function u2(e,t,n){const r=mS(e,n),{scroll:a}=t;return a&&(ol(r.x,a.offset.x),ol(r.y,a.offset.y)),r}const Yw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ll=()=>({x:Yw(),y:Yw()}),Jw=()=>({min:0,max:0}),tn=()=>({x:Jw(),y:Jw()}),Qm={current:null},gS={current:!1};function d2(){if(gS.current=!0,!!Ug)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Qm.current=e.matches;e.addEventListener("change",t),t()}else Qm.current=!1}const h2=new WeakMap;function f2(e,t,n){for(const r in t){const a=t[r],l=n[r];if(En(a))e.addValue(r,a);else if(En(l))e.addValue(r,yl(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,yl(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Xw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class p2{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Hn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,St.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Nh(n),this.isVariantNode=tS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in w){const P=w[b];f[b]!==void 0&&En(P)&&P.set(f[b])}}mount(t){var n;this.current=t,h2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),gS.current||d2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qm.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ys(this.notifyUpdate),Ys(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Rl.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&St.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wl){const n=wl[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Xw.length;r++){const a=Xw[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=f2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=yl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ab(r)||cb(r))?r=parseFloat(r):!xL(r)&&Js.test(n)&&(r=Hb(t,n)),this.setBaseTarget(t,En(r)?r.get():r)),En(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=pv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!En(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Kg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){ov.render(this.render)}}class vS extends p2{constructor(){super(...arguments),this.KeyframeResolver=cL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yS(e,{style:t,vars:n},r,a){const l=e.style;let c;for(c in t)l[c]=t[c];a==null||a.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function m2(e){return window.getComputedStyle(e)}class g2 extends vS{constructor(){super(...arguments),this.type="html",this.renderInstance=yS}readValueFromInstance(t,n){var r;if(Rl.has(n))return(r=this.projection)!=null&&r.isProjecting?Vm(n):Cj(t,n);{const a=m2(t),l=(Sb(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return mS(t,n)}build(t,n,r){dv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return mv(t,n,r)}}const wS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v2(e,t,n,r){yS(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(wS.has(a)?a:gv(a),t.attrs[a])}class y2 extends vS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Rl.has(n)){const r=Wb(n);return r&&r.default||0}return n=wS.has(n)?n:gv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return lS(t,n,r)}build(t,n,r){iS(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){v2(t,n,r,a)}mount(t){this.isSVGTag=oS(t.tagName),super.mount(t)}}const w2=(e,t)=>fv(e)?new y2(t):new g2(t,{allowProjection:e!==E.Fragment});function ul(e,t,n){const r=e.getProps();return pv(r,t,n!==void 0?n:r.custom,e)}const eg=e=>Array.isArray(e);function _2(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,yl(n))}function x2(e){return eg(e)?e[e.length-1]||0:e}function b2(e,t){const n=ul(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const h=x2(l[c]);_2(e,c,h)}}function S2(e){return!!(En(e)&&e.add)}function tg(e,t){const n=e.getValue("willChange");if(S2(n))return n.add(t);if(!n&&ts.WillChange){const r=new ts.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function _S(e){return e.props[cS]}const k2=e=>e!==null;function E2(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(k2),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const P2={type:"spring",stiffness:500,damping:25,restSpeed:10},T2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),C2={type:"keyframes",duration:.8},R2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},N2=(e,{keyframes:t})=>t.length>2?C2:Rl.has(e)?e.startsWith("scale")?T2(t[1]):P2:R2;function A2({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:m,...y}){return!!Object.keys(y).length}const vv=(e,t,n,r={},a,l)=>c=>{const h=iv(r,e)||{},f=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Si(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-m,onUpdate:b=>{t.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:l?void 0:a};A2(h)||Object.assign(y,N2(e,y)),y.duration&&(y.duration=Si(y.duration)),y.repeatDelay&&(y.repeatDelay=Si(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let w=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Zm(y),y.delay===0&&(w=!0)),(ts.instantAnimations||ts.skipAnimations)&&(w=!0,Zm(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,w&&!l&&t.get()!==void 0){const b=E2(y.keyframes,h);if(b!==void 0){St.update(()=>{y.onUpdate(b),y.onComplete()});return}}return h.isSync?new nv(y):new Jj(y)};function j2({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function xS(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...h}=t;r&&(l=r);const f=[],m=a&&e.animationState&&e.animationState.getState()[a];for(const y in h){const w=e.getValue(y,e.latestValues[y]??null),b=h[y];if(b===void 0||m&&j2(m,y))continue;const P={delay:n,...iv(l||{},y)},C=w.get();if(C!==void 0&&!w.isAnimating&&!Array.isArray(b)&&b===C&&!P.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const N=_S(e);if(N){const O=window.MotionHandoffAnimation(N,y,St);O!==null&&(P.startTime=O,k=!0)}}tg(e,y),w.start(vv(y,w,b,e.shouldReduceMotion&&Ub.has(y)?{type:!1}:P,e,k));const R=w.animation;R&&f.push(R)}return c&&Promise.all(f).then(()=>{St.update(()=>{c&&b2(e,c)})}),f}function bS(e,t,n,r=0,a=1){const l=Array.from(e).sort((m,y)=>m.sortNodePosition(y)).indexOf(t),c=e.size,h=(c-1)*r;return typeof n=="function"?n(l,c):a===1?l*r:h-l*r}function ng(e,t,n={}){var f;const r=ul(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(xS(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:w,staggerDirection:b}=a;return L2(e,t,m,y,w,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,y]=h==="beforeChildren"?[l,c]:[c,l];return m().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function L2(e,t,n=0,r=0,a=0,l=1,c){const h=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),h.push(ng(f,t,{...c,delay:n+(typeof r=="function"?0:r)+bS(e.variantChildren,f,r,a,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(h)}function O2(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>ng(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=ng(e,t,n);else{const a=typeof t=="function"?ul(e,t,n.custom):t;r=Promise.all(xS(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function SS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const I2=uv.length;function kS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?kS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<I2;n++){const r=uv[n],a=e.props[r];(nu(a)||a===!1)&&(t[r]=a)}return t}const M2=[...cv].reverse(),D2=cv.length;function z2(e){return t=>Promise.all(t.map(({animation:n,options:r})=>O2(e,n,r)))}function B2(e){let t=z2(e),n=Qw(),r=!0;const a=f=>(m,y)=>{var b;const w=ul(e,y,f==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(w){const{transition:P,transitionEnd:C,...k}=w;m={...m,...k,...C}}return m};function l(f){t=f(e)}function c(f){const{props:m}=e,y=kS(e.parent)||{},w=[],b=new Set;let P={},C=1/0;for(let R=0;R<D2;R++){const N=M2[R],O=n[N],A=m[N]!==void 0?m[N]:y[N],$=nu(A),z=N===f?O.isActive:null;z===!1&&(C=R);let H=A===y[N]&&A!==m[N]&&$;if(H&&r&&e.manuallyAnimateOnMount&&(H=!1),O.protectedKeys={...P},!O.isActive&&z===null||!A&&!O.prevProp||Rh(A)||typeof A=="boolean")continue;const F=F2(O.prevProp,A);let M=F||N===f&&O.isActive&&!H&&$||R>C&&$,ne=!1;const ee=Array.isArray(A)?A:[A];let ae=ee.reduce(a(N),{});z===!1&&(ae={});const{prevResolvedValues:ce={}}=O,ye={...ce,...ae},ge=le=>{M=!0,b.has(le)&&(ne=!0,b.delete(le)),O.needsAnimating[le]=!0;const D=e.getValue(le);D&&(D.liveStyle=!1)};for(const le in ye){const D=ae[le],re=ce[le];if(P.hasOwnProperty(le))continue;let q=!1;eg(D)&&eg(re)?q=!SS(D,re):q=D!==re,q?D!=null?ge(le):b.add(le):D!==void 0&&b.has(le)?ge(le):O.protectedKeys[le]=!0}O.prevProp=A,O.prevResolvedValues=ae,O.isActive&&(P={...P,...ae}),r&&e.blockInitialAnimation&&(M=!1);const J=H&&F;M&&(!J||ne)&&w.push(...ee.map(le=>{const D={type:N};if(typeof le=="string"&&r&&!J&&e.manuallyAnimateOnMount&&e.parent){const{parent:re}=e,q=ul(re,le);if(re.enteringChildren&&q){const{delayChildren:B}=q.transition||{};D.delay=bS(re.enteringChildren,e,B)}}return{animation:le,options:D}}))}if(b.size){const R={};if(typeof m.initial!="boolean"){const N=ul(e,Array.isArray(m.initial)?m.initial[0]:m.initial);N&&N.transition&&(R.transition=N.transition)}b.forEach(N=>{const O=e.getBaseTarget(N),A=e.getValue(N);A&&(A.liveStyle=!0),R[N]=O??null}),w.push({animation:R})}let k=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(k=!1),r=!1,k?t(w):Promise.resolve()}function h(f,m){var w;if(n[f].isActive===m)return Promise.resolve();(w=e.variantChildren)==null||w.forEach(b=>{var P;return(P=b.animationState)==null?void 0:P.setActive(f,m)}),n[f].isActive=m;const y=c(f);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Qw()}}}function F2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!SS(t,e):!1}function Io(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qw(){return{animate:Io(!0),whileInView:Io(),whileHover:Io(),whileTap:Io(),whileDrag:Io(),whileFocus:Io(),exit:Io()}}class to{constructor(t){this.isMounted=!1,this.node=t}update(){}}class U2 extends to{constructor(t){super(t),t.animationState||(t.animationState=B2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Rh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let $2=0;class V2 extends to{constructor(){super(...arguments),this.id=$2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const W2={animation:{Feature:U2},exit:{Feature:V2}};function ru(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function hu(e){return{point:{x:e.pageX,y:e.pageY}}}const H2=e=>t=>av(t)&&e(t,hu(t));function $c(e,t,n,r){return ru(e,t,H2(n),r)}const ES=1e-4,K2=1-ES,G2=1+ES,PS=.01,Z2=0-PS,q2=0+PS;function On(e){return e.max-e.min}function Y2(e,t,n){return Math.abs(e-t)<=n}function e_(e,t,n,r=.5){e.origin=r,e.originPoint=jt(t.min,t.max,e.origin),e.scale=On(n)/On(t),e.translate=jt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=K2&&e.scale<=G2||isNaN(e.scale))&&(e.scale=1),(e.translate>=Z2&&e.translate<=q2||isNaN(e.translate))&&(e.translate=0)}function Vc(e,t,n,r){e_(e.x,t.x,n.x,r?r.originX:void 0),e_(e.y,t.y,n.y,r?r.originY:void 0)}function t_(e,t,n){e.min=n.min+t.min,e.max=e.min+On(t)}function J2(e,t,n){t_(e.x,t.x,n.x),t_(e.y,t.y,n.y)}function n_(e,t,n){e.min=t.min-n.min,e.max=e.min+On(t)}function fh(e,t,n){n_(e.x,t.x,n.x),n_(e.y,t.y,n.y)}function Er(e){return[e("x"),e("y")]}const TS=({current:e})=>e?e.ownerDocument.defaultView:null,r_=(e,t)=>Math.abs(e-t);function X2(e,t){const n=r_(e.x,t.x),r=r_(e.y,t.y);return Math.sqrt(n**2+r**2)}class CS{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Zp(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,C=X2(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!C)return;const{point:k}=b,{timestamp:R}=fn;this.history.push({...k,timestamp:R});const{onStart:N,onMove:O}=this.handlers;P||(N&&N(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,b)},this.handlePointerMove=(b,P)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Gp(P,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(b,P)=>{this.end();const{onEnd:C,onSessionEnd:k,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Zp(b.type==="pointercancel"?this.lastMoveEventInfo:Gp(P,this.transformPagePoint),this.history);this.startEvent&&C&&C(b,N),k&&k(b,N)},!av(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const h=hu(t),f=Gp(h,this.transformPagePoint),{point:m}=f,{timestamp:y}=fn;this.history=[{...m,timestamp:y}];const{onSessionStart:w}=n;w&&w(t,Zp(f,this.history)),this.removeListeners=cu($c(this.contextWindow,"pointermove",this.handlePointerMove),$c(this.contextWindow,"pointerup",this.handlePointerUp),$c(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ys(this.updatePoint)}}function Gp(e,t){return t?{point:t(e.point)}:e}function i_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zp({point:e},t){return{point:e,delta:i_(e,RS(t)),offset:i_(e,Q2(t)),velocity:eO(t,.1)}}function Q2(e){return e[0]}function RS(e){return e[e.length-1]}function eO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=RS(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Si(t)));)n--;if(!r)return{x:0,y:0};const l=Pr(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function tO(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?jt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?jt(n,e,r.max):Math.min(e,n)),e}function s_(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function nO(e,{top:t,left:n,bottom:r,right:a}){return{x:s_(e.x,n,a),y:s_(e.y,t,r)}}function o_(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function rO(e,t){return{x:o_(e.x,t.x),y:o_(e.y,t.y)}}function iO(e,t){let n=.5;const r=On(e),a=On(t);return a>r?n=Qc(t.min,t.max-r,e.min):r>a&&(n=Qc(e.min,e.max-a,t.min)),es(0,1,n)}function sO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const rg=.35;function oO(e=rg){return e===!1?e=0:e===!0&&(e=rg),{x:a_(e,"left","right"),y:a_(e,"top","bottom")}}function a_(e,t,n){return{min:l_(e,t),max:l_(e,n)}}function l_(e,t){return typeof e=="number"?e:e[t]||0}const aO=new WeakMap;class lO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=w=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hu(w).point)},c=(w,b)=>{const{drag:P,dragPropagation:C,onDragStart:k}=this.getProps();if(P&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fL(P),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Er(N=>{let O=this.getAxisMotionValue(N).get()||0;if(ki.test(O)){const{projection:A}=this.visualElement;if(A&&A.layout){const $=A.layout.layoutBox[N];$&&(O=On($)*(parseFloat(O)/100))}}this.originPoint[N]=O}),k&&St.postRender(()=>k(w,b)),tg(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},h=(w,b)=>{this.latestPointerEvent=w,this.latestPanInfo=b;const{dragPropagation:P,dragDirectionLock:C,onDirectionLock:k,onDrag:R}=this.getProps();if(!P&&!this.openDragLock)return;const{offset:N}=b;if(C&&this.currentDirection===null){this.currentDirection=cO(N),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",b.point,N),this.updateAxis("y",b.point,N),this.visualElement.render(),R&&R(w,b)},f=(w,b)=>{this.latestPointerEvent=w,this.latestPanInfo=b,this.stop(w,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Er(w=>{var b;return this.getAnimationState(w)==="paused"&&((b=this.getAxisMotionValue(w).animation)==null?void 0:b.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new CS(t,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:TS(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&St.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!zd(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=tO(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&sl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=nO(r.layoutBox,t):this.constraints=!1,this.elastic=oO(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Er(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=sO(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!sl(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=u2(r,a.root,this.visualElement.getTransformPagePoint());let c=rO(a.layout.layoutBox,l);if(n){const h=n(a2(c));this.hasMutatedConstraints=!!h,h&&(c=hS(h))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},m=Er(y=>{if(!zd(y,n,this.currentDirection))return;let w=f&&f[y]||{};c&&(w={min:0,max:0});const b=a?200:1e6,P=a?40:1e7,C={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(y,C)});return Promise.all(m).then(h)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return tg(this.visualElement,t),r.start(vv(t,r,0,n,this.visualElement,!1))}stopAnimation(){Er(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Er(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Er(n=>{const{drag:r}=this.getProps();if(!zd(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n];l.set(t[n]-jt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sl(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Er(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();a[c]=iO({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Er(c=>{if(!zd(c,t,null))return;const h=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];h.set(jt(f,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;aO.set(this.visualElement,this);const t=this.visualElement.current,n=$c(t,"pointerdown",f=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();sl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),St.read(r);const c=ru(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Er(y=>{const w=this.getAxisMotionValue(y);w&&(this.originPoint[y]+=f[y].translate,w.set(w.get()+f[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=rg,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function zd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function cO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class uO extends to{constructor(t){super(t),this.removeGroupControls=Tr,this.removeListeners=Tr,this.controls=new lO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const c_=e=>(t,n)=>{e&&St.postRender(()=>e(t,n))};class dO extends to{constructor(){super(...arguments),this.removePointerDownListener=Tr}onPointerDown(t){this.session=new CS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:c_(t),onStart:c_(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&St.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=$c(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let qp=!1;class hO extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),qp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,qp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||St.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ov.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;qp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function NS(e){const[t,n]=Xb(),r=E.useContext(Bg);return v.jsx(hO,{...e,layoutGroup:r,switchLayoutGroup:E.useContext(uS),isPresent:t,safeToRemove:n})}function fO(e,t,n){const r=En(e)?e:yl(e);return r.start(vv("",r,t,n)),r.animation}const pO=(e,t)=>e.depth-t.depth;class mO{constructor(){this.children=[],this.isDirty=!1}add(t){$g(this.children,t),this.isDirty=!0}remove(t){Vg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pO),this.isDirty=!1,this.children.forEach(t)}}function gO(e,t){const n=Hn.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(Ys(r),e(l-t))};return St.setup(r,!0),()=>Ys(r)}const AS=["TopLeft","TopRight","BottomLeft","BottomRight"],vO=AS.length,u_=e=>typeof e=="string"?parseFloat(e):e,d_=e=>typeof e=="number"||We.test(e);function yO(e,t,n,r,a,l){a?(e.opacity=jt(0,n.opacity??1,wO(r)),e.opacityExit=jt(t.opacity??1,0,_O(r))):l&&(e.opacity=jt(t.opacity??1,n.opacity??1,r));for(let c=0;c<vO;c++){const h=`border${AS[c]}Radius`;let f=h_(t,h),m=h_(n,h);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||d_(f)===d_(m)?(e[h]=Math.max(jt(u_(f),u_(m),r),0),(ki.test(m)||ki.test(f))&&(e[h]+="%")):e[h]=m}(t.rotate||n.rotate)&&(e.rotate=jt(t.rotate||0,n.rotate||0,r))}function h_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const wO=jS(0,.5,vb),_O=jS(.5,.95,Tr);function jS(e,t,n){return r=>r<e?0:r>t?1:n(Qc(e,t,r))}function f_(e,t){e.min=t.min,e.max=t.max}function Vr(e,t){f_(e.x,t.x),f_(e.y,t.y)}function p_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function m_(e,t,n,r,a){return e-=t,e=hh(e,1/n,r),a!==void 0&&(e=hh(e,1/a,r)),e}function xO(e,t=0,n=1,r=.5,a,l=e,c=e){if(ki.test(t)&&(t=parseFloat(t),t=jt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=jt(l.min,l.max,r);e===l&&(h-=t),e.min=m_(e.min,t,n,h,a),e.max=m_(e.max,t,n,h,a)}function g_(e,t,[n,r,a],l,c){xO(e,t[n],t[r],t[a],t.scale,l,c)}const bO=["x","scaleX","originX"],SO=["y","scaleY","originY"];function v_(e,t,n,r){g_(e.x,t,bO,n?n.x:void 0,r?r.x:void 0),g_(e.y,t,SO,n?n.y:void 0,r?r.y:void 0)}function y_(e){return e.translate===0&&e.scale===1}function LS(e){return y_(e.x)&&y_(e.y)}function w_(e,t){return e.min===t.min&&e.max===t.max}function kO(e,t){return w_(e.x,t.x)&&w_(e.y,t.y)}function __(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function OS(e,t){return __(e.x,t.x)&&__(e.y,t.y)}function x_(e){return On(e.x)/On(e.y)}function b_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class EO{constructor(){this.members=[]}add(t){$g(this.members,t),t.scheduleRender()}remove(t){if(Vg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PO(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:w,rotateY:b,skewX:P,skewY:C}=n;m&&(r=`perspective(${m}px) ${r}`),y&&(r+=`rotate(${y}deg) `),w&&(r+=`rotateX(${w}deg) `),b&&(r+=`rotateY(${b}deg) `),P&&(r+=`skewX(${P}deg) `),C&&(r+=`skewY(${C}deg) `)}const h=e.x.scale*t.x,f=e.y.scale*t.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Yp=["","X","Y","Z"],TO=1e3;let CO=0;function Jp(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function IS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=_S(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&IS(r)}function MS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},h=t==null?void 0:t()){this.id=CO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(AO),this.nodes.forEach(IO),this.nodes.forEach(MO),this.nodes.forEach(jO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new mO)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Kg),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Jb(c)&&!wL(c),this.instance=c;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),e){let y,w=0;const b=()=>this.root.updateBlockedByResize=!1;St.read(()=>{w=window.innerWidth}),e(c,()=>{const P=window.innerWidth;P!==w&&(w=P,this.root.updateBlockedByResize=!0,y&&y(),y=gO(b,250),eh.hasAnimatedSinceResize&&(eh.hasAnimatedSinceResize=!1,this.nodes.forEach(E_)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeLayoutChanged:b,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||UO,{onLayoutAnimationStart:k,onLayoutAnimationComplete:R}=m.getProps(),N=!this.targetLayout||!OS(this.targetLayout,P),O=!w&&b;if(this.options.layoutRoot||this.resumeFrom||O||w&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...iv(C,"layout"),onPlay:k,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(y,O)}else w||E_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const w=this.path[y];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(k_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(OO),this.nodes.forEach(RO),this.nodes.forEach(NO)):this.nodes.forEach(k_),this.clearAllSnapshots();const h=Hn.now();fn.delta=es(0,1e3/60,h-fn.timestamp),fn.timestamp=h,fn.isProcessing=!0,Bp.update.process(fn),Bp.preRender.process(fn),Bp.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ov.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LO),this.sharedNodes.forEach(zO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!On(this.snapshot.measuredBox.x)&&!On(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!LS(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Bo(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),$O(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return tn();const h=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(VO))){const{scroll:y}=this.root;y&&(ol(h.x,y.offset.x),ol(h.y,y.offset.y))}return h}removeElementScroll(c){var f;const h=tn();if(Vr(h,c),(f=this.scroll)!=null&&f.wasRoot)return h;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:w,options:b}=y;y!==this.root&&w&&b.layoutScroll&&(w.wasRoot&&Vr(h,c),ol(h.x,w.offset.x),ol(h.y,w.offset.y))}return h}applyTransform(c,h=!1){const f=tn();Vr(f,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&al(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Bo(y.latestValues)&&al(f,y.latestValues)}return Bo(this.latestValues)&&al(f,this.latestValues),f}removeTransform(c){const h=tn();Vr(h,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Bo(m.latestValues))continue;Jm(m.latestValues)&&m.updateSnapshot();const y=tn(),w=m.measurePageBox();Vr(y,w),v_(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Bo(this.latestValues)&&v_(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var P;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(P=this.parent)!=null&&P.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:w}=this.options;if(!this.layout||!(y||w))return;this.resolvedRelativeTargetAt=fn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vr(this.target,this.layout.layoutBox),pS(this.target,this.targetDelta)):Vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Jm(this.parent.latestValues)||fS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),fh(this.relativeTargetOrigin,h,f),Vr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var C;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Vr(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,b=this.treeScale.y;c2(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=tn());const{target:P}=c;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p_(this.prevProjectionDelta.x,this.projectionDelta.x),p_(this.prevProjectionDelta.y,this.projectionDelta.y)),Vc(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==b||!b_(this.projectionDelta.x,this.prevProjectionDelta.x)||!b_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ll(),this.projectionDelta=ll(),this.projectionDeltaWithTransform=ll()}setAnimationOrigin(c,h=!1){const f=this.snapshot,m=f?f.latestValues:{},y={...this.latestValues},w=ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=tn(),P=f?f.source:void 0,C=this.layout?this.layout.source:void 0,k=P!==C,R=this.getStack(),N=!R||R.members.length<=1,O=!!(k&&!N&&this.options.crossfade===!0&&!this.path.some(FO));this.animationProgress=0;let A;this.mixTargetDelta=$=>{const z=$/1e3;P_(w.x,c.x,z),P_(w.y,c.y,z),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fh(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BO(this.relativeTarget,this.relativeTargetOrigin,b,z),A&&kO(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=tn()),Vr(A,this.relativeTarget)),k&&(this.animationValues=y,yO(y,m,this.latestValues,z,O,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,f,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{eh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yl(0)),this.currentAnimation=fO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:y}=c;if(!(!h||!f||!m)){if(this!==c&&this.layout&&m&&DS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||tn();const w=On(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+w;const b=On(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}Vr(h,f),al(h,y),Vc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new EO),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&Jp("z",c,m,this.animationValues);for(let y=0;y<Yp.length;y++)Jp(`rotate${Yp[y]}`,c,m,this.animationValues),Jp(`skew${Yp[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Qd(h==null?void 0:h.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Qd(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let w=PO(this.projectionDeltaWithTransform,this.treeScale,y);f&&(w=f(y,w)),c.transform=w;const{x:b,y:P}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${P.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in Ym){if(y[C]===void 0)continue;const{correct:k,applyTo:R,isCSSVariable:N}=Ym[C],O=w==="none"?y[C]:k(y[C],m);if(R){const A=R.length;for(let $=0;$<A;$++)c[R[$]]=O}else N?this.options.visualElement.renderState.vars[C]=O:c[C]=O}this.options.layoutId&&(c.pointerEvents=m===this?Qd(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(S_),this.root.sharedNodes.clear()}}}function RO(e){e.updateLayout()}function NO(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Er(w=>{const b=c?t.measuredBox[w]:t.layoutBox[w],P=On(b);b.min=r[w].min,b.max=b.min+P}):DS(l,t.layoutBox,r)&&Er(w=>{const b=c?t.measuredBox[w]:t.layoutBox[w],P=On(r[w]);b.max=b.min+P,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[w].max=e.relativeTarget[w].min+P)});const h=ll();Vc(h,r,t.layoutBox);const f=ll();c?Vc(f,e.applyTransform(a,!0),t.measuredBox):Vc(f,r,t.layoutBox);const m=!LS(h);let y=!1;if(!e.resumeFrom){const w=e.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:b,layout:P}=w;if(b&&P){const C=tn();fh(C,t.layoutBox,b.layoutBox);const k=tn();fh(k,r,P.layoutBox),OS(C,k)||(y=!0),w.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=C,e.relativeParent=w)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function AO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function jO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function LO(e){e.clearSnapshot()}function S_(e){e.clearMeasurements()}function k_(e){e.isLayoutDirty=!1}function OO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function E_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function IO(e){e.resolveTargetDelta()}function MO(e){e.calcProjection()}function DO(e){e.resetSkewAndRotation()}function zO(e){e.removeLeadSnapshot()}function P_(e,t,n){e.translate=jt(t.translate,0,n),e.scale=jt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function T_(e,t,n,r){e.min=jt(t.min,n.min,r),e.max=jt(t.max,n.max,r)}function BO(e,t,n,r){T_(e.x,t.x,n.x,r),T_(e.y,t.y,n.y,r)}function FO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const UO={duration:.45,ease:[.4,0,.1,1]},C_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),R_=C_("applewebkit/")&&!C_("chrome/")?Math.round:Tr;function N_(e){e.min=R_(e.min),e.max=R_(e.max)}function $O(e){N_(e.x),N_(e.y)}function DS(e,t,n){return e==="position"||e==="preserve-aspect"&&!Y2(x_(t),x_(n),.2)}function VO(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const WO=MS({attachResizeListener:(e,t)=>ru(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xp={current:void 0},zS=MS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xp.current){const e=new WO({});e.mount(window),e.setOptions({layoutScroll:!0}),Xp.current=e}return Xp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),HO={pan:{Feature:dO},drag:{Feature:uO,ProjectionNode:zS,MeasureLayout:NS}};function A_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&St.postRender(()=>l(t,hu(t)))}class KO extends to{mount(){const{current:t}=this.node;t&&(this.unmount=pL(t,(n,r)=>(A_(this.node,r,"Start"),a=>A_(this.node,a,"End"))))}unmount(){}}class GO extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cu(ru(this.node.current,"focus",()=>this.onFocus()),ru(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function j_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&St.postRender(()=>l(t,hu(t)))}class ZO extends to{mount(){const{current:t}=this.node;t&&(this.unmount=yL(t,(n,r)=>(j_(this.node,r,"Start"),(a,{success:l})=>j_(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ig=new WeakMap,Qp=new WeakMap,qO=e=>{const t=ig.get(e.target);t&&t(e)},YO=e=>{e.forEach(qO)};function JO({root:e,...t}){const n=e||document;Qp.has(n)||Qp.set(n,{});const r=Qp.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(YO,{root:e,...t})),r[a]}function XO(e,t,n){const r=JO(t);return ig.set(e,n),r.observe(e),()=>{ig.delete(e),r.unobserve(e)}}const QO={some:0,all:1};class eI extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:QO[a]},h=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:w}=this.node.getProps(),b=m?y:w;b&&b(f)};return XO(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(tI(t,n))&&this.startObserver()}unmount(){}}function tI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const nI={inView:{Feature:eI},tap:{Feature:ZO},focus:{Feature:GO},hover:{Feature:KO}},rI={layout:{ProjectionNode:zS,MeasureLayout:NS}},iI={...W2,...nI,...HO,...rI},Ln=o2(iI,w2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),L_=e=>{const t=oI(e);return t.charAt(0).toUpperCase()+t.slice(1)},BS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...h},f)=>E.createElement("svg",{ref:f,...aI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:BS("lucide",a),...h},[...c.map(([m,y])=>E.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(e,t)=>{const n=E.forwardRef(({className:r,...a},l)=>E.createElement(lI,{ref:l,iconNode:t,className:BS(`lucide-${sI(L_(e))}`,`lucide-${e}`,r),...a}));return n.displayName=L_(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nl=et("arrow-left",cI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],dI=et("award",uI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],yv=et("bell",hI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],pI=et("camera",fI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wv=et("check",mI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FS=et("chevron-down",gI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],US=et("chevron-right",vI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wI=et("chevron-up",yI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zo=et("circle-check",_I);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bI=et("circle",xI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Wc=et("clock",SI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EI=et("compass",kI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],TI=et("eye-off",PI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$S=et("eye",CI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],NI=et("flag",RI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jI=et("funnel",AI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],OI=et("globe",LI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],VS=et("heart",II);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],DI=et("image",MI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],BI=et("info",zI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],UI=et("loader-circle",FI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],WS=et("lock",$I);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],WI=et("log-out",VI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],KI=et("mail",HI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kn=et("map-pin",GI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],qI=et("map",ZI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],_v=et("navigation",YI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qr=et("package",JI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],QI=et("plus",XI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],em=et("refresh-cw",eM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ph=et("search",tM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rM=et("settings",nM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],O_=et("share-2",iM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],xv=et("shopping-bag",sM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],aM=et("thumbs-up",oM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],cM=et("trending-down",lM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dM=et("user",uM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],fM=et("users",hM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bv=et("x",pM);function mM(){const e=mn();return E.useEffect(()=>{const t=setTimeout(()=>{e("/onboarding")},2e3);return()=>clearTimeout(t)},[e]),v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-500 to-emerald-600 flex flex-col items-center justify-center p-6",children:v.jsxs(Ln.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"flex flex-col items-center",children:[v.jsx(Ln.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:1},className:"bg-white rounded-full p-8 shadow-2xl mb-6",children:v.jsx(xv,{className:"w-16 h-16 text-green-600"})}),v.jsx(Ln.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-4xl text-white text-center mb-2",children:"Bugn Nerede Ucuz?"}),v.jsx(Ln.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-white/90 text-center text-lg",children:"Bugn en ucuzu nerede, tek bakta."})]})})}function I_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function HS(...e){return t=>{let n=!1;const r=e.map(a=>{const l=I_(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():I_(e[a],null)}}}}function ut(...e){return E.useCallback(HS(...e),e)}var Xs=E.forwardRef((e,t)=>{const{children:n,...r}=e,a=E.Children.toArray(n),l=a.find(vM);if(l){const c=l.props.children,h=a.map(f=>f===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:f);return v.jsx(sg,{...r,ref:t,children:E.isValidElement(c)?E.cloneElement(c,void 0,h):null})}return v.jsx(sg,{...r,ref:t,children:n})});Xs.displayName="Slot";var sg=E.forwardRef((e,t)=>{const{children:n,...r}=e;if(E.isValidElement(n)){const a=wM(n),l=yM(r,n.props);return n.type!==E.Fragment&&(l.ref=t?HS(t,a):a),E.cloneElement(n,l)}return E.Children.count(n)>1?E.Children.only(null):null});sg.displayName="SlotClone";var gM=({children:e})=>v.jsx(v.Fragment,{children:e});function vM(e){return E.isValidElement(e)&&e.type===gM}function yM(e,t){const n={...t};for(const r in t){const a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?n[r]=(...h)=>{l(...h),a(...h)}:a&&(n[r]=a):r==="style"?n[r]={...a,...l}:r==="className"&&(n[r]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function wM(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function KS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=KS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function GS(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=KS(e))&&(r&&(r+=" "),r+=t);return r}const M_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,D_=GS,ZS=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return D_(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:l}=t,c=Object.keys(a).map(m=>{const y=n==null?void 0:n[m],w=l==null?void 0:l[m];if(y===null)return null;const b=M_(y)||M_(w);return a[m][b]}),h=n&&Object.entries(n).reduce((m,y)=>{let[w,b]=y;return b===void 0||(m[w]=b),m},{}),f=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:w,className:b,...P}=y;return Object.entries(P).every(C=>{let[k,R]=C;return Array.isArray(R)?R.includes({...l,...h}[k]):{...l,...h}[k]===R})?[...m,w,b]:m},[]);return D_(e,c,f,n==null?void 0:n.class,n==null?void 0:n.className)},Sv="-",_M=e=>{const t=bM(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{const h=c.split(Sv);return h[0]===""&&h.length!==1&&h.shift(),qS(h,t)||xM(c)},getConflictingClassGroupIds:(c,h)=>{const f=n[c]||[];return h&&r[c]?[...f,...r[c]]:f}}},qS=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?qS(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const l=e.join(Sv);return(c=t.validators.find(({validator:h})=>h(l)))==null?void 0:c.classGroupId},z_=/^\[(.+)\]$/,xM=e=>{if(z_.test(e)){const t=z_.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},bM=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const a in n)og(n[a],r,a,t);return r},og=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const l=a===""?t:B_(t,a);l.classGroupId=n;return}if(typeof a=="function"){if(SM(a)){og(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,c])=>{og(c,B_(t,l),n,r)})})},B_=(e,t)=>{let n=e;return t.split(Sv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},SM=e=>e.isThemeGetter,kM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(l,c)=>{n.set(l,c),t++,t>e&&(t=0,r=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return a(l,c),c},set(l,c){n.has(l)?n.set(l,c):a(l,c)}}},ag="!",lg=":",EM=lg.length,PM=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const l=[];let c=0,h=0,f=0,m;for(let C=0;C<a.length;C++){let k=a[C];if(c===0&&h===0){if(k===lg){l.push(a.slice(f,C)),f=C+EM;continue}if(k==="/"){m=C;continue}}k==="["?c++:k==="]"?c--:k==="("?h++:k===")"&&h--}const y=l.length===0?a:a.substring(f),w=TM(y),b=w!==y,P=m&&m>f?m-f:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:P}};if(t){const a=t+lg,l=r;r=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},TM=e=>e.endsWith(ag)?e.substring(0,e.length-1):e.startsWith(ag)?e.substring(1):e,CM=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let l=[];return r.forEach(c=>{c[0]==="["||t[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},RM=e=>({cache:kM(e.cacheSize),parseClassName:PM(e),sortModifiers:CM(e),..._M(e)}),NM=/\s+/,AM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=t,c=[],h=e.trim().split(NM);let f="";for(let m=h.length-1;m>=0;m-=1){const y=h[m],{isExternal:w,modifiers:b,hasImportantModifier:P,baseClassName:C,maybePostfixModifierPosition:k}=n(y);if(w){f=y+(f.length>0?" "+f:f);continue}let R=!!k,N=r(R?C.substring(0,k):C);if(!N){if(!R){f=y+(f.length>0?" "+f:f);continue}if(N=r(C),!N){f=y+(f.length>0?" "+f:f);continue}R=!1}const O=l(b).join(":"),A=P?O+ag:O,$=A+N;if(c.includes($))continue;c.push($);const z=a(N,R);for(let H=0;H<z.length;++H){const F=z[H];c.push(A+F)}f=y+(f.length>0?" "+f:f)}return f};function jM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=YS(t))&&(r&&(r+=" "),r+=n);return r}const YS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=YS(e[r]))&&(n&&(n+=" "),n+=t);return n};function LM(e,...t){let n,r,a,l=c;function c(f){const m=t.reduce((y,w)=>w(y),e());return n=RM(m),r=n.cache.get,a=n.cache.set,l=h,h(f)}function h(f){const m=r(f);if(m)return m;const y=AM(f,n);return a(f,y),y}return function(){return l(jM.apply(null,arguments))}}const Qt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},JS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,XS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,OM=/^\d+\/\d+$/,IM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ya=e=>OM.test(e),Qe=e=>!!e&&!Number.isNaN(Number(e)),Ws=e=>!!e&&Number.isInteger(Number(e)),tm=e=>e.endsWith("%")&&Qe(e.slice(0,-1)),Yi=e=>IM.test(e),FM=()=>!0,UM=e=>MM.test(e)&&!DM.test(e),QS=()=>!1,$M=e=>zM.test(e),VM=e=>BM.test(e),WM=e=>!Ae(e)&&!je(e),HM=e=>Al(e,nk,QS),Ae=e=>JS.test(e),Mo=e=>Al(e,rk,UM),nm=e=>Al(e,YM,Qe),F_=e=>Al(e,ek,QS),KM=e=>Al(e,tk,VM),Bd=e=>Al(e,ik,$M),je=e=>XS.test(e),Ac=e=>jl(e,rk),GM=e=>jl(e,JM),U_=e=>jl(e,ek),ZM=e=>jl(e,nk),qM=e=>jl(e,tk),Fd=e=>jl(e,ik,!0),Al=(e,t,n)=>{const r=JS.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},jl=(e,t,n=!1)=>{const r=XS.exec(e);return r?r[1]?t(r[1]):n:!1},ek=e=>e==="position"||e==="percentage",tk=e=>e==="image"||e==="url",nk=e=>e==="length"||e==="size"||e==="bg-size",rk=e=>e==="length",YM=e=>e==="number",JM=e=>e==="family-name",ik=e=>e==="shadow",XM=()=>{const e=Qt("color"),t=Qt("font"),n=Qt("text"),r=Qt("font-weight"),a=Qt("tracking"),l=Qt("leading"),c=Qt("breakpoint"),h=Qt("container"),f=Qt("spacing"),m=Qt("radius"),y=Qt("shadow"),w=Qt("inset-shadow"),b=Qt("text-shadow"),P=Qt("drop-shadow"),C=Qt("blur"),k=Qt("perspective"),R=Qt("aspect"),N=Qt("ease"),O=Qt("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...$(),je,Ae],H=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],M=()=>[je,Ae,f],ne=()=>[Ya,"full","auto",...M()],ee=()=>[Ws,"none","subgrid",je,Ae],ae=()=>["auto",{span:["full",Ws,je,Ae]},Ws,je,Ae],ce=()=>[Ws,"auto",je,Ae],ye=()=>["auto","min","max","fr",je,Ae],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...M()],le=()=>[Ya,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],D=()=>[e,je,Ae],re=()=>[...$(),U_,F_,{position:[je,Ae]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",ZM,HM,{size:[je,Ae]}],Y=()=>[tm,Ac,Mo],ue=()=>["","none","full",m,je,Ae],he=()=>["",Qe,Ac,Mo],ve=()=>["solid","dashed","dotted","double"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[Qe,tm,U_,F_],fe=()=>["","none",C,je,Ae],be=()=>["none",Qe,je,Ae],Se=()=>["none",Qe,je,Ae],Oe=()=>[Qe,je,Ae],Te=()=>[Ya,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Yi],breakpoint:[Yi],color:[FM],container:[Yi],"drop-shadow":[Yi],ease:["in","out","in-out"],font:[WM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Yi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Yi],shadow:[Yi],spacing:["px",Qe],text:[Yi],"text-shadow":[Yi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ya,Ae,je,R]}],container:["container"],columns:[{columns:[Qe,Ae,je,h]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ne()}],"inset-x":[{"inset-x":ne()}],"inset-y":[{"inset-y":ne()}],start:[{start:ne()}],end:[{end:ne()}],top:[{top:ne()}],right:[{right:ne()}],bottom:[{bottom:ne()}],left:[{left:ne()}],visibility:["visible","invisible","collapse"],z:[{z:[Ws,"auto",je,Ae]}],basis:[{basis:[Ya,"full","auto",h,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qe,Ya,"auto","initial","none",Ae]}],grow:[{grow:["",Qe,je,Ae]}],shrink:[{shrink:["",Qe,je,Ae]}],order:[{order:[Ws,"first","last","none",je,Ae]}],"grid-cols":[{"grid-cols":ee()}],"col-start-end":[{col:ae()}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":ee()}],"row-start-end":[{row:ae()}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ye()}],"auto-rows":[{"auto-rows":ye()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[h,"screen",...le()]}],"min-w":[{"min-w":[h,"screen","none",...le()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...le()]}],h:[{h:["screen",...le()]}],"min-h":[{"min-h":["screen","none",...le()]}],"max-h":[{"max-h":["screen",...le()]}],"font-size":[{text:["base",n,Ac,Mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,nm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",tm,Ae]}],"font-family":[{font:[GM,Ae,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,je,Ae]}],"line-clamp":[{"line-clamp":[Qe,"none",je,nm]}],leading:[{leading:[l,...M()]}],"list-image":[{"list-image":["none",je,Ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qe,"from-font","auto",je,Mo]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[Qe,"auto",je,Ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ws,je,Ae],radial:["",je,Ae],conic:[Ws,je,Ae]},qM,KM]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qe,je,Ae]}],"outline-w":[{outline:["",Qe,Ac,Mo]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",y,Fd,Bd]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",w,Fd,Bd]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[Qe,Mo]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",b,Fd,Bd]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[Qe,je,Ae]}],"mix-blend":[{"mix-blend":[...U(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":U()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[je,Ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[Qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,Ae]}],filter:[{filter:["","none",je,Ae]}],blur:[{blur:fe()}],brightness:[{brightness:[Qe,je,Ae]}],contrast:[{contrast:[Qe,je,Ae]}],"drop-shadow":[{"drop-shadow":["","none",P,Fd,Bd]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",Qe,je,Ae]}],"hue-rotate":[{"hue-rotate":[Qe,je,Ae]}],invert:[{invert:["",Qe,je,Ae]}],saturate:[{saturate:[Qe,je,Ae]}],sepia:[{sepia:["",Qe,je,Ae]}],"backdrop-filter":[{"backdrop-filter":["","none",je,Ae]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[Qe,je,Ae]}],"backdrop-contrast":[{"backdrop-contrast":[Qe,je,Ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qe,je,Ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qe,je,Ae]}],"backdrop-invert":[{"backdrop-invert":["",Qe,je,Ae]}],"backdrop-opacity":[{"backdrop-opacity":[Qe,je,Ae]}],"backdrop-saturate":[{"backdrop-saturate":[Qe,je,Ae]}],"backdrop-sepia":[{"backdrop-sepia":["",Qe,je,Ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,Ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qe,"initial",je,Ae]}],ease:[{ease:["linear","initial",N,je,Ae]}],delay:[{delay:[Qe,je,Ae]}],animate:[{animate:["none",O,je,Ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,je,Ae]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[je,Ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Te()}],"translate-x":[{"translate-x":Te()}],"translate-y":[{"translate-y":Te()}],"translate-z":[{"translate-z":Te()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,Ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,Ae]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[Qe,Ac,Mo,nm]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},QM=LM(XM);function Lt(...e){return QM(GS(e))}const eD=ZS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function bt({className:e,variant:t,size:n,asChild:r=!1,...a}){const l=r?Xs:"button";return v.jsx(l,{"data-slot":"button",className:Lt(eD({variant:t,size:n,className:e})),...a})}const rm=[{icon:$S,title:"Alveriten nce bak",description:"Pazara, markete gitmeden nce fiyatlar gr.",subtext:"Bugn girilen fiyatlar her zaman stte."},{icon:fM,title:"Halktan halka fiyat",description:"Fiyatlar sen gir, herkes faydalansn.",subtext:"Fotoraf ve dorulama ile daha gvenilir."},{icon:kn,title:"Sana yakn en ucuz",description:"Konumuna gre en uygun fiyatlar listelensin.",subtext:"Konya'ya zel, mahalle mahalle."}];function tD({onComplete:e}){const[t,n]=E.useState(0),r=mn(),a=t===rm.length-1,l=()=>{a?(e(),r("/location")):n(t+1)},c=rm[t],h=c.icon;return v.jsxs("div",{className:"min-h-screen bg-white flex flex-col p-6",children:[v.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:v.jsx(CL,{mode:"wait",children:v.jsxs(Ln.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:"w-full max-w-md flex flex-col items-center",children:[v.jsx(Ln.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"bg-green-100 rounded-full p-12 mb-8",children:v.jsx(h,{className:"w-20 h-20 text-green-600"})}),v.jsx("h2",{className:"text-3xl text-center mb-4 text-gray-900",children:c.title}),v.jsx("p",{className:"text-center text-lg text-gray-600 mb-3",children:c.description}),v.jsx("p",{className:"text-center text-sm text-gray-500",children:c.subtext})]},t)})}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"flex justify-center gap-2 mb-6",children:rm.map((f,m)=>v.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${m===t?"bg-green-600 w-8":"bg-gray-300 w-2"}`},m))}),v.jsx(bt,{onClick:l,className:"w-full bg-green-600 hover:bg-green-700 text-white py-6 text-lg",children:a?"Balayalm":"Devam et"})]})]})}const nD="modulepreload",rD=function(e){return"/"+e},$_={},sk=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=c(n.map(m=>{if(m=rD(m),m in $_)return;$_[m]=!0;const y=m.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":nD,y||(b.as="script"),b.crossOrigin="",b.href=m,f&&b.setAttribute("nonce",f),document.head.appendChild(b),y)return new Promise((P,C)=>{b.addEventListener("load",P),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})},Hc=xl("Geolocation",{web:()=>sk(()=>import("./web-ny07M--O.js"),[]).then(e=>new e.GeolocationWeb)}),cg=()=>vl.isNativePlatform(),Ah=()=>({getCurrentPosition:async()=>{try{if(cg()){const n=await Hc.getCurrentPosition({enableHighAccuracy:!0,timeout:1e4});return{latitude:n.coords.latitude,longitude:n.coords.longitude}}else return new Promise((n,r)=>{if(!navigator.geolocation){r(new Error("Geolocation is not supported"));return}console.log(" Requesting geolocation on web...");const a=Date.now();navigator.geolocation.getCurrentPosition(l=>{const c=Date.now()-a;console.log(` Geolocation obtained in ${c}ms`),n({latitude:l.coords.latitude,longitude:l.coords.longitude})},l=>{console.error("Geolocation error (high accuracy):",l),l.code===3||l.code===2?(console.log(" Retrying with lower accuracy..."),navigator.geolocation.getCurrentPosition(c=>{const h=Date.now()-a;console.log(` Geolocation obtained (low accuracy) in ${h}ms`),n({latitude:c.coords.latitude,longitude:c.coords.longitude})},c=>{console.error("Geolocation error (low accuracy):",c),r(c)},{enableHighAccuracy:!1,timeout:15e3,maximumAge:6e4})):r(l)},{enableHighAccuracy:!0,timeout:2e4,maximumAge:0})})}catch(n){return console.error("Geolocation error:",n),null}},watchPosition:n=>{try{if(cg()){const r=Hc.watchPosition({enableHighAccuracy:!0},a=>{n({latitude:a.coords.latitude,longitude:a.coords.longitude})});return()=>{Hc.clearWatch({id:r})}}else{const r=navigator.geolocation.watchPosition(a=>{n({latitude:a.coords.latitude,longitude:a.coords.longitude})},a=>{console.error("Geolocation watch error:",a)},{enableHighAccuracy:!0});return()=>{navigator.geolocation.clearWatch(r)}}}catch(r){return console.error("Watch position error:",r),null}}});function iD({onAllow:e}){const t=mn(),{getCurrentPosition:n}=Ah(),{user:r}=ni(),[a,l]=E.useState(!1),c=()=>r?"/app/explore":"/login",h=async()=>{var m;l(!0);try{if(cg())try{const y=await Hc.checkPermissions();if(y.location==="granted"){if(await n()){Re.success("Konum izni zaten verilmi"),e(),t(c());return}}else if(y.location==="prompt"||y.location==="prompt-with-rationale")if((await Hc.requestPermissions()).location==="granted"){if(await n()){Re.success("Konum izni verildi"),e(),t(c());return}}else{Re.error("Konum izni reddedildi. Ayarlardan izin verebilirsiniz."),t(c());return}else{Re.error("Konum izni reddedildi. Ayarlardan izin verebilirsiniz."),t(c());return}}catch(y){console.error("Permission error:",y),Re.error("Konum izni alnamad: "+(y.message||"Bilinmeyen hata")),t(c());return}else{console.log(" Web: Requesting geolocation...");try{const y=await n();y?(console.log(" Web: Position obtained:",y),Re.success("Konum izni verildi"),e(),t(c())):(console.warn(" Web: Position is null"),Re.error("Konum izni reddedildi"),t(c()))}catch(y){throw console.error("Web geolocation error:",y),y}}}catch(y){console.error("Location error:",y),console.error("Error code:",y.code),console.error("Error message:",y.message),y.code===1?Re.error("Konum izni reddedildi. Tarayc ayarlarndan izin verebilirsiniz.",{duration:5e3}):y.code===2?Re.error("Konum bilgisi alnamad. Ltfen GPS'i an veya internet balantnz kontrol edin.",{duration:5e3}):y.code===3?Re.error('Konum istei zaman amna urad. Ltfen tekrar deneyin veya "imdilik Ge" butonuna tklayn.',{duration:5e3}):(m=y.message)!=null&&m.includes("not supported")?Re.error("Taraycnz konum zelliini desteklemiyor.",{duration:5e3}):Re.error("Konum alnamad: "+(y.message||"Bilinmeyen hata"),{duration:5e3}),t(c())}finally{l(!1)}},f=()=>{t(c())};return v.jsxs("div",{className:"min-h-screen bg-white flex flex-col p-6",children:[v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[v.jsx(Ln.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"bg-green-100 rounded-full p-16 mb-8",children:v.jsx(kn,{className:"w-24 h-24 text-green-600"})}),v.jsx(Ln.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl text-center mb-4 text-gray-900",children:"Konumunu kullanalm m?"}),v.jsx(Ln.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center text-lg text-gray-600 max-w-md",children:"Sana en yakn ve gncel fiyatlar gsterebilmemiz iin konumuna ihtiyacmz var."})]}),v.jsxs(Ln.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3",children:[v.jsx(bt,{onClick:h,disabled:a,className:"w-full bg-green-600 hover:bg-green-700 text-white py-6 text-lg disabled:opacity-50",children:a?"zin isteniyor...":"Konumu A"}),v.jsx(bt,{onClick:f,variant:"ghost",disabled:a,className:"w-full text-gray-600 hover:text-gray-900 py-6 text-lg",children:"imdilik Ge"})]})]})}function qo({className:e,type:t,...n}){return v.jsx("input",{type:t,"data-slot":"input",className:Lt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var sD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xe=sD.reduce((e,t)=>{const n=E.forwardRef((r,a)=>{const{asChild:l,...c}=r,h=l?Xs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(h,{...c,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function oD(e,t){e&&El.flushSync(()=>e.dispatchEvent(t))}var aD="Label",ok=E.forwardRef((e,t)=>v.jsx(Xe.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ok.displayName=aD;var lD=ok;function ar({className:e,...t}){return v.jsx(lD,{"data-slot":"label",className:Lt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function cD({onLogin:e}){const t=mn(),{register:n,login:r,googleLogin:a,guestLogin:l}=ni(),[c,h]=E.useState("login"),[f,m]=E.useState(!1),[y,w]=E.useState(!1),[b,P]=E.useState({email:"",password:"",name:""}),C=async()=>{try{w(!0);const N=`user_${Date.now()}@gmail.com`,O="Google Kullanc",A=`google_${Date.now()}`;await a(),Re.success("Google ile giri yapld"),e==null||e(),t("/app/explore")}catch(N){Re.error(N.message||"Google ile giri baarsz"),console.error("Google login error:",N)}finally{w(!1)}},k=async N=>{if(N.preventDefault(),c==="register"&&!b.name.trim()){Re.error("Ltfen adnz girin");return}if(!b.email.trim()||!b.password.trim()){Re.error("Ltfen email ve ifre girin");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.email)){Re.error("Geerli bir email adresi girin");return}if(b.password.length<6){Re.error("ifre en az 6 karakter olmal");return}try{w(!0),c==="register"?(await n(b.email,b.password,b.name),Re.success("Kayt baarl! Ho geldiniz")):(await r(b.email,b.password),Re.success("Giri baarl")),e==null||e(),t("/app/explore")}catch(A){console.error("Auth error:",A);const $=A.message||(c==="register"?"Kayt baarsz":"Giri baarsz");$.includes("balanlamyor")||$.includes("fetch")?Re.error("Backend'e balanlamyor. Ltfen backend'in altndan emin olun.",{duration:5e3}):Re.error($)}finally{w(!1)}},R=async()=>{try{w(!0),await l(),Re.info("Misafir olarak devam ediliyor"),t("/app/explore")}catch(N){Re.error(N.message||"Giri baarsz"),console.error("Guest login error:",N)}finally{w(!1)}};return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 flex flex-col p-6",children:[v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-md w-full mx-auto",children:[v.jsx(Ln.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"bg-white rounded-full p-8 shadow-lg mb-8",children:v.jsx(xv,{className:"w-20 h-20 text-green-600"})}),v.jsx(Ln.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl text-center mb-2 text-gray-900",children:c==="login"?"Ho geldin":"Kayt ol"}),v.jsx(Ln.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center text-gray-600 mb-8",children:c==="login"?"Devam etmek iin giri yap":"Hesap olutur ve fiyat paylamaya bala"}),v.jsxs(Ln.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"w-full space-y-4",children:[v.jsxs("form",{onSubmit:k,className:"space-y-4",children:[c==="register"&&v.jsxs("div",{children:[v.jsx(ar,{htmlFor:"name",children:"Ad Soyad"}),v.jsx(qo,{id:"name",type:"text",placeholder:"Adnz ve soyadnz",value:b.name,onChange:N=>P({...b,name:N.target.value}),className:"mt-1",required:!0})]}),v.jsxs("div",{children:[v.jsx(ar,{htmlFor:"email",children:"Email"}),v.jsxs("div",{className:"relative mt-1",children:[v.jsx(KI,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsx(qo,{id:"email",type:"email",placeholder:"ornek@email.com",value:b.email,onChange:N=>P({...b,email:N.target.value}),className:"pl-10",required:!0})]})]}),v.jsxs("div",{children:[v.jsx(ar,{htmlFor:"password",children:"ifre"}),v.jsxs("div",{className:"relative mt-1",children:[v.jsx(WS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsx(qo,{id:"password",type:f?"text":"password",placeholder:c==="register"?"En az 6 karakter":"ifreniz",value:b.password,onChange:N=>P({...b,password:N.target.value}),className:"pl-10 pr-10",required:!0,minLength:6}),v.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?v.jsx(TI,{className:"w-4 h-4"}):v.jsx($S,{className:"w-4 h-4"})})]})]}),v.jsx(bt,{type:"submit",disabled:y,className:"w-full bg-green-600 hover:bg-green-700 text-white py-6 text-lg disabled:opacity-50",children:y?"leniyor...":c==="login"?"Giri Yap":"Kayt Ol"})]}),v.jsxs("div",{className:"relative my-6",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-300"})}),v.jsx("div",{className:"relative flex justify-center text-sm",children:v.jsx("span",{className:"px-2 bg-gradient-to-br from-green-50 to-emerald-50 text-gray-500",children:"veya"})})]}),v.jsxs(bt,{onClick:C,disabled:y,className:"w-full bg-white hover:bg-gray-50 text-gray-900 border border-gray-300 py-6 text-lg shadow-sm flex items-center justify-center gap-3 disabled:opacity-50",children:[v.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[v.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google ile ",c==="login"?"Giri Yap":"Kayt Ol"]}),v.jsx("div",{className:"text-center",children:v.jsx("button",{onClick:()=>{h(c==="login"?"register":"login"),P({email:"",password:"",name:""})},className:"text-sm text-green-600 hover:text-green-700 underline",children:c==="login"?"Hesabn yok mu? Kayt ol":"Zaten hesabn var m? Giri yap"})}),v.jsx("button",{onClick:R,disabled:y,className:"w-full text-green-600 hover:text-green-700 py-4 text-lg underline disabled:opacity-50",children:"Misafir Olarak Devam Et"})]})]}),v.jsx(Ln.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-center text-sm text-gray-500 mt-8",children:"Giri yaparak kullanm artlarn kabul etmi olursun."})]})}const uD=ZS("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Yr({className:e,variant:t,asChild:n=!1,...r}){const a=n?Xs:"span";return v.jsx(a,{"data-slot":"badge",className:Lt(uD({variant:t}),e),...r})}function Je(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function dD(e,t){const n=E.createContext(t),r=l=>{const{children:c,...h}=l,f=E.useMemo(()=>h,Object.values(h));return v.jsx(n.Provider,{value:f,children:c})};r.displayName=e+"Provider";function a(l){const c=E.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[r,a]}function Ti(e,t=[]){let n=[];function r(l,c){const h=E.createContext(c),f=n.length;n=[...n,c];const m=w=>{var N;const{scope:b,children:P,...C}=w,k=((N=b==null?void 0:b[e])==null?void 0:N[f])||h,R=E.useMemo(()=>C,Object.values(C));return v.jsx(k.Provider,{value:R,children:P})};m.displayName=l+"Provider";function y(w,b){var k;const P=((k=b==null?void 0:b[e])==null?void 0:k[f])||h,C=E.useContext(P);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${w}\` must be used within \`${l}\``)}return[m,y]}const a=()=>{const l=n.map(c=>E.createContext(c));return function(h){const f=(h==null?void 0:h[e])||l;return E.useMemo(()=>({[`__scope${e}`]:{...h,[e]:f}}),[h,f])}};return a.scopeName=e,[r,hD(a,...t)]}function hD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=r.reduce((h,{useScope:f,scopeName:m})=>{const w=f(l)[`__scope${m}`];return{...h,...w}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}var pn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},fD=hP.useId||(()=>{}),pD=0;function Yo(e){const[t,n]=E.useState(fD());return pn(()=>{n(r=>r??String(pD++))},[e]),e||(t?`radix-${t}`:"")}function Jr(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Jo({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=mD({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:r,h=Jr(n),f=E.useCallback(m=>{if(l){const w=typeof m=="function"?m(e):m;w!==e&&h(w)}else a(m)},[l,e,a,h]);return[c,f]}function mD({defaultProp:e,onChange:t}){const n=E.useState(e),[r]=n,a=E.useRef(r),l=Jr(t);return E.useEffect(()=>{a.current!==r&&(l(r),a.current=r)},[r,a,l]),n}function gD(e,t=globalThis==null?void 0:globalThis.document){const n=Jr(e);E.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var vD="DismissableLayer",ug="dismissableLayer.update",yD="dismissableLayer.pointerDownOutside",wD="dismissableLayer.focusOutside",V_,ak=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kv=E.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:h,...f}=e,m=E.useContext(ak),[y,w]=E.useState(null),b=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,P]=E.useState({}),C=ut(t,F=>w(F)),k=Array.from(m.layers),[R]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=k.indexOf(R),O=y?k.indexOf(y):-1,A=m.layersWithOutsidePointerEventsDisabled.size>0,$=O>=N,z=bD(F=>{const M=F.target,ne=[...m.branches].some(ee=>ee.contains(M));!$||ne||(a==null||a(F),c==null||c(F),F.defaultPrevented||h==null||h())},b),H=SD(F=>{const M=F.target;[...m.branches].some(ee=>ee.contains(M))||(l==null||l(F),c==null||c(F),F.defaultPrevented||h==null||h())},b);return gD(F=>{O===m.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&h&&(F.preventDefault(),h()))},b),E.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(V_=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),W_(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=V_)}},[y,b,n,m]),E.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),W_())},[y,m]),E.useEffect(()=>{const F=()=>P({});return document.addEventListener(ug,F),()=>document.removeEventListener(ug,F)},[]),v.jsx(Xe.div,{...f,ref:C,style:{pointerEvents:A?$?"auto":"none":void 0,...e.style},onFocusCapture:Je(e.onFocusCapture,H.onFocusCapture),onBlurCapture:Je(e.onBlurCapture,H.onBlurCapture),onPointerDownCapture:Je(e.onPointerDownCapture,z.onPointerDownCapture)})});kv.displayName=vD;var _D="DismissableLayerBranch",xD=E.forwardRef((e,t)=>{const n=E.useContext(ak),r=E.useRef(null),a=ut(t,r);return E.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),v.jsx(Xe.div,{...e,ref:a})});xD.displayName=_D;function bD(e,t=globalThis==null?void 0:globalThis.document){const n=Jr(e),r=E.useRef(!1),a=E.useRef(()=>{});return E.useEffect(()=>{const l=h=>{if(h.target&&!r.current){let f=function(){lk(yD,n,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function SD(e,t=globalThis==null?void 0:globalThis.document){const n=Jr(e),r=E.useRef(!1);return E.useEffect(()=>{const a=l=>{l.target&&!r.current&&lk(wD,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function W_(){const e=new CustomEvent(ug);document.dispatchEvent(e)}function lk(e,t,n,{discrete:r}){const a=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?oD(a,l):a.dispatchEvent(l)}var im="focusScope.autoFocusOnMount",sm="focusScope.autoFocusOnUnmount",H_={bubbles:!1,cancelable:!0},kD="FocusScope",Ev=E.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=e,[h,f]=E.useState(null),m=Jr(a),y=Jr(l),w=E.useRef(null),b=ut(t,k=>f(k)),P=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let k=function(A){if(P.paused||!h)return;const $=A.target;h.contains($)?w.current=$:Ks(w.current,{select:!0})},R=function(A){if(P.paused||!h)return;const $=A.relatedTarget;$!==null&&(h.contains($)||Ks(w.current,{select:!0}))},N=function(A){if(document.activeElement===document.body)for(const z of A)z.removedNodes.length>0&&Ks(h)};document.addEventListener("focusin",k),document.addEventListener("focusout",R);const O=new MutationObserver(N);return h&&O.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",R),O.disconnect()}}},[r,h,P.paused]),E.useEffect(()=>{if(h){G_.add(P);const k=document.activeElement;if(!h.contains(k)){const N=new CustomEvent(im,H_);h.addEventListener(im,m),h.dispatchEvent(N),N.defaultPrevented||(ED(ND(ck(h)),{select:!0}),document.activeElement===k&&Ks(h))}return()=>{h.removeEventListener(im,m),setTimeout(()=>{const N=new CustomEvent(sm,H_);h.addEventListener(sm,y),h.dispatchEvent(N),N.defaultPrevented||Ks(k??document.body,{select:!0}),h.removeEventListener(sm,y),G_.remove(P)},0)}}},[h,m,y,P]);const C=E.useCallback(k=>{if(!n&&!r||P.paused)return;const R=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,N=document.activeElement;if(R&&N){const O=k.currentTarget,[A,$]=PD(O);A&&$?!k.shiftKey&&N===$?(k.preventDefault(),n&&Ks(A,{select:!0})):k.shiftKey&&N===A&&(k.preventDefault(),n&&Ks($,{select:!0})):N===O&&k.preventDefault()}},[n,r,P.paused]);return v.jsx(Xe.div,{tabIndex:-1,...c,ref:b,onKeyDown:C})});Ev.displayName=kD;function ED(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ks(r,{select:t}),document.activeElement!==n)return}function PD(e){const t=ck(e),n=K_(t,e),r=K_(t.reverse(),e);return[n,r]}function ck(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function K_(e,t){for(const n of e)if(!TD(n,{upTo:t}))return n}function TD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function CD(e){return e instanceof HTMLInputElement&&"select"in e}function Ks(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&CD(e)&&t&&e.select()}}var G_=RD();function RD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Z_(e,t),e.unshift(t)},remove(t){var n;e=Z_(e,t),(n=e[0])==null||n.resume()}}}function Z_(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ND(e){return e.filter(t=>t.tagName!=="A")}var AD="Portal",Pv=E.forwardRef((e,t)=>{var h;const{container:n,...r}=e,[a,l]=E.useState(!1);pn(()=>l(!0),[]);const c=n||a&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?Bx.createPortal(v.jsx(Xe.div,{...r,ref:t}),c):null});Pv.displayName=AD;function jD(e,t){return E.useReducer((n,r)=>t[n][r]??n,e)}var Ll=e=>{const{present:t,children:n}=e,r=LD(t),a=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),l=ut(r.ref,OD(a));return typeof n=="function"||r.isPresent?E.cloneElement(a,{ref:l}):null};Ll.displayName="Presence";function LD(e){const[t,n]=E.useState(),r=E.useRef({}),a=E.useRef(e),l=E.useRef("none"),c=e?"mounted":"unmounted",[h,f]=jD(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const m=Ud(r.current);l.current=h==="mounted"?m:"none"},[h]),pn(()=>{const m=r.current,y=a.current;if(y!==e){const b=l.current,P=Ud(m);e?f("MOUNT"):P==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(y&&b!==P?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),pn(()=>{if(t){let m;const y=t.ownerDocument.defaultView??window,w=P=>{const k=Ud(r.current).includes(P.animationName);if(P.target===t&&k&&(f("ANIMATION_END"),!a.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",m=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},b=P=>{P.target===t&&(l.current=Ud(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",w),t.addEventListener("animationend",w),()=>{y.clearTimeout(m),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",w),t.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:E.useCallback(m=>{m&&(r.current=getComputedStyle(m)),n(m)},[])}}function Ud(e){return(e==null?void 0:e.animationName)||"none"}function OD(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var om=0;function uk(){E.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??q_()),document.body.insertAdjacentElement("beforeend",e[1]??q_()),om++,()=>{om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),om--}},[])}function q_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var th="right-scroll-bar-position",nh="width-before-scroll-bar",ID="with-scroll-bars-hidden",MD="--removed-body-scroll-bar-size";function am(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function DD(e,t){var n=E.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var zD=typeof window<"u"?E.useLayoutEffect:E.useEffect,Y_=new WeakMap;function BD(e,t){var n=DD(null,function(r){return e.forEach(function(a){return am(a,r)})});return zD(function(){var r=Y_.get(n);if(r){var a=new Set(r),l=new Set(e),c=n.current;a.forEach(function(h){l.has(h)||am(h,null)}),l.forEach(function(h){a.has(h)||am(h,c)})}Y_.set(n,e)},[e]),n}function FD(e){return e}function UD(e,t){t===void 0&&(t=FD);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var c=t(l,r);return n.push(c),function(){n=n.filter(function(h){return h!==c})}},assignSyncMedium:function(l){for(r=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(h){return l(h)},filter:function(){return n}}},assignMedium:function(l){r=!0;var c=[];if(n.length){var h=n;n=[],h.forEach(l),c=n}var f=function(){var y=c;c=[],y.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(y){c.push(y),m()},filter:function(y){return c=c.filter(y),n}}}};return a}function $D(e){e===void 0&&(e={});var t=UD(null);return t.options=xi({async:!0,ssr:!1},e),t}var dk=function(e){var t=e.sideCar,n=Pl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,xi({},n))};dk.isSideCarExport=!0;function VD(e,t){return e.useMedium(t),dk}var hk=$D(),lm=function(){},jh=E.forwardRef(function(e,t){var n=E.useRef(null),r=E.useState({onScrollCapture:lm,onWheelCapture:lm,onTouchMoveCapture:lm}),a=r[0],l=r[1],c=e.forwardProps,h=e.children,f=e.className,m=e.removeScrollBar,y=e.enabled,w=e.shards,b=e.sideCar,P=e.noRelative,C=e.noIsolation,k=e.inert,R=e.allowPinchZoom,N=e.as,O=N===void 0?"div":N,A=e.gapMode,$=Pl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=b,H=BD([n,t]),F=xi(xi({},$),a);return E.createElement(E.Fragment,null,y&&E.createElement(z,{sideCar:hk,removeScrollBar:m,shards:w,noRelative:P,noIsolation:C,inert:k,setCallbacks:l,allowPinchZoom:!!R,lockRef:n,gapMode:A}),c?E.cloneElement(E.Children.only(h),xi(xi({},F),{ref:H})):E.createElement(O,xi({},F,{className:f,ref:H}),h))});jh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jh.classNames={fullWidth:nh,zeroRight:th};var WD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=WD();return t&&e.setAttribute("nonce",t),e}function KD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function GD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ZD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=HD())&&(KD(t,n),GD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qD=function(){var e=ZD();return function(t,n){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},fk=function(){var e=qD(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},YD={left:0,top:0,right:0,gap:0},cm=function(e){return parseInt(e||"",10)||0},JD=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[cm(n),cm(r),cm(a)]},XD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return YD;var t=JD(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},QD=fk(),dl="data-scroll-locked",ez=function(e,t,n,r){var a=e.left,l=e.top,c=e.right,h=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ID,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(dl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(th,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(nh,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(th," .").concat(th,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(nh," .").concat(nh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(dl,`] {
    `).concat(MD,": ").concat(h,`px;
  }
`)},J_=function(){var e=parseInt(document.body.getAttribute(dl)||"0",10);return isFinite(e)?e:0},tz=function(){E.useEffect(function(){return document.body.setAttribute(dl,(J_()+1).toString()),function(){var e=J_()-1;e<=0?document.body.removeAttribute(dl):document.body.setAttribute(dl,e.toString())}},[])},nz=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;tz();var l=E.useMemo(function(){return XD(a)},[a]);return E.createElement(QD,{styles:ez(l,!t,a,n?"":"!important")})},dg=!1;if(typeof window<"u")try{var $d=Object.defineProperty({},"passive",{get:function(){return dg=!0,!0}});window.addEventListener("test",$d,$d),window.removeEventListener("test",$d,$d)}catch{dg=!1}var Ja=dg?{passive:!1}:!1,rz=function(e){return e.tagName==="TEXTAREA"},pk=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!rz(e)&&n[t]==="visible")},iz=function(e){return pk(e,"overflowY")},sz=function(e){return pk(e,"overflowX")},X_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=mk(e,r);if(a){var l=gk(e,r),c=l[1],h=l[2];if(c>h)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},oz=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},az=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},mk=function(e,t){return e==="v"?iz(t):sz(t)},gk=function(e,t){return e==="v"?oz(t):az(t)},lz=function(e,t){return e==="h"&&t==="rtl"?-1:1},cz=function(e,t,n,r,a){var l=lz(e,window.getComputedStyle(t).direction),c=l*r,h=n.target,f=t.contains(h),m=!1,y=c>0,w=0,b=0;do{if(!h)break;var P=gk(e,h),C=P[0],k=P[1],R=P[2],N=k-R-l*C;(C||N)&&mk(e,h)&&(w+=N,b+=C);var O=h.parentNode;h=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!f&&h!==document.body||f&&(t.contains(h)||t===h));return(y&&Math.abs(w)<1||!y&&Math.abs(b)<1)&&(m=!0),m},Vd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Q_=function(e){return[e.deltaX,e.deltaY]},ex=function(e){return e&&"current"in e?e.current:e},uz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},dz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hz=0,Xa=[];function fz(e){var t=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),a=E.useState(hz++)[0],l=E.useState(fk)[0],c=E.useRef(e);E.useEffect(function(){c.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var k=VC([e.lockRef.current],(e.shards||[]).map(ex),!0).filter(Boolean);return k.forEach(function(R){return R.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),k.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var h=E.useCallback(function(k,R){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!c.current.allowPinchZoom;var N=Vd(k),O=n.current,A="deltaX"in k?k.deltaX:O[0]-N[0],$="deltaY"in k?k.deltaY:O[1]-N[1],z,H=k.target,F=Math.abs(A)>Math.abs($)?"h":"v";if("touches"in k&&F==="h"&&H.type==="range")return!1;var M=window.getSelection(),ne=M&&M.anchorNode,ee=ne?ne===H||ne.contains(H):!1;if(ee)return!1;var ae=X_(F,H);if(!ae)return!0;if(ae?z=F:(z=F==="v"?"h":"v",ae=X_(F,H)),!ae)return!1;if(!r.current&&"changedTouches"in k&&(A||$)&&(r.current=z),!z)return!0;var ce=r.current||z;return cz(ce,R,k,ce==="h"?A:$)},[]),f=E.useCallback(function(k){var R=k;if(!(!Xa.length||Xa[Xa.length-1]!==l)){var N="deltaY"in R?Q_(R):Vd(R),O=t.current.filter(function(z){return z.name===R.type&&(z.target===R.target||R.target===z.shadowParent)&&uz(z.delta,N)})[0];if(O&&O.should){R.cancelable&&R.preventDefault();return}if(!O){var A=(c.current.shards||[]).map(ex).filter(Boolean).filter(function(z){return z.contains(R.target)}),$=A.length>0?h(R,A[0]):!c.current.noIsolation;$&&R.cancelable&&R.preventDefault()}}},[]),m=E.useCallback(function(k,R,N,O){var A={name:k,delta:R,target:N,should:O,shadowParent:pz(N)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function($){return $!==A})},1)},[]),y=E.useCallback(function(k){n.current=Vd(k),r.current=void 0},[]),w=E.useCallback(function(k){m(k.type,Q_(k),k.target,h(k,e.lockRef.current))},[]),b=E.useCallback(function(k){m(k.type,Vd(k),k.target,h(k,e.lockRef.current))},[]);E.useEffect(function(){return Xa.push(l),e.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Ja),document.addEventListener("touchmove",f,Ja),document.addEventListener("touchstart",y,Ja),function(){Xa=Xa.filter(function(k){return k!==l}),document.removeEventListener("wheel",f,Ja),document.removeEventListener("touchmove",f,Ja),document.removeEventListener("touchstart",y,Ja)}},[]);var P=e.removeScrollBar,C=e.inert;return E.createElement(E.Fragment,null,C?E.createElement(l,{styles:dz(a)}):null,P?E.createElement(nz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function pz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mz=VD(hk,fz);var Tv=E.forwardRef(function(e,t){return E.createElement(jh,xi({},e,{ref:t,sideCar:mz}))});Tv.classNames=jh.classNames;var gz=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qa=new WeakMap,Wd=new WeakMap,Hd={},um=0,vk=function(e){return e&&(e.host||vk(e.parentNode))},vz=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=vk(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},yz=function(e,t,n,r){var a=vz(t,Array.isArray(e)?e:[e]);Hd[n]||(Hd[n]=new WeakMap);var l=Hd[n],c=[],h=new Set,f=new Set(a),m=function(w){!w||h.has(w)||(h.add(w),m(w.parentNode))};a.forEach(m);var y=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(b){if(h.has(b))y(b);else try{var P=b.getAttribute(r),C=P!==null&&P!=="false",k=(Qa.get(b)||0)+1,R=(l.get(b)||0)+1;Qa.set(b,k),l.set(b,R),c.push(b),k===1&&C&&Wd.set(b,!0),R===1&&b.setAttribute(n,"true"),C||b.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",b,N)}})};return y(t),h.clear(),um++,function(){c.forEach(function(w){var b=Qa.get(w)-1,P=l.get(w)-1;Qa.set(w,b),l.set(w,P),b||(Wd.has(w)||w.removeAttribute(r),Wd.delete(w)),P||w.removeAttribute(n)}),um--,um||(Qa=new WeakMap,Qa=new WeakMap,Wd=new WeakMap,Hd={})}},yk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=gz(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),yz(r,a,n,"aria-hidden")):function(){return null}},Cv="Dialog",[wk]=Ti(Cv),[wz,ri]=wk(Cv),_k=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:l,modal:c=!0}=e,h=E.useRef(null),f=E.useRef(null),[m=!1,y]=Jo({prop:r,defaultProp:a,onChange:l});return v.jsx(wz,{scope:t,triggerRef:h,contentRef:f,contentId:Yo(),titleId:Yo(),descriptionId:Yo(),open:m,onOpenChange:y,onOpenToggle:E.useCallback(()=>y(w=>!w),[y]),modal:c,children:n})};_k.displayName=Cv;var xk="DialogTrigger",bk=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ri(xk,n),l=ut(t,a.triggerRef);return v.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Av(a.open),...r,ref:l,onClick:Je(e.onClick,a.onOpenToggle)})});bk.displayName=xk;var Rv="DialogPortal",[_z,Sk]=wk(Rv,{forceMount:void 0}),kk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,l=ri(Rv,t);return v.jsx(_z,{scope:t,forceMount:n,children:E.Children.map(r,c=>v.jsx(Ll,{present:n||l.open,children:v.jsx(Pv,{asChild:!0,container:a,children:c})}))})};kk.displayName=Rv;var mh="DialogOverlay",Ek=E.forwardRef((e,t)=>{const n=Sk(mh,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,l=ri(mh,e.__scopeDialog);return l.modal?v.jsx(Ll,{present:r||l.open,children:v.jsx(xz,{...a,ref:t})}):null});Ek.displayName=mh;var xz=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ri(mh,n);return v.jsx(Tv,{as:Xs,allowPinchZoom:!0,shards:[a.contentRef],children:v.jsx(Xe.div,{"data-state":Av(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Xo="DialogContent",Pk=E.forwardRef((e,t)=>{const n=Sk(Xo,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,l=ri(Xo,e.__scopeDialog);return v.jsx(Ll,{present:r||l.open,children:l.modal?v.jsx(bz,{...a,ref:t}):v.jsx(Sz,{...a,ref:t})})});Pk.displayName=Xo;var bz=E.forwardRef((e,t)=>{const n=ri(Xo,e.__scopeDialog),r=E.useRef(null),a=ut(t,n.contentRef,r);return E.useEffect(()=>{const l=r.current;if(l)return yk(l)},[]),v.jsx(Tk,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Je(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0;(c.button===2||h)&&l.preventDefault()}),onFocusOutside:Je(e.onFocusOutside,l=>l.preventDefault())})}),Sz=E.forwardRef((e,t)=>{const n=ri(Xo,e.__scopeDialog),r=E.useRef(!1),a=E.useRef(!1);return v.jsx(Tk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,h;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(r.current||(h=n.triggerRef.current)==null||h.focus(),l.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:l=>{var f,m;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=l.target;((m=n.triggerRef.current)==null?void 0:m.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),Tk=E.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:l,...c}=e,h=ri(Xo,n),f=E.useRef(null),m=ut(t,f);return uk(),v.jsxs(v.Fragment,{children:[v.jsx(Ev,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:l,children:v.jsx(kv,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Av(h.open),...c,ref:m,onDismiss:()=>h.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(Ez,{titleId:h.titleId}),v.jsx(Tz,{contentRef:f,descriptionId:h.descriptionId})]})]})}),Nv="DialogTitle",Ck=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ri(Nv,n);return v.jsx(Xe.h2,{id:a.titleId,...r,ref:t})});Ck.displayName=Nv;var Rk="DialogDescription",kz=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ri(Rk,n);return v.jsx(Xe.p,{id:a.descriptionId,...r,ref:t})});kz.displayName=Rk;var Nk="DialogClose",Ak=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ri(Nk,n);return v.jsx(Xe.button,{type:"button",...r,ref:t,onClick:Je(e.onClick,()=>a.onOpenChange(!1))})});Ak.displayName=Nk;function Av(e){return e?"open":"closed"}var jk="DialogTitleWarning",[z5,Lk]=dD(jk,{contentName:Xo,titleName:Nv,docsSlug:"dialog"}),Ez=({titleId:e})=>{const t=Lk(jk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Pz="DialogDescriptionWarning",Tz=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Lk(Pz).contentName}}.`;return E.useEffect(()=>{var l;const a=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Cz=_k,Rz=bk,Nz=kk,Az=Ek,jz=Pk,Lz=Ck,Oz=Ak;function Ok({...e}){return v.jsx(Cz,{"data-slot":"sheet",...e})}function Iz({...e}){return v.jsx(Rz,{"data-slot":"sheet-trigger",...e})}function Mz({...e}){return v.jsx(Nz,{"data-slot":"sheet-portal",...e})}function Dz({className:e,...t}){return v.jsx(Az,{"data-slot":"sheet-overlay",className:Lt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Ik({className:e,children:t,side:n="right",...r}){return v.jsxs(Mz,{children:[v.jsx(Dz,{}),v.jsxs(jz,{"data-slot":"sheet-content",className:Lt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,v.jsxs(Oz,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[v.jsx(bv,{className:"size-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Mk({className:e,...t}){return v.jsx("div",{"data-slot":"sheet-header",className:Lt("flex flex-col gap-1.5 p-4",e),...t})}function Dk({className:e,...t}){return v.jsx(Lz,{"data-slot":"sheet-title",className:Lt("text-foreground font-semibold",e),...t})}function Lh(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Oh(e){const[t,n]=E.useState(void 0);return pn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,h;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,h=m.blockSize}else c=e.offsetWidth,h=e.offsetHeight;n({width:c,height:h})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var jv="Checkbox",[zz]=Ti(jv),[Bz,Fz]=zz(jv),zk=E.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:l,required:c,disabled:h,value:f="on",onCheckedChange:m,form:y,...w}=e,[b,P]=E.useState(null),C=ut(t,$=>P($)),k=E.useRef(!1),R=b?y||!!b.closest("form"):!0,[N=!1,O]=Jo({prop:a,defaultProp:l,onChange:m}),A=E.useRef(N);return E.useEffect(()=>{const $=b==null?void 0:b.form;if($){const z=()=>O(A.current);return $.addEventListener("reset",z),()=>$.removeEventListener("reset",z)}},[b,O]),v.jsxs(Bz,{scope:n,state:N,disabled:h,children:[v.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":qs(N)?"mixed":N,"aria-required":c,"data-state":Uk(N),"data-disabled":h?"":void 0,disabled:h,value:f,...w,ref:C,onKeyDown:Je(e.onKeyDown,$=>{$.key==="Enter"&&$.preventDefault()}),onClick:Je(e.onClick,$=>{O(z=>qs(z)?!0:!z),R&&(k.current=$.isPropagationStopped(),k.current||$.stopPropagation())})}),R&&v.jsx(Uz,{control:b,bubbles:!k.current,name:r,value:f,checked:N,required:c,disabled:h,form:y,style:{transform:"translateX(-100%)"},defaultChecked:qs(l)?!1:l})]})});zk.displayName=jv;var Bk="CheckboxIndicator",Fk=E.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,l=Fz(Bk,n);return v.jsx(Ll,{present:r||qs(l.state)||l.state===!0,children:v.jsx(Xe.span,{"data-state":Uk(l.state),"data-disabled":l.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Fk.displayName=Bk;var Uz=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...l}=e,c=E.useRef(null),h=Lh(n),f=Oh(t);E.useEffect(()=>{const y=c.current,w=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(w,"checked").set;if(h!==n&&P){const C=new Event("click",{bubbles:r});y.indeterminate=qs(n),P.call(y,qs(n)?!1:n),y.dispatchEvent(C)}},[h,n,r]);const m=E.useRef(qs(n)?!1:n);return v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??m.current,...l,tabIndex:-1,ref:c,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qs(e){return e==="indeterminate"}function Uk(e){return qs(e)?"indeterminate":e?"checked":"unchecked"}var $z=zk,Vz=Fk;function Kd({className:e,...t}){return v.jsx($z,{"data-slot":"checkbox",className:Lt("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:v.jsx(Vz,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:v.jsx(wv,{className:"size-3.5"})})})}var Lv="Avatar",[Wz]=Ti(Lv),[Hz,$k]=Wz(Lv),Vk=E.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,l]=E.useState("idle");return v.jsx(Hz,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:l,children:v.jsx(Xe.span,{...r,ref:t})})});Vk.displayName=Lv;var Wk="AvatarImage",Hk=E.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...l}=e,c=$k(Wk,n),h=Kz(r,l.referrerPolicy),f=Jr(m=>{a(m),c.onImageLoadingStatusChange(m)});return pn(()=>{h!=="idle"&&f(h)},[h,f]),h==="loaded"?v.jsx(Xe.img,{...l,ref:t,src:r}):null});Hk.displayName=Wk;var Kk="AvatarFallback",Gk=E.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,l=$k(Kk,n),[c,h]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>h(!0),r);return()=>window.clearTimeout(f)}},[r]),c&&l.imageLoadingStatus!=="loaded"?v.jsx(Xe.span,{...a,ref:t}):null});Gk.displayName=Kk;function Kz(e,t){const[n,r]=E.useState("idle");return pn(()=>{if(!e){r("error");return}let a=!0;const l=new window.Image,c=h=>()=>{a&&r(h)};return r("loading"),l.onload=c("loaded"),l.onerror=c("error"),l.src=e,t&&(l.referrerPolicy=t),()=>{a=!1}},[e,t]),n}var Gz=Vk,Zz=Hk,qz=Gk;function hl({className:e,...t}){return v.jsx(Gz,{"data-slot":"avatar",className:Lt("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function fl({className:e,...t}){return v.jsx(Zz,{"data-slot":"avatar-image",className:Lt("aspect-square size-full",e),...t})}function pl({className:e,...t}){return v.jsx(qz,{"data-slot":"avatar-fallback",className:Lt("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}async function Yz(e,t){const n="AIzaSyCGRGdSA0IZHxgGI4PCv00kQ8xJ5dpx7Gc";try{const r=await Jz(e,t,n);if(r.success)return r;console.log(" Google Maps geocoding failed, trying OpenStreetMap...")}catch(r){console.error("Google Maps geocoding error:",r),console.log(" Falling back to OpenStreetMap...")}try{return await Xz(e,t)}catch(r){return console.error("OpenStreetMap geocoding error:",r),{success:!1,error:"Adres bulunamad"}}}async function Jz(e,t,n){const r=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${e},${t}&language=tr&key=${n}`,a=await fetch(r);if(!a.ok)throw new Error(`Google Maps API error: ${a.status}`);const l=await a.json();if(l.status==="OK"&&l.results&&l.results.length>0){const c=l.results[0],h=c.address_components||[];let f="",m="",y="";for(const b of h){const P=b.types||[];(P.includes("locality")||P.includes("administrative_area_level_1"))&&(f||(f=b.long_name)),(P.includes("sublocality")||P.includes("sublocality_level_1")||P.includes("neighborhood"))&&(m||(m=b.long_name)),(P.includes("sublocality_level_2")||P.includes("neighborhood"))&&(y||(y=b.long_name))}let w="";if(f?m&&m!==f?w=`${f} / ${m}`:y&&y!==f?w=`${f} / ${y}`:w=f:c.formatted_address&&(w=c.formatted_address.split(",").map(P=>P.trim()).slice(0,2).join(" / ")),w)return{success:!0,address:w}}return{success:!1,error:l.status||"Adres bulunamad"}}async function Xz(e,t){await new Promise(y=>setTimeout(y,1e3));const n=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}&zoom=18&addressdetails=1&accept-language=tr`,r=await fetch(n,{headers:{"User-Agent":"esnaftaucuz-app/1.0"}});if(!r.ok)throw new Error(`OpenStreetMap API error: ${r.status}`);const a=await r.json();if(a.error)return{success:!1,error:a.error};const l=a.address||{};let c="";const h=l.city||l.town||l.village||l.municipality||l.state,f=l.suburb||l.neighbourhood||l.district||l.county||l.state_district,m=l.quarter||l.neighbourhood;if(h&&(f&&f!==h?c=`${h} / ${f}`:m&&m!==h?c=`${h} / ${m}`:c=h),!c&&a.display_name){const y=a.display_name.split(",").map(b=>b.trim()),w=y.filter(b=>{const P=b.toLowerCase();return!P.includes("trkiye")&&!P.includes("turkey")&&!P.includes("postal")&&!P.match(/^\d+$/)});w.length>=2?c=w.slice(0,2).join(" / "):w.length===1?c=w[0]:y.length>=2&&(c=y.slice(0,2).join(" / "))}if(!c){const y=[l.road,l.suburb,l.neighbourhood,l.village,l.town,l.city,l.state].filter(Boolean);y.length>0&&(c=y.slice(0,2).join(" / "))}return c?{success:!0,address:c}:{success:!1,error:"Adres bulunamad"}}function Qz(){const e=mn(),{getCurrentPosition:t}=Ah(),{user:n}=ni(),[r,a]=iC(),[l,c]=E.useState(""),[h,f]=E.useState(null),[m,y]=E.useState(!1),[w,b]=E.useState([]),[P,C]=E.useState([]),[k,R]=E.useState([]),[N,O]=E.useState(!0),[A,$]=E.useState(!1),[z,H]=E.useState(0),F=E.useRef(null),M=E.useRef(null),[ne,ee]=E.useState("Konya / Seluklu"),[ae,ce]=E.useState(!1),[ye,ge]=E.useState({pazar:!1,manav:!1,market:!1,kasap:!1,todayOnly:!1,withPhoto:!1,verified:!1});E.useEffect(()=>{const U=r.get("search");U&&(c(U),ue(U))},[]),E.useEffect(()=>{let U=!0;return(async()=>{try{const fe=await t();if(fe&&U){const{latitude:be,longitude:Se}=fe;console.log(" Auto-fetching location on mount:",{latitude:be,longitude:Se});let Oe="",Te=!1;try{await new Promise(at=>setTimeout(at,1e3));const it=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${be}&lon=${Se}&zoom=18&addressdetails=1&accept-language=tr`,{headers:{"User-Agent":"esnaftaucuz-app/1.0"}});if(it.ok&&U){const at=await it.json();if(console.log(" Auto geocoding response:",at),console.log(" Address object:",at.address),at.error)console.error("Geocoding API error:",at.error);else{const qe=at.address||{};console.log(" Parsing address fields:",{city:qe.city,town:qe.town,village:qe.village,municipality:qe.municipality,state:qe.state,district:qe.district,suburb:qe.suburb,neighbourhood:qe.neighbourhood,display_name:at.display_name});const Et=qe.city||qe.town||qe.village||qe.municipality||qe.state,dt=qe.suburb||qe.neighbourhood||qe.district||qe.county||qe.state_district,zt=qe.quarter||qe.neighbourhood;if(Et&&(dt&&dt!==Et?(Oe=`${Et} / ${dt}`,Te=!0):zt&&zt!==Et?(Oe=`${Et} / ${zt}`,Te=!0):(Oe=Et,Te=!0)),!Te&&at.display_name){const st=at.display_name.split(",").map(gn=>gn.trim());console.log(" Parsing display_name parts:",st);const Bt=st.filter(gn=>{const vt=gn.toLowerCase();return!vt.includes("trkiye")&&!vt.includes("turkey")&&!vt.includes("postal")&&!vt.match(/^\d+$/)});Bt.length>=2?(Oe=Bt.slice(0,2).join(" / "),Te=!0):Bt.length===1?(Oe=Bt[0],Te=!0):st.length>=2&&(Oe=st.slice(0,2).join(" / "),Te=!0)}if(!Te){const st=[qe.road,qe.suburb,qe.neighbourhood,qe.village,qe.town,qe.city,qe.state].filter(Boolean);st.length>0&&(Oe=st.slice(0,2).join(" / "),Te=!0)}}}else console.error("Geocoding API HTTP error:",it.status,it.statusText)}catch(it){console.error("Auto geocoding error:",it)}U&&(Te&&Oe?(ee(Oe),console.log(" Auto location set:",Oe)):(ee("Mevcut Konum"),console.log(" Auto geocoding failed, using fallback")))}}catch(fe){console.error("Auto location fetch error:",fe),U&&ee("Mevcut Konum")}})(),()=>{U=!1}},[]),E.useEffect(()=>{console.log(" ExploreScreen mounted, loading data...");const U=setTimeout(()=>{console.warn(" Safety timeout triggered - forcing loading to false"),O(!1),$(!1),H(0),Re.error("Veriler yklenirken zaman am olutu. Ltfen tekrar deneyin.")},2e4);return J().catch(ie=>{console.error(" Load data failed in useEffect:",ie),O(!1),$(!1)}).finally(()=>{clearTimeout(U)}),()=>{clearTimeout(U)}},[]);const J=async(U=!1)=>{var fe,be,Se,Oe;U?$(!0):O(!0),console.log(" Loading data...");const ie=setTimeout(()=>{console.warn(" Loading timeout - forcing completion"),O(!1),$(!1),H(0),Re.error("Veriler yklenirken zaman am olutu")},15e3);try{const Te=Bc.getTrending().catch(Bt=>(console.error(" Failed to load trending products:",Bt),[])),it=Ho.getAll({sort:"newest",limit:20,todayOnly:!0}).catch(Bt=>(console.error(" Failed to load recent prices:",Bt),[])),qe=((n==null?void 0:n.search_radius)||((fe=n==null?void 0:n.preferences)==null?void 0:fe.searchRadius)||15)*1e3,Et=ww.getNearbyCheapest(37.8667,32.4833,qe,10).catch(Bt=>(console.error(" Failed to load nearby prices:",Bt),[])),[dt,zt,st]=await Promise.allSettled([Te,it,Et]);dt.status==="fulfilled"?(console.log(" Trending products loaded:",((be=dt.value)==null?void 0:be.length)||0),b(dt.value||[])):(console.error(" Trending products failed:",dt.reason),b([])),zt.status==="fulfilled"?(console.log(" Recent prices loaded:",((Se=zt.value)==null?void 0:Se.length)||0),R(zt.value||[])):(console.error(" Recent prices failed:",zt.reason),R([])),st.status==="fulfilled"?(console.log(" Nearby prices loaded:",((Oe=st.value)==null?void 0:Oe.length)||0),C(st.value||[])):(console.error(" Nearby prices failed:",st.reason),C([])),console.log(" Data loading completed"),U&&Re.success("Yenilendi")}catch(Te){console.error(" Failed to load data:",Te),console.error("Error details:",{message:Te.message,stack:Te.stack,name:Te.name}),b([]),R([]),C([]),Re.error(Te.message||"Veriler yklenirken bir hata olutu")}finally{clearTimeout(ie),console.log(" Setting loading states to false"),O(!1),$(!1),H(0)}},Z=U=>{const ie=M.current;ie&&ie.scrollTop===0&&(F.current=U.touches[0].clientY)},le=U=>{if(F.current===null||A)return;const ie=M.current;if(!ie||ie.scrollTop>0){F.current=null;return}const be=U.touches[0].clientY-F.current;if(be>0){U.preventDefault();const Se=Math.min(be,120);H(Se)}},D=()=>{if(F.current===null||A)return;const U=M.current;U&&U.scrollTop===0&&z>=80?J(!0):H(0),F.current=null},re=U=>U.toFixed(2).replace(".",","),q=U=>{const ie=new Date(U),be=new Date().getTime()-ie.getTime(),Se=Math.floor(be/6e4),Oe=Math.floor(Se/60),Te=Math.floor(Oe/24);return Se<1?"Az nce":Se<60?`${Se} dakika nce`:Oe<24?`${Oe} saat nce`:Te===1?"1 gn nce":`${Te} gn nce`},B=U=>{const ie=new Date(U),fe=new Date;return ie.toDateString()===fe.toDateString()},Y=async()=>{try{ce(!0);const U=await t();if(U){const{latitude:ie,longitude:fe}=U;console.log(" Current location:",{latitude:ie,longitude:fe});try{const be=await Yz(ie,fe);be.success&&be.address?(ee(be.address),Re.success("Konum alnd",{description:be.address})):(ee("Mevcut Konum"),Re.info("Konum tespit edildi",{description:"Adres bilgisi yklenemedi. Konum ayarlarndan manuel olarak ayarlayabilirsiniz."}))}catch(be){console.error("Geocoding error:",be),ee("Mevcut Konum"),Re.warning("Konum alnd",{description:"Adres bilgisi u an iin kullanlamyor."})}}else Re.error("Konum alnamad. Ltfen konum iznini kontrol edin.")}catch(U){console.error("Location error:",U),Re.error("Konum alnamad: "+(U.message||"Bilinmeyen hata"))}finally{ce(!1)}},ue=async U=>{if(!U.trim()){f(null),a({});return}try{y(!0);const ie=await ww.search(U,"all");f(ie),a({search:U})}catch(ie){console.error("Search error:",ie),Re.error(ie.message||"Arama yaplrken bir hata olutu"),f(null)}finally{y(!1)}},he=async()=>{if(!l.trim()){f(null),a({});return}await ue(l)},ve=()=>{c(""),f(null),a({})};return v.jsxs("div",{className:"min-h-screen bg-gray-50 relative",onTouchStart:Z,onTouchMove:le,onTouchEnd:D,children:[z>0&&v.jsx("div",{className:"absolute top-0 left-0 right-0 flex items-center justify-center bg-white border-b border-gray-200 z-20 transition-transform duration-200",style:{transform:`translateY(${Math.min(z,120)-60}px)`,height:"60px"},children:z>=80?v.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[v.jsx(em,{className:"w-5 h-5 animate-spin"}),v.jsx("span",{className:"text-sm font-medium",children:"Braknca yenilenecek"})]}):v.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[v.jsx(em,{className:"w-5 h-5 transition-transform",style:{transform:`rotate(${z*3}deg)`}}),v.jsx("span",{className:"text-sm",children:"Aa ekin"})]})}),v.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:v.jsxs("div",{className:"px-4 pt-4 pb-3",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 flex-1 min-w-0",children:[v.jsx(kn,{className:"w-4 h-4 flex-shrink-0"}),v.jsx("span",{className:"truncate",children:ne}),v.jsx(bt,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs flex-shrink-0",onClick:Y,disabled:ae,title:"Mevcut konumu al",children:ae?v.jsx(em,{className:"w-3 h-3 animate-spin"}):v.jsx(_v,{className:"w-3 h-3"})})]}),v.jsx("button",{onClick:()=>e("/app/notifications"),className:"p-2 hover:bg-gray-100 rounded-full flex-shrink-0",children:v.jsx(yv,{className:"w-5 h-5 text-gray-600"})})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("div",{className:"flex-1 relative",children:[v.jsx(ph,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsx(qo,{value:l,onChange:U=>c(U.target.value),onKeyPress:U=>U.key==="Enter"&&he(),placeholder:"rn veya yer ara",className:"pl-10"})]}),v.jsxs(Ok,{children:[v.jsx(Iz,{asChild:!0,children:v.jsx(bt,{variant:"outline",size:"icon",children:v.jsx(jI,{className:"w-4 h-4"})})}),v.jsxs(Ik,{side:"right",children:[v.jsx(Mk,{children:v.jsx(Dk,{children:"Filtrele"})}),v.jsxs("div",{className:"py-6 space-y-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"mb-3",children:"Yer Tr"}),v.jsx("div",{className:"space-y-2",children:["pazar","manav","market","kasap"].map(U=>v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Kd,{id:U,checked:ye[U],onCheckedChange:ie=>ge({...ye,[U]:ie})}),v.jsx(ar,{htmlFor:U,className:"capitalize",children:U})]},U))})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"mb-3",children:"Zaman"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Kd,{id:"todayOnly",checked:ye.todayOnly,onCheckedChange:U=>ge({...ye,todayOnly:!!U})}),v.jsx(ar,{htmlFor:"todayOnly",children:"Sadece bugn girilenler"})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"mb-3",children:"Gven"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Kd,{id:"withPhoto",checked:ye.withPhoto,onCheckedChange:U=>ge({...ye,withPhoto:!!U})}),v.jsx(ar,{htmlFor:"withPhoto",children:"Fotorafl"})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Kd,{id:"verified",checked:ye.verified,onCheckedChange:U=>ge({...ye,verified:!!U})}),v.jsx(ar,{htmlFor:"verified",children:"Dorulanm"})]})]})]}),v.jsxs("div",{className:"flex gap-2 pt-4",children:[v.jsx(bt,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{await J(),Re.success("Filtre uyguland")},children:"Filtreyi Uygula"}),v.jsx(bt,{variant:"outline",className:"flex-1",onClick:()=>{ge({pazar:!1,manav:!1,market:!1,kasap:!1,todayOnly:!1,withPhoto:!1,verified:!1})},children:"Temizle"})]})]})]})]})]})]})}),v.jsxs("div",{ref:M,className:"p-3 sm:p-4 md:p-6 space-y-4 sm:space-y-6 overflow-y-auto max-w-7xl mx-auto",style:{paddingTop:z>0?`${Math.min(z,60)}px`:"0",transition:z===0?"padding-top 0.2s":"none"},children:[h&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h2",{className:"text-lg font-semibold",children:['Arama Sonular: "',l,'"']}),v.jsxs(bt,{variant:"outline",size:"sm",onClick:ve,className:"flex items-center gap-2",children:[v.jsx(bv,{className:"w-4 h-4"}),"Temizle"]})]}),m?v.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aranyor..."}):v.jsxs(v.Fragment,{children:[h.products.length>0&&v.jsxs("section",{children:[v.jsxs("h3",{className:"text-base font-semibold mb-3 text-gray-700",children:["rnler (",h.products.length,")"]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-2 sm:gap-3",children:h.products.map(U=>v.jsx("div",{onClick:()=>e(`/app/product/${U.id||U._id}`),className:"bg-white rounded-lg p-2 sm:p-3 border border-gray-200 hover:border-green-600 hover:shadow-md cursor-pointer transition-all",children:v.jsxs("div",{className:"flex flex-col gap-1.5 sm:gap-2",children:[v.jsxs("div",{className:"w-full h-12 sm:h-16 rounded-lg bg-gray-100 flex items-center justify-center overflow-hidden",children:[U.image?v.jsx("img",{src:U.image,alt:U.name,className:"w-full h-full object-cover",onError:ie=>{var fe;ie.target.style.display="none",(fe=ie.target.nextElementSibling)==null||fe.classList.remove("hidden")}}):null,v.jsx(qr,{className:`w-4 h-4 sm:w-6 sm:h-6 text-gray-400 ${U.image?"hidden":""}`})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-medium text-gray-900 truncate text-xs sm:text-sm",children:U.name}),v.jsx("p",{className:"text-xs text-gray-500 truncate",children:U.category})]})]})},U.id||U._id))})]}),h.prices.length>0&&v.jsxs("section",{children:[v.jsxs("h3",{className:"text-base font-semibold mb-3 text-gray-700",children:["Fiyatlar (",h.prices.length,")"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:h.prices.map(U=>{var ie,fe;return v.jsx("div",{onClick:()=>e(`/app/product/${U.product.id||U.product._id}`),className:"bg-white rounded-lg p-3 sm:p-4 border border-gray-200 hover:border-green-600 hover:shadow-md cursor-pointer transition-all",children:v.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[v.jsxs("div",{className:"relative w-14 h-14 sm:w-16 sm:h-16 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0 overflow-hidden",children:[U.photo?v.jsxs(v.Fragment,{children:[v.jsx("img",{src:U.photo,alt:`${U.product.name} - Kullanc fotoraf`,className:"w-full h-full object-cover",title:"Kullanc tarafndan yklenen fotoraf",onError:be=>{var Se;console.error("User photo failed to load:",U.photo),be.target.style.display="none",(Se=be.target.nextElementSibling)==null||Se.classList.remove("hidden")}}),v.jsx("div",{className:"absolute top-1 right-1 bg-green-600 text-white text-[8px] sm:text-[10px] px-1 sm:px-1.5 py-0.5 rounded-full font-semibold shadow-md",children:""})]}):null,v.jsx(qr,{className:`w-6 h-6 sm:w-8 sm:h-8 text-gray-400 ${U.photo?"hidden":""}`})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex justify-between items-start mb-1.5 sm:mb-2",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"text-base sm:text-lg text-gray-900 font-medium truncate",children:U.product.name}),v.jsxs("p",{className:"text-xl sm:text-2xl text-green-600 font-semibold mt-1",children:[re(U.price)," TL"," ",v.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 font-normal",children:["/ ",U.unit]})]})]}),B(U.created_at||U.createdAt||"")&&v.jsx(Yr,{className:"bg-green-600 ml-2 flex-shrink-0 text-xs",children:"BUGN"})]}),v.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-gray-500",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(kn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),v.jsx("span",{className:"truncate",children:U.location.name})]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Wc,{className:"w-3 h-3 sm:w-4 sm:h-4"}),q(U.created_at||U.createdAt||"")]})]}),U.user&&v.jsxs("div",{className:"flex items-center gap-2 mt-1.5 sm:mt-2",children:[v.jsxs(hl,{className:"w-5 h-5 sm:w-6 sm:h-6",children:[v.jsx(fl,{src:U.user.avatar}),v.jsx(pl,{className:"bg-green-600 text-white text-xs",children:((fe=(ie=U.user.name)==null?void 0:ie.charAt(0))==null?void 0:fe.toUpperCase())||"U"})]}),v.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:U.user.name})]}),(U.is_verified||U.isVerified)&&v.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-1.5 sm:mt-2 text-xs sm:text-sm text-green-600",children:[v.jsx(Zo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),v.jsx("span",{children:"Dorulanm"})]})]})]})},U.id||U._id)})})]}),h.locations.length>0&&v.jsxs("section",{children:[v.jsxs("h3",{className:"text-base font-semibold mb-3 text-gray-700",children:["Yerler (",h.locations.length,")"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:h.locations.map(U=>v.jsx("div",{onClick:()=>e(`/app/location/${U.id}`),className:"bg-white rounded-lg p-3 sm:p-4 border border-gray-200 hover:border-green-600 hover:shadow-md cursor-pointer transition-all",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(kn,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-1",children:U.name}),v.jsx("p",{className:"text-sm text-gray-600 mb-1 capitalize",children:U.type}),U.address&&v.jsx("p",{className:"text-xs text-gray-500",children:U.address}),v.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[U.city,U.district&&`, ${U.district}`]})]})]})},U.id))})]}),h.products.length===0&&h.prices.length===0&&h.locations.length===0&&v.jsxs("div",{className:"text-center py-12",children:[v.jsx(qr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"Sonu bulunamad"}),v.jsxs("p",{className:"text-sm text-gray-500",children:['"',l,'" iin arama sonucu bulunamad. Farkl bir terim deneyin.']})]})]})]}),!h&&v.jsx(v.Fragment,{children:N?v.jsx("div",{className:"text-center py-8 text-gray-500",children:"Ykleniyor..."}):v.jsxs(v.Fragment,{children:[v.jsxs("section",{children:[v.jsx("h2",{className:"text-base sm:text-lg mb-2 sm:mb-3 text-gray-900 font-semibold",children:"Bugn En ok Baklanlar"}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-2 sm:gap-3",children:w.length>0?w.slice(0,12).map(U=>v.jsx("div",{onClick:()=>e(`/app/product/${U.id||U._id}`),className:"bg-white rounded-lg p-2 sm:p-3 border border-gray-200 hover:border-green-600 hover:shadow-md cursor-pointer transition-all",children:v.jsxs("div",{className:"flex flex-col gap-1.5 sm:gap-2",children:[v.jsxs("div",{className:"w-full h-12 sm:h-16 rounded-lg bg-gray-100 flex items-center justify-center overflow-hidden",children:[U.image?v.jsx("img",{src:U.image,alt:U.name,className:"w-full h-full object-cover",onError:ie=>{var fe;ie.target.style.display="none",(fe=ie.target.nextElementSibling)==null||fe.classList.remove("hidden")}}):null,v.jsx(qr,{className:`w-4 h-4 sm:w-6 sm:h-6 text-gray-400 ${U.image?"hidden":""}`})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-medium text-gray-900 truncate text-xs sm:text-sm",children:U.name}),v.jsx("p",{className:"text-xs text-gray-500 truncate",children:U.category})]})]})},U.id||U._id)):v.jsx("p",{className:"text-sm text-gray-500 col-span-full",children:"Henz trend rn yok"})})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-base sm:text-lg mb-2 sm:mb-3 text-gray-900 font-semibold",children:"Sana Yakn En Ucuz"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:P.length>0?P.slice(0,4).map(U=>{var ie,fe;return v.jsx("div",{onClick:()=>e(`/app/product/${U.product.id||U.product._id}`),className:"bg-white rounded-lg p-3 sm:p-4 border border-gray-200 hover:border-green-600 hover:shadow-md cursor-pointer transition-all",children:v.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[v.jsxs("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0 overflow-hidden",children:[U.product.image?v.jsx("img",{src:U.product.image,alt:U.product.name,className:"w-full h-full object-cover",onError:be=>{var Se;be.target.style.display="none",(Se=be.target.nextElementSibling)==null||Se.classList.remove("hidden")}}):null,v.jsx(qr,{className:`w-6 h-6 sm:w-8 sm:h-8 text-gray-400 ${U.product.image?"hidden":""}`})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex justify-between items-start mb-1.5 sm:mb-2",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"text-base sm:text-lg text-gray-900 font-medium truncate",children:U.product.name}),v.jsxs("p",{className:"text-xl sm:text-2xl text-green-600 font-semibold mt-1",children:[re(U.price)," TL"," ",v.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 font-normal",children:["/ ",U.unit]})]})]}),B(U.created_at||U.createdAt||"")&&v.jsx(Yr,{className:"bg-green-600 ml-2 flex-shrink-0 text-xs",children:"BUGN"})]}),v.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-gray-500",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(kn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),v.jsx("span",{className:"truncate",children:U.location.name})]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Wc,{className:"w-3 h-3 sm:w-4 sm:h-4"}),q(U.created_at||U.createdAt||"")]})]}),U.user&&v.jsxs("div",{className:"flex items-center gap-2 mt-1.5 sm:mt-2",children:[v.jsxs(hl,{className:"w-5 h-5 sm:w-6 sm:h-6",children:[v.jsx(fl,{src:U.user.avatar}),v.jsx(pl,{className:"bg-green-600 text-white text-xs",children:((fe=(ie=U.user.name)==null?void 0:ie.charAt(0))==null?void 0:fe.toUpperCase())||"U"})]}),v.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:U.user.name})]}),(U.is_verified||U.isVerified)&&v.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-1.5 sm:mt-2 text-xs sm:text-sm text-green-600",children:[v.jsx(Zo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),v.jsx("span",{children:"Dorulanm"})]})]})]})},U.id||U._id)}):v.jsx("p",{className:"text-sm text-gray-500",children:"Yaknnzda fiyat bulunamad"})})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-base sm:text-lg mb-2 sm:mb-3 text-gray-900 font-semibold",children:"Son Girilen Fiyatlar"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:k.length>0?k.slice(0,9).map(U=>{var ie,fe;return v.jsx("div",{onClick:()=>e(`/app/product/${U.product.id||U.product._id}`),className:"bg-white rounded-lg p-3 sm:p-4 border border-gray-200 hover:border-green-600 hover:shadow-md cursor-pointer transition-all",children:v.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[v.jsxs("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0 overflow-hidden",children:[U.product.image?v.jsx("img",{src:U.product.image,alt:U.product.name,className:"w-full h-full object-cover",onError:be=>{var Se;be.target.style.display="none",(Se=be.target.nextElementSibling)==null||Se.classList.remove("hidden")}}):null,v.jsx(qr,{className:`w-6 h-6 sm:w-8 sm:h-8 text-gray-400 ${U.product.image?"hidden":""}`})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex justify-between items-start mb-1.5 sm:mb-2",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"text-base sm:text-lg text-gray-900 font-medium truncate",children:U.product.name}),v.jsxs("p",{className:"text-xl sm:text-2xl text-green-600 font-semibold mt-1",children:[re(U.price)," TL"," ",v.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 font-normal",children:["/ ",U.unit]})]})]}),B(U.created_at||U.createdAt||"")&&v.jsx(Yr,{className:"bg-green-600 ml-2 flex-shrink-0 text-xs",children:"BUGN"})]}),v.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-gray-500 mb-1.5 sm:mb-2",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(kn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),v.jsx("span",{className:"truncate",children:U.location.name})]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Wc,{className:"w-3 h-3 sm:w-4 sm:h-4"}),q(U.created_at||U.createdAt||"")]})]}),U.user&&v.jsxs("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:[v.jsxs(hl,{className:"w-5 h-5 sm:w-6 sm:h-6",children:[v.jsx(fl,{src:U.user.avatar}),v.jsx(pl,{className:"bg-green-600 text-white text-xs",children:((fe=(ie=U.user.name)==null?void 0:ie.charAt(0))==null?void 0:fe.toUpperCase())||"U"})]}),v.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:U.user.name})]}),(U.is_verified||U.isVerified)&&v.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-green-600",children:[v.jsx(Zo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),v.jsx("span",{children:"Dorulanm"})]})]})]})},U.id||U._id)}):v.jsx("p",{className:"text-sm text-gray-500",children:"Henz fiyat girilmemi"})})]})]})})]})]})}function Zk(e,t){const n=E.useRef(t);E.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function eB(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const tB=1;function nB(e){return Object.freeze({__version:tB,map:e})}function qk(e,t){return Object.freeze({...e,...t})}const Yk=E.createContext(null),Jk=Yk.Provider;function Ih(){const e=E.useContext(Yk);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Xk(e){function t(n,r){const{instance:a,context:l}=e(n).current;return E.useImperativeHandle(r,()=>a),n.children==null?null:_e.createElement(Jk,{value:l},n.children)}return E.forwardRef(t)}function rB(e){function t(n,r){const[a,l]=E.useState(!1),{instance:c}=e(n,l).current;E.useImperativeHandle(r,()=>c),E.useEffect(function(){a&&c.update()},[c,a,n.children]);const h=c._contentNode;return h?El.createPortal(n.children,h):null}return E.forwardRef(t)}function iB(e){function t(n,r){const{instance:a}=e(n).current;return E.useImperativeHandle(r,()=>a),null}return E.forwardRef(t)}function Ov(e,t){const n=E.useRef();E.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Mh(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function sB(e,t){return function(r,a){const l=Ih(),c=e(Mh(r,l),l);return Zk(l.map,r.attribution),Ov(c.current,r.eventHandlers),t(c.current,l,r,a),c}}var Oc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var oB=Oc.exports,tx;function aB(){return tx||(tx=1,(function(e,t){(function(n,r){r(t)})(oB,(function(n){var r="1.9.4";function a(s){var u,p,_,T;for(p=1,_=arguments.length;p<_;p++){T=arguments[p];for(u in T)s[u]=T[u]}return s}var l=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function c(s,u){var p=Array.prototype.slice;if(s.bind)return s.bind.apply(s,p.call(arguments,1));var _=p.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(p.call(arguments)):arguments)}}var h=0;function f(s){return"_leaflet_id"in s||(s._leaflet_id=++h),s._leaflet_id}function m(s,u,p){var _,T,I,W;return W=function(){_=!1,T&&(I.apply(p,T),T=!1)},I=function(){_?T=arguments:(s.apply(p,arguments),setTimeout(W,u),_=!0)},I}function y(s,u,p){var _=u[1],T=u[0],I=_-T;return s===_&&p?s:((s-T)%I+I)%I+T}function w(){return!1}function b(s,u){if(u===!1)return s;var p=Math.pow(10,u===void 0?6:u);return Math.round(s*p)/p}function P(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function C(s){return P(s).split(/\s+/)}function k(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?l(s.options):{});for(var p in u)s.options[p]=u[p];return s.options}function R(s,u,p){var _=[];for(var T in s)_.push(encodeURIComponent(p?T.toUpperCase():T)+"="+encodeURIComponent(s[T]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function O(s,u){return s.replace(N,function(p,_){var T=u[_];if(T===void 0)throw new Error("No value provided for variable "+p);return typeof T=="function"&&(T=T(u)),T})}var A=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function $(s,u){for(var p=0;p<s.length;p++)if(s[p]===u)return p;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var F=0;function M(s){var u=+new Date,p=Math.max(0,16-(u-F));return F=u+p,window.setTimeout(s,p)}var ne=window.requestAnimationFrame||H("RequestAnimationFrame")||M,ee=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ae(s,u,p){if(p&&ne===M)s.call(u);else return ne.call(window,c(s,u))}function ce(s){s&&ee.call(window,s)}var ye={__proto__:null,extend:a,create:l,bind:c,get lastId(){return h},stamp:f,throttle:m,wrapNum:y,falseFn:w,formatNum:b,trim:P,splitWords:C,setOptions:k,getParamString:R,template:O,isArray:A,indexOf:$,emptyImageUrl:z,requestFn:ne,cancelFn:ee,requestAnimFrame:ae,cancelAnimFrame:ce};function ge(){}ge.extend=function(s){var u=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,_=l(p);_.constructor=u,u.prototype=_;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(u[T]=this[T]);return s.statics&&a(u,s.statics),s.includes&&(J(s.includes),a.apply(null,[_].concat(s.includes))),a(_,s),delete _.statics,delete _.includes,_.options&&(_.options=p.options?l(p.options):{},a(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,W=_._initHooks.length;I<W;I++)_._initHooks[I].call(this)}},u},ge.include=function(s){var u=this.prototype.options;return a(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},ge.mergeOptions=function(s){return a(this.prototype.options,s),this},ge.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),p=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function J(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=A(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(s,u,p){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=C(s);for(var T=0,I=s.length;T<I;T++)this._on(s[T],u,p)}return this},off:function(s,u,p){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=C(s);for(var T=arguments.length===1,I=0,W=s.length;I<W;I++)T?this._off(s[I]):this._off(s[I],u,p)}return this},_on:function(s,u,p,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,p)===!1){p===this&&(p=void 0);var T={fn:u,ctx:p};_&&(T.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(T)}},_off:function(s,u,p){var _,T,I;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(T=0,I=_.length;T<I;T++)_[T].fn=w;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var W=this._listens(s,u,p);if(W!==!1){var X=_[W];this._firingCount&&(X.fn=w,this._events[s]=_=_.slice()),_.splice(W,1)}}},fire:function(s,u,p){if(!this.listens(s,p))return this;var _=a({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var T=this._events[s];if(T){this._firingCount=this._firingCount+1||1;for(var I=0,W=T.length;I<W;I++){var X=T[I],se=X.fn;X.once&&this.off(s,se,X.ctx),se.call(X.ctx||this,_)}this._firingCount--}}return p&&this._propagateEvent(_),this},listens:function(s,u,p,_){typeof s!="string"&&console.warn('"string" type argument expected');var T=u;typeof u!="function"&&(_=!!u,T=void 0,p=void 0);var I=this._events&&this._events[s];if(I&&I.length&&this._listens(s,T,p)!==!1)return!0;if(_){for(var W in this._eventParents)if(this._eventParents[W].listens(s,u,p,_))return!0}return!1},_listens:function(s,u,p){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;p===this&&(p=void 0);for(var T=0,I=_.length;T<I;T++)if(_[T].fn===u&&_[T].ctx===p)return T;return!1},once:function(s,u,p){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=C(s);for(var T=0,I=s.length;T<I;T++)this._on(s[T],u,p,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[f(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[f(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,a({layer:s.target,propagatedFrom:s.target},s),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var le=ge.extend(Z);function D(s,u,p){this.x=p?Math.round(s):s,this.y=p?Math.round(u):u}var re=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(s){return this.clone()._add(q(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(q(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new D(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new D(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=re(this.x),this.y=re(this.y),this},distanceTo:function(s){s=q(s);var u=s.x-this.x,p=s.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(s){return s=q(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=q(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function q(s,u,p){return s instanceof D?s:A(s)?new D(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new D(s.x,s.y):new D(s,u,p)}function B(s,u){if(s)for(var p=u?[s,u]:s,_=0,T=p.length;_<T;_++)this.extend(p[_])}B.prototype={extend:function(s){var u,p;if(!s)return this;if(s instanceof D||typeof s[0]=="number"||"x"in s)u=p=q(s);else if(s=Y(s),u=s.min,p=s.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(s){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,p;return typeof s[0]=="number"||s instanceof D?s=q(s):s=Y(s),s instanceof B?(u=s.min,p=s.max):u=p=s,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(s){s=Y(s);var u=this.min,p=this.max,_=s.min,T=s.max,I=T.x>=u.x&&_.x<=p.x,W=T.y>=u.y&&_.y<=p.y;return I&&W},overlaps:function(s){s=Y(s);var u=this.min,p=this.max,_=s.min,T=s.max,I=T.x>u.x&&_.x<p.x,W=T.y>u.y&&_.y<p.y;return I&&W},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,p=this.max,_=Math.abs(u.x-p.x)*s,T=Math.abs(u.y-p.y)*s;return Y(q(u.x-_,u.y-T),q(p.x+_,p.y+T))},equals:function(s){return s?(s=Y(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Y(s,u){return!s||s instanceof B?s:new B(s,u)}function ue(s,u){if(s)for(var p=u?[s,u]:s,_=0,T=p.length;_<T;_++)this.extend(p[_])}ue.prototype={extend:function(s){var u=this._southWest,p=this._northEast,_,T;if(s instanceof ve)_=s,T=s;else if(s instanceof ue){if(_=s._southWest,T=s._northEast,!_||!T)return this}else return s?this.extend(U(s)||he(s)):this;return!u&&!p?(this._southWest=new ve(_.lat,_.lng),this._northEast=new ve(T.lat,T.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),p.lat=Math.max(T.lat,p.lat),p.lng=Math.max(T.lng,p.lng)),this},pad:function(s){var u=this._southWest,p=this._northEast,_=Math.abs(u.lat-p.lat)*s,T=Math.abs(u.lng-p.lng)*s;return new ue(new ve(u.lat-_,u.lng-T),new ve(p.lat+_,p.lng+T))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ve||"lat"in s?s=U(s):s=he(s);var u=this._southWest,p=this._northEast,_,T;return s instanceof ue?(_=s.getSouthWest(),T=s.getNorthEast()):_=T=s,_.lat>=u.lat&&T.lat<=p.lat&&_.lng>=u.lng&&T.lng<=p.lng},intersects:function(s){s=he(s);var u=this._southWest,p=this._northEast,_=s.getSouthWest(),T=s.getNorthEast(),I=T.lat>=u.lat&&_.lat<=p.lat,W=T.lng>=u.lng&&_.lng<=p.lng;return I&&W},overlaps:function(s){s=he(s);var u=this._southWest,p=this._northEast,_=s.getSouthWest(),T=s.getNorthEast(),I=T.lat>u.lat&&_.lat<p.lat,W=T.lng>u.lng&&_.lng<p.lng;return I&&W},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=he(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(s,u){return s instanceof ue?s:new ue(s,u)}function ve(s,u,p){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,p!==void 0&&(this.alt=+p)}ve.prototype={equals:function(s,u){if(!s)return!1;s=U(s);var p=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return p<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+b(this.lat,s)+", "+b(this.lng,s)+")"},distanceTo:function(s){return fe.distance(this,U(s))},wrap:function(){return fe.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,p=u/Math.cos(Math.PI/180*this.lat);return he([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function U(s,u,p){return s instanceof ve?s:A(s)&&typeof s[0]!="object"?s.length===3?new ve(s[0],s[1],s[2]):s.length===2?new ve(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ve(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new ve(s,u,p)}var ie={latLngToPoint:function(s,u){var p=this.projection.project(s),_=this.scale(u);return this.transformation._transform(p,_)},pointToLatLng:function(s,u){var p=this.scale(u),_=this.transformation.untransform(s,p);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(s),_=this.transformation.transform(u.min,p),T=this.transformation.transform(u.max,p);return new B(_,T)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?y(s.lng,this.wrapLng,!0):s.lng,p=this.wrapLat?y(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new ve(p,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),p=this.wrapLatLng(u),_=u.lat-p.lat,T=u.lng-p.lng;if(_===0&&T===0)return s;var I=s.getSouthWest(),W=s.getNorthEast(),X=new ve(I.lat-_,I.lng-T),se=new ve(W.lat-_,W.lng-T);return new ue(X,se)}},fe=a({},ie,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var p=Math.PI/180,_=s.lat*p,T=u.lat*p,I=Math.sin((u.lat-s.lat)*p/2),W=Math.sin((u.lng-s.lng)*p/2),X=I*I+Math.cos(_)*Math.cos(T)*W*W,se=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*se}}),be=6378137,Se={R:be,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,p=this.MAX_LATITUDE,_=Math.max(Math.min(p,s.lat),-p),T=Math.sin(_*u);return new D(this.R*s.lng*u,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(s){var u=180/Math.PI;return new ve((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=be*Math.PI;return new B([-s,-s],[s,s])})()};function Oe(s,u,p,_){if(A(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=p,this._d=_}Oe.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new D((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Te(s,u,p,_){return new Oe(s,u,p,_)}var it=a({},fe,{code:"EPSG:3857",projection:Se,transformation:(function(){var s=.5/(Math.PI*Se.R);return Te(s,.5,-s,.5)})()}),at=a({},it,{code:"EPSG:900913"});function qe(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Et(s,u){var p="",_,T,I,W,X,se;for(_=0,I=s.length;_<I;_++){for(X=s[_],T=0,W=X.length;T<W;T++)se=X[T],p+=(T?"L":"M")+se.x+" "+se.y;p+=u?Pe.svg?"z":"x":""}return p||"M0 0"}var dt=document.documentElement.style,zt="ActiveXObject"in window,st=zt&&!document.addEventListener,Bt="msLaunchUri"in navigator&&!("documentMode"in document),gn=Zt("webkit"),vt=Zt("android"),dr=Zt("android 2")||Zt("android 3"),ta=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),na=vt&&Zt("Google")&&ta<537&&!("AudioNode"in window),Cr=!!window.opera,ss=!Bt&&Zt("chrome"),ii=Zt("gecko")&&!gn&&!Cr&&!zt,os=!ss&&Zt("safari"),Pn=Zt("phantom"),Rr="OTransition"in dt,si=navigator.platform.indexOf("Win")===0,io=zt&&"transition"in dt,as="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!dr,so="MozPerspective"in dt,ls=!window.L_DISABLE_3D&&(io||as||so)&&!Rr&&!Pn,Nr=typeof orientation<"u"||Zt("mobile"),Ri=Nr&&gn,In=Nr&&as,cs=!window.PointerEvent&&window.MSPointerEvent,Ar=!!(window.PointerEvent||cs),hr="ontouchstart"in window||!!window.TouchEvent,oo=!window.L_NO_TOUCH&&(hr||Ar),Ge=Nr&&Cr,Pt=Nr&&ii,Ft=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,rn=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return s})(),oi=(function(){return!!document.createElement("canvas").getContext})(),_t=!!(document.createElementNS&&qe("svg").createSVGRect),$t=!!_t&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ai=!_t&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Gt=navigator.platform.indexOf("Mac")===0,Tn=navigator.platform.indexOf("Linux")===0;function Zt(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Pe={ie:zt,ielt9:st,edge:Bt,webkit:gn,android:vt,android23:dr,androidStock:na,opera:Cr,chrome:ss,gecko:ii,safari:os,phantom:Pn,opera12:Rr,win:si,ie3d:io,webkit3d:as,gecko3d:so,any3d:ls,mobile:Nr,mobileWebkit:Ri,mobileWebkit3d:In,msPointer:cs,pointer:Ar,touch:oo,touchNative:hr,mobileOpera:Ge,mobileGecko:Pt,retina:Ft,passiveEvents:rn,canvas:oi,svg:_t,vml:ai,inlineSvg:$t,mac:Gt,linux:Tn},us=Pe.msPointer?"MSPointerDown":"pointerdown",ra=Pe.msPointer?"MSPointerMove":"pointermove",mu=Pe.msPointer?"MSPointerUp":"pointerup",gu=Pe.msPointer?"MSPointerCancel":"pointercancel",Bl={touchstart:us,touchmove:ra,touchend:mu,touchcancel:gu},li={touchstart:Tt,touchmove:ia,touchend:ia,touchcancel:ia},Ni={},Fl=!1;function Yh(s,u,p){return u==="touchstart"&&Jh(),li[u]?(p=li[u].bind(this,p),s.addEventListener(Bl[u],p,!1),p):(console.warn("wrong event specified:",u),w)}function vu(s,u,p){if(!Bl[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(Bl[u],p,!1)}function yu(s){Ni[s.pointerId]=s}function wu(s){Ni[s.pointerId]&&(Ni[s.pointerId]=s)}function Ul(s){delete Ni[s.pointerId]}function Jh(){Fl||(document.addEventListener(us,yu,!0),document.addEventListener(ra,wu,!0),document.addEventListener(mu,Ul,!0),document.addEventListener(gu,Ul,!0),Fl=!0)}function ia(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in Ni)u.touches.push(Ni[p]);u.changedTouches=[u],s(u)}}function Tt(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ct(u),ia(s,u)}function Xh(s){var u={},p,_;for(_ in s)p=s[_],u[_]=p&&p.bind?p.bind(s):p;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var $l=200;function _u(s,u){s.addEventListener("dblclick",u);var p=0,_;function T(I){if(I.detail!==1){_=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var W=Li(I);if(!(W.some(function(se){return se instanceof HTMLLabelElement&&se.attributes.for})&&!W.some(function(se){return se instanceof HTMLInputElement||se instanceof HTMLSelectElement}))){var X=Date.now();X-p<=$l?(_++,_===2&&u(Xh(I))):_=1,p=X}}}return s.addEventListener("click",T),{dblclick:u,simDblclick:T}}function sa(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var Vl=ps(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ds=ps(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ao=ds==="webkitTransition"||ds==="OTransition"?ds+"End":"transitionend";function Kn(s){return typeof s=="string"?document.getElementById(s):s}function lo(s,u){var p=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);p=_?_[u]:null}return p==="auto"?null:p}function Ze(s,u,p){var _=document.createElement(s);return _.className=u||"",p&&p.appendChild(_),_}function yt(s){var u=s.parentNode;u&&u.removeChild(s)}function oa(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function hs(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function jr(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function fs(s,u){if(s.classList!==void 0)return s.classList.contains(u);var p=aa(s);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function Ke(s,u){if(s.classList!==void 0)for(var p=C(u),_=0,T=p.length;_<T;_++)s.classList.add(p[_]);else if(!fs(s,u)){var I=aa(s);Wl(s,(I?I+" ":"")+u)}}function pt(s,u){s.classList!==void 0?s.classList.remove(u):Wl(s,P((" "+aa(s)+" ").replace(" "+u+" "," ")))}function Wl(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function aa(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function vn(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&xu(s,u)}function xu(s,u){var p=!1,_="DXImageTransform.Microsoft.Alpha";try{p=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function ps(s){for(var u=document.documentElement.style,p=0;p<s.length;p++)if(s[p]in u)return s[p];return!1}function Gn(s,u,p){var _=u||new D(0,0);s.style[Vl]=(Pe.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(p?" scale("+p+")":"")}function Ot(s,u){s._leaflet_pos=u,Pe.any3d?Gn(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function Lr(s){return s._leaflet_pos||new D(0,0)}var rt,ms,la;if("onselectstart"in document)rt=function(){Ve(window,"selectstart",Ct)},ms=function(){ht(window,"selectstart",Ct)};else{var Ai=ps(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rt=function(){if(Ai){var s=document.documentElement.style;la=s[Ai],s[Ai]="none"}},ms=function(){Ai&&(document.documentElement.style[Ai]=la,la=void 0)}}function ca(){Ve(window,"dragstart",Ct)}function ua(){ht(window,"dragstart",Ct)}var co,uo;function gs(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Zn(),co=s,uo=s.style.outlineStyle,s.style.outlineStyle="none",Ve(window,"keydown",Zn))}function Zn(){co&&(co.style.outlineStyle=uo,co=void 0,uo=void 0,ht(window,"keydown",Zn))}function Or(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function fr(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var ho={__proto__:null,TRANSFORM:Vl,TRANSITION:ds,TRANSITION_END:ao,get:Kn,getStyle:lo,create:Ze,remove:yt,empty:oa,toFront:hs,toBack:jr,hasClass:fs,addClass:Ke,removeClass:pt,setClass:Wl,getClass:aa,setOpacity:vn,testProp:ps,setTransform:Gn,setPosition:Ot,getPosition:Lr,get disableTextSelection(){return rt},get enableTextSelection(){return ms},disableImageDrag:ca,enableImageDrag:ua,preventOutline:gs,restoreOutline:Zn,getSizedParentNode:Or,getScale:fr};function Ve(s,u,p,_){if(u&&typeof u=="object")for(var T in u)Kl(s,T,u[T],p);else{u=C(u);for(var I=0,W=u.length;I<W;I++)Kl(s,u[I],p,_)}return this}var qt="_leaflet_events";function ht(s,u,p,_){if(arguments.length===1)Hl(s),delete s[qt];else if(u&&typeof u=="object")for(var T in u)da(s,T,u[T],p);else if(u=C(u),arguments.length===2)Hl(s,function(X){return $(u,X)!==-1});else for(var I=0,W=u.length;I<W;I++)da(s,u[I],p,_);return this}function Hl(s,u){for(var p in s[qt]){var _=p.split(/\d/)[0];(!u||u(_))&&da(s,_,null,null,p)}}var ji={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Kl(s,u,p,_){var T=u+f(p)+(_?"_"+f(_):"");if(s[qt]&&s[qt][T])return this;var I=function(X){return p.call(_||s,X||window.event)},W=I;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?I=Yh(s,u,I):Pe.touch&&u==="dblclick"?I=_u(s,I):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(ji[u]||u,I,Pe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(I=function(X){X=X||window.event,mo(s,X)&&W(X)},s.addEventListener(ji[u],I,!1)):s.addEventListener(u,W,!1):s.attachEvent("on"+u,I),s[qt]=s[qt]||{},s[qt][T]=I}function da(s,u,p,_,T){T=T||u+f(p)+(_?"_"+f(_):"");var I=s[qt]&&s[qt][T];if(!I)return this;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?vu(s,u,I):Pe.touch&&u==="dblclick"?sa(s,I):"removeEventListener"in s?s.removeEventListener(ji[u]||u,I,!1):s.detachEvent("on"+u,I),s[qt][T]=null}function pr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ha(s){return Kl(s,"wheel",pr),this}function fo(s){return Ve(s,"mousedown touchstart dblclick contextmenu",pr),s._leaflet_disable_click=!0,this}function Ct(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function qn(s){return Ct(s),pr(s),this}function Li(s){if(s.composedPath)return s.composedPath();for(var u=[],p=s.target;p;)u.push(p),p=p.parentNode;return u}function po(s,u){if(!u)return new D(s.clientX,s.clientY);var p=fr(u),_=p.boundingClientRect;return new D((s.clientX-_.left)/p.x-u.clientLeft,(s.clientY-_.top)/p.y-u.clientTop)}var Qh=Pe.linux&&Pe.chrome?window.devicePixelRatio:Pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function bu(s){return Pe.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Qh:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function mo(s,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==s;)p=p.parentNode}catch{return!1}return p!==s}var fa={__proto__:null,on:Ve,off:ht,stopPropagation:pr,disableScrollPropagation:ha,disableClickPropagation:fo,preventDefault:Ct,stop:qn,getPropagationPath:Li,getMousePosition:po,getWheelDelta:bu,isExternalTarget:mo,addListener:Ve,removeListener:ht},pa=le.extend({run:function(s,u,p,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Lr(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ae(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var p=this._startPos.add(this._offset.multiplyBy(s));u&&p._round(),Ot(this._el,p),this.fire("step")},_complete:function(){ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),nt=le.extend({options:{crs:it,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=k(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(U(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ds&&Pe.any3d&&!Pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ve(this._proxy,ao,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(U(s),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=a({animate:p.animate},p.zoom),p.pan=a({animate:p.animate,duration:p.duration},p.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,p.zoom):this._tryAnimatedPan(s,p.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,p){var _=this.getZoomScale(u),T=this.getSize().divideBy(2),I=s instanceof D?s:this.latLngToContainerPoint(s),W=I.subtract(T).multiplyBy(1-1/_),X=this.containerPointToLatLng(T.add(W));return this.setView(X,u,{zoom:p})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():he(s);var p=q(u.paddingTopLeft||u.padding||[0,0]),_=q(u.paddingBottomRight||u.padding||[0,0]),T=this.getBoundsZoom(s,!1,p.add(_));if(T=typeof u.maxZoom=="number"?Math.min(u.maxZoom,T):T,T===1/0)return{center:s.getCenter(),zoom:T};var I=_.subtract(p).divideBy(2),W=this.project(s.getSouthWest(),T),X=this.project(s.getNorthEast(),T),se=this.unproject(W.add(X).divideBy(2).add(I),T);return{center:se,zoom:T}},fitBounds:function(s,u){if(s=he(s),!s.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(s,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=q(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new pa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ke(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,p){if(p=p||{},p.animate===!1||!Pe.any3d)return this.setView(s,u,p);this._stop();var _=this.project(this.getCenter()),T=this.project(s),I=this.getSize(),W=this._zoom;s=U(s),u=u===void 0?W:u;var X=Math.max(I.x,I.y),se=X*this.getZoomScale(W,u),de=T.distanceTo(_)||1,ke=1.42,De=ke*ke;function Ye(ct){var As=ct?-1:1,pf=ct?se:X,mf=se*se-X*X+As*De*De*de*de,Fi=2*pf*De*de,Ui=mf/Fi,$i=Math.sqrt(Ui*Ui+1)-Ui,Ca=$i<1e-9?-18:Math.log($i);return Ca}function Yt(ct){return(Math.exp(ct)-Math.exp(-ct))/2}function Vt(ct){return(Math.exp(ct)+Math.exp(-ct))/2}function Nn(ct){return Yt(ct)/Vt(ct)}var wn=Ye(0);function Rs(ct){return X*(Vt(wn)/Vt(wn+ke*ct))}function fc(ct){return X*(Vt(wn)*Nn(wn+ke*ct)-Yt(wn))/De}function gi(ct){return 1-Math.pow(1-ct,1.5)}var Vu=Date.now(),Bi=(Ye(1)-wn)/ke,yr=p.duration?1e3*p.duration:1e3*Bi*.8;function Ns(){var ct=(Date.now()-Vu)/yr,As=gi(ct)*Bi;ct<=1?(this._flyToFrame=ae(Ns,this),this._move(this.unproject(_.add(T.subtract(_).multiplyBy(fc(As)/de)),W),this.getScaleZoom(X/Rs(As),W),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Ns.call(this),this},flyToBounds:function(s,u){var p=this._getBoundsCenterZoom(s,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(s){return s=he(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var p=this.getCenter(),_=this._limitCenter(p,this._zoom,he(s));return p.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var p=q(u.paddingTopLeft||u.padding||[0,0]),_=q(u.paddingBottomRight||u.padding||[0,0]),T=this.project(this.getCenter()),I=this.project(s),W=this.getPixelBounds(),X=Y([W.min.add(p),W.max.subtract(_)]),se=X.getSize();if(!X.contains(I)){this._enforcingBounds=!0;var de=I.subtract(X.getCenter()),ke=X.extend(I).getSize().subtract(se);T.x+=de.x<0?-ke.x:ke.x,T.y+=de.y<0?-ke.y:ke.y,this.panTo(this.unproject(T),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=a({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),_=u.divideBy(2).round(),T=p.divideBy(2).round(),I=_.subtract(T);return!I.x&&!I.y?this:(s.animate&&s.pan?this.panBy(I):(s.pan&&this._rawPanBy(I),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=a({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=c(this._handleGeolocationResponse,this),p=c(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,s):navigator.geolocation.getCurrentPosition(u,p,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,p=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,p=s.coords.longitude,_=new ve(u,p),T=_.toBounds(s.coords.accuracy*2),I=this._locateOptions;if(I.setView){var W=this.getBoundsZoom(T);this.setView(_,I.maxZoom?Math.min(W,I.maxZoom):W)}var X={latlng:_,bounds:T,timestamp:s.timestamp};for(var se in s.coords)typeof s.coords[se]=="number"&&(X[se]=s.coords[se]);this.fire("locationfound",X)}},addHandler:function(s,u){if(!u)return this;var p=this[s]=new u(this);return this._handlers.push(p),this.options[s]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)yt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var p="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Ze("div",p,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),p=this.unproject(s.getTopRight());return new ue(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,p){s=he(s),p=q(p||[0,0]);var _=this.getZoom()||0,T=this.getMinZoom(),I=this.getMaxZoom(),W=s.getNorthWest(),X=s.getSouthEast(),se=this.getSize().subtract(p),de=Y(this.project(X,_),this.project(W,_)).getSize(),ke=Pe.any3d?this.options.zoomSnap:1,De=se.x/de.x,Ye=se.y/de.y,Yt=u?Math.max(De,Ye):Math.min(De,Ye);return _=this.getScaleZoom(Yt,_),ke&&(_=Math.round(_/(ke/100))*(ke/100),_=u?Math.ceil(_/ke)*ke:Math.floor(_/ke)*ke),Math.max(T,Math.min(I,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var p=this._getTopLeftPoint(s,u);return new B(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(s)/p.scale(u)},getScaleZoom:function(s,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var _=p.zoom(s*p.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(U(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(q(s),u)},layerPointToLatLng:function(s){var u=q(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(U(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(U(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(he(s))},distance:function(s,u){return this.options.crs.distance(U(s),U(u))},containerPointToLayerPoint:function(s){return q(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return q(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(q(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(s)))},mouseEventToContainerPoint:function(s){return po(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Kn(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ve(u,"scroll",this._onScroll,this),this._containerId=f(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe.any3d,Ke(s,"leaflet-container"+(Pe.touch?" leaflet-touch":"")+(Pe.retina?" leaflet-retina":"")+(Pe.ielt9?" leaflet-oldie":"")+(Pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=lo(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ot(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ke(s.markerPane,"leaflet-zoom-hide"),Ke(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,p){Ot(this._mapPane,new D(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var T=this._zoom!==u;this._moveStart(T,p)._move(s,u)._moveEnd(T),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,p,_){u===void 0&&(u=this._zoom);var T=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?p&&p.pinch&&this.fire("zoom",p):((T||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ot(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[f(this._container)]=this;var u=s?ht:Ve;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Pe.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ce(this._resizeRequest),this._resizeRequest=ae(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var p=[],_,T=u==="mouseout"||u==="mouseover",I=s.target||s.srcElement,W=!1;I;){if(_=this._targets[f(I)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){W=!0;break}if(_&&_.listens(u,!0)&&(T&&!mo(I,s)||(p.push(_),T))||I===this._container)break;I=I.parentNode}return!p.length&&!W&&!T&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var p=s.type;p==="mousedown"&&gs(u),this._fireDOMEvent(s,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,p){if(s.type==="click"){var _=a({},s);_.type="preclick",this._fireDOMEvent(_,_.type,p)}var T=this._findEventTargets(s,u);if(p){for(var I=[],W=0;W<p.length;W++)p[W].listens(u,!0)&&I.push(p[W]);T=I.concat(T)}if(T.length){u==="contextmenu"&&Ct(s);var X=T[0],se={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var de=X.getLatLng&&(!X._radius||X._radius<=10);se.containerPoint=de?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(s),se.layerPoint=this.containerPointToLayerPoint(se.containerPoint),se.latlng=de?X.getLatLng():this.layerPointToLatLng(se.layerPoint)}for(W=0;W<T.length;W++)if(T[W].fire(u,se,!0),se.originalEvent._stopped||T[W].options.bubblingMouseEvents===!1&&$(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return Lr(this._mapPane)||new D(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var p=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var p=this.getSize()._divideBy(2);return this.project(s,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,p){var _=this._getNewPixelOrigin(p,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,p){var _=this._getNewPixelOrigin(p,u);return Y([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,p){if(!p)return s;var _=this.project(s,u),T=this.getSize().divideBy(2),I=new B(_.subtract(T),_.add(T)),W=this._getBoundsOffset(I,p,u);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?s:this.unproject(_.add(W),u)},_limitOffset:function(s,u){if(!u)return s;var p=this.getPixelBounds(),_=new B(p.min.add(s),p.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,p){var _=Y(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),T=_.min.subtract(s.min),I=_.max.subtract(s.max),W=this._rebound(T.x,-I.x),X=this._rebound(T.y,-I.y);return new D(W,X)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),p=this.getMaxZoom(),_=Pe.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(p,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var p=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var s=this._proxy=Ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var p=Vl,_=this._proxy.style[p];Gn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Gn(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),T=this._getCenterOffset(s)._divideBy(1-1/_);return p.animate!==!0&&!this.getSize().contains(T)?!1:(ae(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,p,_){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Ke(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ci(s,u){return new nt(s,u)}var Cn=ge.extend({options:{position:"topright"},initialize:function(s){k(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),p=this.getPosition(),_=s._controlCorners[p];return Ke(u,"leaflet-control"),p.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),ui=function(s){return new Cn(s)};nt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",p=this._controlContainer=Ze("div",u+"control-container",this._container);function _(T,I){var W=u+T+" "+u+I;s[T+I]=Ze("div",W,p)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)yt(this._controlCorners[s]);yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gl=Cn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,p,_){return p<_?-1:_<p?1:0}},initialize:function(s,u,p){k(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Cn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(f(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ke(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ke(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Ze("div",s),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),fo(u),ha(u);var _=this._section=Ze("section",s+"-list");p&&(this._map.on("click",this.collapse,this),Ve(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=Ze("a",s+"-toggle",u);T.href="#",T.title="Layers",T.setAttribute("role","button"),Ve(T,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){Ct(I),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Ze("div",s+"-base",_),this._separator=Ze("div",s+"-separator",_),this._overlaysList=Ze("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&f(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,p){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(c(function(_,T){return this.options.sortFunction(_.layer,T.layer,_.name,T.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;oa(this._baseLayersList),oa(this._overlaysList),this._layerControlInputs=[];var s,u,p,_,T=0;for(p=0;p<this._layers.length;p++)_=this._layers[p],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,T+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&T>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(f(s.target)),p=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(s,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=p,_.firstChild},_addItem:function(s){var u=document.createElement("label"),p=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=p):_=this._createRadioElement("leaflet-base-layers_"+f(this),p),this._layerControlInputs.push(_),_.layerId=f(s.layer),Ve(_,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+s.name;var I=document.createElement("span");u.appendChild(I),I.appendChild(_),I.appendChild(T);var W=s.overlay?this._overlaysList:this._baseLayersList;return W.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,p,_=[],T=[];this._handlingClick=!0;for(var I=s.length-1;I>=0;I--)u=s[I],p=this._getLayer(u.layerId).layer,u.checked?_.push(p):u.checked||T.push(p);for(I=0;I<T.length;I++)this._map.hasLayer(T[I])&&this._map.removeLayer(T[I]);for(I=0;I<_.length;I++)this._map.hasLayer(_[I])||this._map.addLayer(_[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,p,_=this._map.getZoom(),T=s.length-1;T>=0;T--)u=s[T],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&_<p.options.minZoom||p.options.maxZoom!==void 0&&_>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Ve(s,"click",Ct),this.expand();var u=this;setTimeout(function(){ht(s,"click",Ct),u._preventClick=!1})}}),ma=function(s,u,p){return new Gl(s,u,p)},vs=Cn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",p=Ze("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,p,_,T){var I=Ze("a",p,_);return I.innerHTML=s,I.href="#",I.title=u,I.setAttribute("role","button"),I.setAttribute("aria-label",u),fo(I),Ve(I,"click",qn),Ve(I,"click",T,this),Ve(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";pt(this._zoomInButton,u),pt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Ke(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Ke(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});nt.mergeOptions({zoomControl:!0}),nt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new vs,this.addControl(this.zoomControl))});var Su=function(s){return new vs(s)},yn=Cn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",p=Ze("div",u),_=this.options;return this._addScales(_,u+"-line",p),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),p},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,p){s.metric&&(this._mScale=Ze("div",u,p)),s.imperial&&(this._iScale=Ze("div",u,p))},_update:function(){var s=this._map,u=s.getSize().y/2,p=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/s)},_updateImperial:function(s){var u=s*3.2808399,p,_,T;u>5280?(p=u/5280,_=this._getRoundNum(p),this._updateScale(this._iScale,_+" mi",_/p)):(T=this._getRoundNum(u),this._updateScale(this._iScale,T+" ft",T/u))},_updateScale:function(s,u,p){s.style.width=Math.round(this.options.maxWidth*p)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),p=s/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),ys=function(s){return new yn(s)},Zl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Oi=Cn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pe.inlineSvg?Zl+" ":"")+"Leaflet</a>"},initialize:function(s){k(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Ze("div","leaflet-control-attribution"),fo(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),s.length&&p.push(s.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});nt.mergeOptions({attributionControl:!0}),nt.addInitHook(function(){this.options.attributionControl&&new Oi().addTo(this)});var ef=function(s){return new Oi(s)};Cn.Layers=Gl,Cn.Zoom=vs,Cn.Scale=yn,Cn.Attribution=Oi,ui.layers=ma,ui.zoom=Su,ui.scale=ys,ui.attribution=ef;var Mn=ge.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mn.addTo=function(s,u){return s.addHandler(u,this),this};var ql={Events:Z},ws=Pe.touch?"touchstart mousedown":"mousedown",Yn=le.extend({options:{clickTolerance:3},initialize:function(s,u,p,_){k(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=p},enable:function(){this._enabled||(Ve(this._dragStartTarget,ws,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yn._dragging===this&&this.finishDrag(!0),ht(this._dragStartTarget,ws,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!fs(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Yn._dragging===this&&this.finishDrag();return}if(!(Yn._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Yn._dragging=this,this._preventOutline&&gs(this._element),ca(),rt(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,p=Or(this._element);this._startPoint=new D(u.clientX,u.clientY),this._startPos=Lr(this._element),this._parentScale=fr(p);var _=s.type==="mousedown";Ve(document,_?"mousemove":"touchmove",this._onMove,this),Ve(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,p=new D(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Ct(s),this._moved||(this.fire("dragstart"),this._moved=!0,Ke(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ke(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ot(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){pt(document.body,"leaflet-dragging"),this._lastTarget&&(pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ht(document,"mousemove touchmove",this._onMove,this),ht(document,"mouseup touchend touchcancel",this._onUp,this),ua(),ms();var u=this._moved&&this._moving;this._moving=!1,Yn._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Yl(s,u,p){var _,T=[1,4,2,8],I,W,X,se,de,ke,De,Ye;for(I=0,ke=s.length;I<ke;I++)s[I]._code=Ii(s[I],u);for(X=0;X<4;X++){for(De=T[X],_=[],I=0,ke=s.length,W=ke-1;I<ke;W=I++)se=s[I],de=s[W],se._code&De?de._code&De||(Ye=va(de,se,De,u,p),Ye._code=Ii(Ye,u),_.push(Ye)):(de._code&De&&(Ye=va(de,se,De,u,p),Ye._code=Ii(Ye,u),_.push(Ye)),_.push(se));s=_}return s}function ku(s,u){var p,_,T,I,W,X,se,de,ke;if(!s||s.length===0)throw new Error("latlngs not passed");Dn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var De=U([0,0]),Ye=he(s),Yt=Ye.getNorthWest().distanceTo(Ye.getSouthWest())*Ye.getNorthEast().distanceTo(Ye.getNorthWest());Yt<1700&&(De=Jl(s));var Vt=s.length,Nn=[];for(p=0;p<Vt;p++){var wn=U(s[p]);Nn.push(u.project(U([wn.lat-De.lat,wn.lng-De.lng])))}for(X=se=de=0,p=0,_=Vt-1;p<Vt;_=p++)T=Nn[p],I=Nn[_],W=T.y*I.x-I.y*T.x,se+=(T.x+I.x)*W,de+=(T.y+I.y)*W,X+=W*3;X===0?ke=Nn[0]:ke=[se/X,de/X];var Rs=u.unproject(q(ke));return U([Rs.lat+De.lat,Rs.lng+De.lng])}function Jl(s){for(var u=0,p=0,_=0,T=0;T<s.length;T++){var I=U(s[T]);u+=I.lat,p+=I.lng,_++}return U([u/_,p/_])}var tf={__proto__:null,clipPolygon:Yl,polygonCenter:ku,centroid:Jl};function ga(s,u){if(!u||!s.length)return s.slice();var p=u*u;return s=sf(s,p),s=rf(s,p),s}function Eu(s,u,p){return Math.sqrt(Mi(s,u,p,!0))}function nf(s,u,p){return Mi(s,u,p)}function rf(s,u){var p=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,T=new _(p);T[0]=T[p-1]=1,Xl(s,T,u,0,p-1);var I,W=[];for(I=0;I<p;I++)T[I]&&W.push(s[I]);return W}function Xl(s,u,p,_,T){var I=0,W,X,se;for(X=_+1;X<=T-1;X++)se=Mi(s[X],s[_],s[T],!0),se>I&&(W=X,I=se);I>p&&(u[W]=1,Xl(s,u,p,_,W),Xl(s,u,p,W,T))}function sf(s,u){for(var p=[s[0]],_=1,T=0,I=s.length;_<I;_++)of(s[_],s[T])>u&&(p.push(s[_]),T=_);return T<I-1&&p.push(s[I-1]),p}var Ql;function Pu(s,u,p,_,T){var I=_?Ql:Ii(s,p),W=Ii(u,p),X,se,de;for(Ql=W;;){if(!(I|W))return[s,u];if(I&W)return!1;X=I||W,se=va(s,u,X,p,T),de=Ii(se,p),X===I?(s=se,I=de):(u=se,W=de)}}function va(s,u,p,_,T){var I=u.x-s.x,W=u.y-s.y,X=_.min,se=_.max,de,ke;return p&8?(de=s.x+I*(se.y-s.y)/W,ke=se.y):p&4?(de=s.x+I*(X.y-s.y)/W,ke=X.y):p&2?(de=se.x,ke=s.y+W*(se.x-s.x)/I):p&1&&(de=X.x,ke=s.y+W*(X.x-s.x)/I),new D(de,ke,T)}function Ii(s,u){var p=0;return s.x<u.min.x?p|=1:s.x>u.max.x&&(p|=2),s.y<u.min.y?p|=4:s.y>u.max.y&&(p|=8),p}function of(s,u){var p=u.x-s.x,_=u.y-s.y;return p*p+_*_}function Mi(s,u,p,_){var T=u.x,I=u.y,W=p.x-T,X=p.y-I,se=W*W+X*X,de;return se>0&&(de=((s.x-T)*W+(s.y-I)*X)/se,de>1?(T=p.x,I=p.y):de>0&&(T+=W*de,I+=X*de)),W=s.x-T,X=s.y-I,_?W*W+X*X:new D(T,I)}function Dn(s){return!A(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Tu(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dn(s)}function Cu(s,u){var p,_,T,I,W,X,se,de;if(!s||s.length===0)throw new Error("latlngs not passed");Dn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ke=U([0,0]),De=he(s),Ye=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());Ye<1700&&(ke=Jl(s));var Yt=s.length,Vt=[];for(p=0;p<Yt;p++){var Nn=U(s[p]);Vt.push(u.project(U([Nn.lat-ke.lat,Nn.lng-ke.lng])))}for(p=0,_=0;p<Yt-1;p++)_+=Vt[p].distanceTo(Vt[p+1])/2;if(_===0)de=Vt[0];else for(p=0,I=0;p<Yt-1;p++)if(W=Vt[p],X=Vt[p+1],T=W.distanceTo(X),I+=T,I>_){se=(I-_)/T,de=[X.x-se*(X.x-W.x),X.y-se*(X.y-W.y)];break}var wn=u.unproject(q(de));return U([wn.lat+ke.lat,wn.lng+ke.lng])}var Ru={__proto__:null,simplify:ga,pointToSegmentDistance:Eu,closestPointOnSegment:nf,clipSegment:Pu,_getEdgeIntersection:va,_getBitCode:Ii,_sqClosestPointOnSegment:Mi,isFlat:Dn,_flat:Tu,polylineCenter:Cu},ec={project:function(s){return new D(s.lng,s.lat)},unproject:function(s){return new ve(s.y,s.x)},bounds:new B([-180,-90],[180,90])},tc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,p=this.R,_=s.lat*u,T=this.R_MINOR/p,I=Math.sqrt(1-T*T),W=I*Math.sin(_),X=Math.tan(Math.PI/4-_/2)/Math.pow((1-W)/(1+W),I/2);return _=-p*Math.log(Math.max(X,1e-10)),new D(s.lng*u*p,_)},unproject:function(s){for(var u=180/Math.PI,p=this.R,_=this.R_MINOR/p,T=Math.sqrt(1-_*_),I=Math.exp(-s.y/p),W=Math.PI/2-2*Math.atan(I),X=0,se=.1,de;X<15&&Math.abs(se)>1e-7;X++)de=T*Math.sin(W),de=Math.pow((1-de)/(1+de),T/2),se=Math.PI/2-2*Math.atan(I*de)-W,W+=se;return new ve(W*u,s.x*u/p)}},af={__proto__:null,LonLat:ec,Mercator:tc,SphericalMercator:Se},lf=a({},fe,{code:"EPSG:3395",projection:tc,transformation:(function(){var s=.5/(Math.PI*tc.R);return Te(s,.5,-s,.5)})()}),Nu=a({},fe,{code:"EPSG:4326",projection:ec,transformation:Te(1/180,1,-1/180,.5)}),cf=a({},ie,{projection:ec,transformation:Te(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var p=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(p*p+_*_)},infinite:!0});ie.Earth=fe,ie.EPSG3395=lf,ie.EPSG3857=it,ie.EPSG900913=at,ie.EPSG4326=Nu,ie.Simple=cf;var Jn=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[f(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[f(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});nt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=f(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=f(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return f(s)in this._layers},eachLayer:function(s,u){for(var p in this._layers)s.call(u,this._layers[p]);return this},_addLayers:function(s){s=s?A(s)?s:[s]:[];for(var u=0,p=s.length;u<p;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[f(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=f(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,p=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var T=this._zoomBoundLayers[_].options;s=T.minZoom===void 0?s:Math.min(s,T.minZoom),u=T.maxZoom===void 0?u:Math.max(u,T.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var di=Jn.extend({initialize:function(s,u){k(this,u),this._layers={};var p,_;if(s)for(p=0,_=s.length;p<_;p++)this.addLayer(s[p])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),p,_;for(p in this._layers)_=this._layers[p],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var p in this._layers)s.call(u,this._layers[p]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return f(s)}}),go=function(s,u){return new di(s,u)},Ir=di.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),di.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),di.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ue;for(var u in this._layers){var p=this._layers[u];s.extend(p.getBounds?p.getBounds():p.getLatLng())}return s}}),Au=function(s,u){return new Ir(s,u)},Di=ge.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){k(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var p=this._getIconUrl(s);if(!p){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var p=this.options,_=p[u+"Size"];typeof _=="number"&&(_=[_,_]);var T=q(_),I=q(u==="shadow"&&p.shadowAnchor||p.iconAnchor||T&&T.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(p.className||""),I&&(s.style.marginLeft=-I.x+"px",s.style.marginTop=-I.y+"px"),T&&(s.style.width=T.x+"px",s.style.height=T.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Pe.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function ju(s){return new Di(s)}var _s=Di.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof _s.imagePath!="string"&&(_s.imagePath=this._detectIconPath()),(this.options.imagePath||_s.imagePath)+Di.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(p,_,T){var I=_.exec(p);return I&&I[T]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Ze("div","leaflet-default-icon-path",document.body),u=lo(s,"background-image")||lo(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),nc=Mn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Yn(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ke(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,p=u._map,_=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,I=Lr(u._icon),W=p.getPixelBounds(),X=p.getPixelOrigin(),se=Y(W.min._subtract(X).add(T),W.max._subtract(X).subtract(T));if(!se.contains(I)){var de=q((Math.max(se.max.x,I.x)-se.max.x)/(W.max.x-se.max.x)-(Math.min(se.min.x,I.x)-se.min.x)/(W.min.x-se.min.x),(Math.max(se.max.y,I.y)-se.max.y)/(W.max.y-se.max.y)-(Math.min(se.min.y,I.y)-se.min.y)/(W.min.y-se.min.y)).multiplyBy(_);p.panBy(de,{animate:!1}),this._draggable._newPos._add(de),this._draggable._startPos._add(de),Ot(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ae(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(ce(this._panRequest),this._panRequest=ae(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,p=u._shadow,_=Lr(u._icon),T=u._map.layerPointToLatLng(_);p&&Ot(p,_),u._latlng=T,s.latlng=T,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Mr=Jn.extend({options:{icon:new _s,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){k(this,u),this._latlng=U(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=U(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=s.icon.createIcon(this._icon),_=!1;p!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(p.title=s.title),p.tagName==="IMG"&&(p.alt=s.alt||"")),Ke(p,u),s.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ve(p,"focus",this._panOnFocus,this);var T=s.icon.createShadow(this._shadow),I=!1;T!==this._shadow&&(this._removeShadow(),I=!0),T&&(Ke(T,u),T.alt=""),this._shadow=T,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&I&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(this._icon,"focus",this._panOnFocus,this),yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&yt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ot(this._icon,s),this._shadow&&Ot(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ke(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nc)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nc(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&vn(this._icon,s),this._shadow&&vn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,p=u.iconSize?q(u.iconSize):q(0,0),_=u.iconAnchor?q(u.iconAnchor):q(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:p.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function uf(s,u){return new Mr(s,u)}var hi=Jn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return k(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ya=hi.extend({options:{fill:!0,radius:10},initialize:function(s,u){k(this,u),this._latlng=U(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=U(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return hi.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,p=this._clickTolerance(),_=[s+p,u+p];this._pxBounds=new B(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Lu(s,u){return new ya(s,u)}var wa=ya.extend({initialize:function(s,u,p){if(typeof u=="number"&&(u=a({},p,{radius:u})),k(this,u),this._latlng=U(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ue(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:hi.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,p=this._map,_=p.options.crs;if(_.distance===fe.distance){var T=Math.PI/180,I=this._mRadius/fe.R/T,W=p.project([u+I,s]),X=p.project([u-I,s]),se=W.add(X).divideBy(2),de=p.unproject(se).lat,ke=Math.acos((Math.cos(I*T)-Math.sin(u*T)*Math.sin(de*T))/(Math.cos(u*T)*Math.cos(de*T)))/T;(isNaN(ke)||ke===0)&&(ke=I/Math.cos(Math.PI/180*u)),this._point=se.subtract(p.getPixelOrigin()),this._radius=isNaN(ke)?0:se.x-p.project([de,s-ke]).x,this._radiusY=se.y-W.y}else{var De=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(De).x}this._updateBounds()}});function vo(s,u,p){return new wa(s,u,p)}var Rn=hi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){k(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,p=null,_=Mi,T,I,W=0,X=this._parts.length;W<X;W++)for(var se=this._parts[W],de=1,ke=se.length;de<ke;de++){T=se[de-1],I=se[de];var De=_(s,T,I,!0);De<u&&(u=De,p=_(s,T,I))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=U(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ue,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],p=Dn(s),_=0,T=s.length;_<T;_++)p?(u[_]=U(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new D(s,s);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,p){var _=s[0]instanceof ve,T=s.length,I,W;if(_){for(W=[],I=0;I<T;I++)W[I]=this._map.latLngToLayerPoint(s[I]),p.extend(W[I]);u.push(W)}else for(I=0;I<T;I++)this._projectLatlngs(s[I],u,p)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,_,T,I,W,X,se;for(p=0,T=0,I=this._rings.length;p<I;p++)for(se=this._rings[p],_=0,W=se.length;_<W-1;_++)X=Pu(se[_],se[_+1],s,_,!0),X&&(u[T]=u[T]||[],u[T].push(X[0]),(X[1]!==se[_+1]||_===W-2)&&(u[T].push(X[1]),T++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,p=0,_=s.length;p<_;p++)s[p]=ga(s[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var p,_,T,I,W,X,se=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(p=0,I=this._parts.length;p<I;p++)for(X=this._parts[p],_=0,W=X.length,T=W-1;_<W;T=_++)if(!(!u&&_===0)&&Eu(s,X[T],X[_])<=se)return!0;return!1}});function df(s,u){return new Rn(s,u)}Rn._flat=Tu;var Dr=Rn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ku(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=Rn.prototype._convertLatLngs.call(this,s),p=u.length;return p>=2&&u[0]instanceof ve&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(s){Rn.prototype._setLatLngs.call(this,s),Dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,p=new D(u,u);if(s=new B(s.min.subtract(p),s.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,T=this._rings.length,I;_<T;_++)I=Yl(this._rings[_],s,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,p,_,T,I,W,X,se,de;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(I=0,se=this._parts.length;I<se;I++)for(p=this._parts[I],W=0,de=p.length,X=de-1;W<de;X=W++)_=p[W],T=p[X],_.y>s.y!=T.y>s.y&&s.x<(T.x-_.x)*(s.y-_.y)/(T.y-_.y)+_.x&&(u=!u);return u||Rn.prototype._containsPoint.call(this,s,!0)}});function hf(s,u){return new Dr(s,u)}var mr=Ir.extend({initialize:function(s,u){k(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=A(s)?s:s.features,p,_,T;if(u){for(p=0,_=u.length;p<_;p++)T=u[p],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var I=this.options;if(I.filter&&!I.filter(s))return this;var W=xs(s,I);return W?(W.feature=ka(s),W.defaultOptions=W.options,this.resetStyle(W),I.onEachFeature&&I.onEachFeature(s,W),this.addLayer(W)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=a({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function xs(s,u){var p=s.type==="Feature"?s.geometry:s,_=p?p.coordinates:null,T=[],I=u&&u.pointToLayer,W=u&&u.coordsToLatLng||xa,X,se,de,ke;if(!_&&!p)return null;switch(p.type){case"Point":return X=W(_),_a(I,s,X,u);case"MultiPoint":for(de=0,ke=_.length;de<ke;de++)X=W(_[de]),T.push(_a(I,s,X,u));return new Ir(T);case"LineString":case"MultiLineString":return se=yo(_,p.type==="LineString"?0:1,W),new Rn(se,u);case"Polygon":case"MultiPolygon":return se=yo(_,p.type==="Polygon"?1:2,W),new Dr(se,u);case"GeometryCollection":for(de=0,ke=p.geometries.length;de<ke;de++){var De=xs({geometry:p.geometries[de],type:"Feature",properties:s.properties},u);De&&T.push(De)}return new Ir(T);case"FeatureCollection":for(de=0,ke=p.features.length;de<ke;de++){var Ye=xs(p.features[de],u);Ye&&T.push(Ye)}return new Ir(T);default:throw new Error("Invalid GeoJSON object.")}}function _a(s,u,p,_){return s?s(u,p):new Mr(p,_&&_.markersInheritOptions&&_)}function xa(s){return new ve(s[1],s[0],s[2])}function yo(s,u,p){for(var _=[],T=0,I=s.length,W;T<I;T++)W=u?yo(s[T],u-1,p):(p||xa)(s[T]),_.push(W);return _}function ba(s,u){return s=U(s),s.alt!==void 0?[b(s.lng,u),b(s.lat,u),b(s.alt,u)]:[b(s.lng,u),b(s.lat,u)]}function Sa(s,u,p,_){for(var T=[],I=0,W=s.length;I<W;I++)T.push(u?Sa(s[I],Dn(s[I])?0:u-1,p,_):ba(s[I],_));return!u&&p&&T.length>0&&T.push(T[0].slice()),T}function bs(s,u){return s.feature?a({},s.feature,{geometry:u}):ka(u)}function ka(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var rc={toGeoJSON:function(s){return bs(this,{type:"Point",coordinates:ba(this.getLatLng(),s)})}};Mr.include(rc),wa.include(rc),ya.include(rc),Rn.include({toGeoJSON:function(s){var u=!Dn(this._latlngs),p=Sa(this._latlngs,u?1:0,!1,s);return bs(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),Dr.include({toGeoJSON:function(s){var u=!Dn(this._latlngs),p=u&&!Dn(this._latlngs[0]),_=Sa(this._latlngs,p?2:u?1:0,!0,s);return u||(_=[_]),bs(this,{type:(p?"Multi":"")+"Polygon",coordinates:_})}}),di.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(s).geometry.coordinates)}),bs(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var p=u==="GeometryCollection",_=[];return this.eachLayer(function(T){if(T.toGeoJSON){var I=T.toGeoJSON(s);if(p)_.push(I.geometry);else{var W=ka(I);W.type==="FeatureCollection"?_.push.apply(_,W.features):_.push(W)}}}),p?bs(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Ou(s,u){return new mr(s,u)}var Xn=Ou,fi=Jn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,p){this._url=s,this._bounds=he(u),k(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ke(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&hs(this._image),this},bringToBack:function(){return this._map&&jr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=he(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Ze("img");if(Ke(u,"leaflet-image-layer"),this._zoomAnimated&&Ke(u,"leaflet-zoom-animated"),this.options.className&&Ke(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=c(this.fire,this,"load"),u.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Gn(this._image,p,u)},_reset:function(){var s=this._image,u=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();Ot(s,u.min),s.style.width=p.x+"px",s.style.height=p.y+"px"},_updateOpacity:function(){vn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Iu=function(s,u,p){return new fi(s,u,p)},ic=fi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Ze("video");if(Ke(u,"leaflet-image-layer"),this._zoomAnimated&&Ke(u,"leaflet-zoom-animated"),this.options.className&&Ke(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=c(this.fire,this,"load"),s){for(var p=u.getElementsByTagName("source"),_=[],T=0;T<p.length;T++)_.push(p[T].src);this._url=p.length>0?_:[u.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var W=Ze("source");W.src=this._url[I],u.appendChild(W)}}});function Mu(s,u,p){return new ic(s,u,p)}var sc=fi.extend({_initImage:function(){var s=this._image=this._url;Ke(s,"leaflet-image-layer"),this._zoomAnimated&&Ke(s,"leaflet-zoom-animated"),this.options.className&&Ke(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function oc(s,u,p){return new sc(s,u,p)}var gr=Jn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof ve||A(s))?(this._latlng=U(s),k(this,u)):(k(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&vn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&vn(this._container,1),this.bringToFront(),this.options.interactive&&(Ke(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(vn(this._container,0),this._removeTimeout=setTimeout(c(yt,void 0,this._container),200)):yt(this._container),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=U(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hs(this._container),this},bringToBack:function(){return this._map&&jr(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Ir){u=null;var p=this._source._layers;for(var _ in p)if(p[_]._map){u=p[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=q(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ot(this._container,s.add(p)):u=u.add(s).add(p);var _=this._containerBottom=-u.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});nt.include({_initOverlay:function(s,u,p,_){var T=u;return T instanceof s||(T=new s(_).setContent(u)),p&&T.setLatLng(p),T}}),Jn.include({_initOverlay:function(s,u,p,_){var T=p;return T instanceof s?(k(T,_),T._source=this):(T=u&&!_?u:new s(_,this),T.setContent(p)),T}});var Ea=gr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,gr.prototype.openOn.call(this,s)},onAdd:function(s){gr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hi||this._source.on("preclick",pr))},onRemove:function(s){gr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hi||this._source.off("preclick",pr))},getEvents:function(){var s=gr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Ze("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Ze("div",s+"-content-wrapper",u);if(this._contentNode=Ze("div",s+"-content",p),fo(u),ha(this._contentNode),Ve(u,"contextmenu",pr),this._tipContainer=Ze("div",s+"-tip-container",u),this._tip=Ze("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Ze("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Ve(_,"click",function(T){Ct(T),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var p=s.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,T=this.options.maxHeight,I="leaflet-popup-scrolled";T&&_>T?(u.height=T+"px",Ke(s,I)):pt(s,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),p=this._getAnchor();Ot(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(lo(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,_=this._containerWidth,T=new D(this._containerLeft,-p-this._containerBottom);T._add(Lr(this._container));var I=s.layerPointToContainerPoint(T),W=q(this.options.autoPanPadding),X=q(this.options.autoPanPaddingTopLeft||W),se=q(this.options.autoPanPaddingBottomRight||W),de=s.getSize(),ke=0,De=0;I.x+_+se.x>de.x&&(ke=I.x+_-de.x+se.x),I.x-ke-X.x<0&&(ke=I.x-X.x),I.y+p+se.y>de.y&&(De=I.y+p-de.y+se.y),I.y-De-X.y<0&&(De=I.y-X.y),(ke||De)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ke,De]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ss=function(s,u){return new Ea(s,u)};nt.mergeOptions({closePopupOnClick:!0}),nt.include({openPopup:function(s,u,p){return this._initOverlay(Ea,s,u,p).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Jn.include({bindPopup:function(s,u){return this._popup=this._initOverlay(Ea,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Ir||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){qn(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof hi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var ks=gr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){gr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){gr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=gr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ze("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,p,_=this._map,T=this._container,I=_.latLngToContainerPoint(_.getCenter()),W=_.layerPointToContainerPoint(s),X=this.options.direction,se=T.offsetWidth,de=T.offsetHeight,ke=q(this.options.offset),De=this._getAnchor();X==="top"?(u=se/2,p=de):X==="bottom"?(u=se/2,p=0):X==="center"?(u=se/2,p=de/2):X==="right"?(u=0,p=de/2):X==="left"?(u=se,p=de/2):W.x<I.x?(X="right",u=0,p=de/2):(X="left",u=se+(ke.x+De.x)*2,p=de/2),s=s.subtract(q(u,p,!0)).add(ke).add(De),pt(T,"leaflet-tooltip-right"),pt(T,"leaflet-tooltip-left"),pt(T,"leaflet-tooltip-top"),pt(T,"leaflet-tooltip-bottom"),Ke(T,"leaflet-tooltip-"+X),Ot(T,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&vn(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wo=function(s,u){return new ks(s,u)};nt.include({openTooltip:function(s,u,p){return this._initOverlay(ks,s,u,p).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Jn.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ks,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Ir||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Ve(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Ve(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,p,_;this._tooltip.options.sticky&&s.originalEvent&&(p=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Pa=Di.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),p=this.options;if(p.html instanceof Element?(oa(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var _=q(p.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Du(s){return new Pa(s)}Di.Default=_s;var pi=Jn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){k(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),yt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(jr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof D?s:new D(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,p=-s(-1/0,1/0),_=0,T=u.length,I;_<T;_++)I=u[_].style.zIndex,u[_]!==this._container&&I&&(p=s(p,+I));isFinite(p)&&(this.options.zIndex=p+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pe.ielt9){vn(this._container,this.options.opacity);var s=+new Date,u=!1,p=!1;for(var _ in this._tiles){var T=this._tiles[_];if(!(!T.current||!T.loaded)){var I=Math.min(1,(s-T.loaded)/200);vn(T.el,I),I<1?u=!0:(T.active?p=!0:this._onOpaqueTile(T),T.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(ce(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===s?(this._levels[p].el.style.zIndex=u-Math.abs(s-p),this._onUpdateLevel(p)):(yt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var _=this._levels[s],T=this._map;return _||(_=this._levels[s]={},_.el=Ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=T.project(T.unproject(T.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,T.getCenter(),T.getZoom()),w(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)yt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,p,_){var T=Math.floor(s/2),I=Math.floor(u/2),W=p-1,X=new D(+T,+I);X.z=+W;var se=this._tileCoordsToKey(X),de=this._tiles[se];return de&&de.active?(de.retain=!0,!0):(de&&de.loaded&&(de.retain=!0),W>_?this._retainParent(T,I,W,_):!1)},_retainChildren:function(s,u,p,_){for(var T=2*s;T<2*s+2;T++)for(var I=2*u;I<2*u+2;I++){var W=new D(T,I);W.z=p+1;var X=this._tileCoordsToKey(W),se=this._tiles[X];if(se&&se.active){se.retain=!0;continue}else se&&se.loaded&&(se.retain=!0);p+1<_&&this._retainChildren(T,I,p+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,p,_){var T=Math.round(u);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var I=this.options.updateWhenZooming&&T!==this._tileZoom;(!_||I)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(s),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],s,u)},_setZoomTransform:function(s,u,p){var _=this._map.getZoomScale(p,s.zoom),T=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,p)).round();Pe.any3d?Gn(s.el,T,_):Ot(s.el,T)},_resetGrid:function(){var s=this._map,u=s.options.crs,p=this._tileSize=this.getTileSize(),_=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/p.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/p.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(p,this._tileZoom),T=u.project(s,this._tileZoom).floor(),I=u.getSize().divideBy(_*2);return new B(T.subtract(I),T.add(I))},_update:function(s){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),T=this._pxBoundsToTileRange(_),I=T.getCenter(),W=[],X=this.options.keepBuffer,se=new B(T.getBottomLeft().subtract([X,-X]),T.getTopRight().add([X,-X]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var de in this._tiles){var ke=this._tiles[de].coords;(ke.z!==this._tileZoom||!se.contains(new D(ke.x,ke.y)))&&(this._tiles[de].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(s,p);return}for(var De=T.min.y;De<=T.max.y;De++)for(var Ye=T.min.x;Ye<=T.max.x;Ye++){var Yt=new D(Ye,De);if(Yt.z=this._tileZoom,!!this._isValidTile(Yt)){var Vt=this._tiles[this._tileCoordsToKey(Yt)];Vt?Vt.current=!0:W.push(Yt)}}if(W.sort(function(wn,Rs){return wn.distanceTo(I)-Rs.distanceTo(I)}),W.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Nn=document.createDocumentFragment();for(Ye=0;Ye<W.length;Ye++)this._addTile(W[Ye],Nn);this._level.el.appendChild(Nn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(s.x<p.min.x||s.x>p.max.x)||!u.wrapLat&&(s.y<p.min.y||s.y>p.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return he(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,p=this.getTileSize(),_=s.scaleBy(p),T=_.add(p),I=u.unproject(_,s.z),W=u.unproject(T,s.z);return[I,W]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),p=new ue(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),p=new D(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(s){var u=this._tiles[s];u&&(yt(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ke(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=w,s.onmousemove=w,Pe.ielt9&&this.options.opacity<1&&vn(s,this.options.opacity)},_addTile:function(s,u){var p=this._getTilePos(s),_=this._tileCoordsToKey(s),T=this.createTile(this._wrapCoords(s),c(this._tileReady,this,s));this._initTile(T),this.createTile.length<2&&ae(c(this._tileReady,this,s,null,T)),Ot(T,p),this._tiles[_]={el:T,coords:s,current:!0},u.appendChild(T),this.fire("tileloadstart",{tile:T,coords:s})},_tileReady:function(s,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:s});var _=this._tileCoordsToKey(s);p=this._tiles[_],p&&(p.loaded=+new Date,this._map._fadeAnimated?(vn(p.el,0),ce(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(Ke(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pe.ielt9||!this._map._fadeAnimated?ae(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new D(this._wrapX?y(s.x,this._wrapX):s.x,this._wrapY?y(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new B(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Es(s){return new pi(s)}var mi=pi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=k(this,u),u.detectRetina&&Pe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var p=document.createElement("img");return Ve(p,"load",c(this._tileOnLoad,this,u,p)),Ve(p,"error",c(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(s),p},getTileUrl:function(s){var u={r:Pe.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=p),u["-y"]=p}return O(this._url,a(u,this.options))},_tileOnLoad:function(s,u){Pe.ielt9?setTimeout(c(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,p){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(p,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,_=this.options.zoomOffset;return p&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=w,u.onerror=w,!u.complete)){u.src=z;var p=this._tiles[s].coords;yt(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",z),pi.prototype._removeTile.call(this,s)},_tileReady:function(s,u,p){if(!(!this._map||p&&p.getAttribute("src")===z))return pi.prototype._tileReady.call(this,s,u,p)}});function ac(s,u){return new mi(s,u)}var _o=mi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var p=a({},this.defaultWmsParams);for(var _ in u)_ in this.options||(p[_]=u[_]);u=k(this,u);var T=u.detectRetina&&Pe.retina?2:1,I=this.getTileSize();p.width=I.x*T,p.height=I.y*T,this.wmsParams=p},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,mi.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),p=this._crs,_=Y(p.project(u[0]),p.project(u[1])),T=_.min,I=_.max,W=(this._wmsVersion>=1.3&&this._crs===Nu?[T.y,T.x,I.y,I.x]:[T.x,T.y,I.x,I.y]).join(","),X=mi.prototype.getTileUrl.call(this,s);return X+R(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(s,u){return a(this.wmsParams,s),u||this.redraw(),this}});function zu(s,u){return new _o(s,u)}mi.WMS=_o,ac.wms=zu;var vr=Jn.extend({options:{padding:.1},initialize:function(s){k(this,s),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ke(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var p=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,u),I=_.multiplyBy(-p).add(T).subtract(this._map._getNewPixelOrigin(s,u));Pe.any3d?Gn(this._container,I,p):Ot(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new B(p,p.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),lc=vr.extend({options:{tolerance:0},getEvents:function(){var s=vr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Ve(s,"mousemove",this._onMouseMove,this),Ve(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ve(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){ce(this._redrawRequest),delete this._ctx,yt(this._container),ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vr.prototype._update.call(this);var s=this._bounds,u=this._container,p=s.getSize(),_=Pe.retina?2:1;Ot(u,s.min),u.width=_*p.x,u.height=_*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",Pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){vr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[f(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,p=u.next,_=u.prev;p?p.prev=_:this._drawLast=_,_?_.next=p:this._drawFirst=p,delete s._order,delete this._layers[f(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),p=[],_,T;for(T=0;T<u.length;T++){if(_=Number(u[T]),isNaN(_))return;p.push(_)}s.options._dashArray=p}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ae(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var p,_,T,I,W=s._parts,X=W.length,se=this._ctx;if(X){for(se.beginPath(),p=0;p<X;p++){for(_=0,T=W[p].length;_<T;_++)I=W[p][_],se[_?"lineTo":"moveTo"](I.x,I.y);u&&se.closePath()}this._fillStroke(se,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,p=this._ctx,_=Math.max(Math.round(s._radius),1),T=(Math.max(Math.round(s._radiusY),1)||_)/_;T!==1&&(p.save(),p.scale(1,T)),p.beginPath(),p.arc(u.x,u.y/T,_,0,Math.PI*2,!1),T!==1&&p.restore(),this._fillStroke(p,s)}},_fillStroke:function(s,u){var p=u.options;p.fill&&(s.globalAlpha=p.fillOpacity,s.fillStyle=p.fillColor||p.color,s.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=p.opacity,s.lineWidth=p.weight,s.strokeStyle=p.color,s.lineCap=p.lineCap,s.lineJoin=p.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),p,_,T=this._drawFirst;T;T=T.next)p=T.layer,p.options.interactive&&p._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(p))&&(_=p);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(pt(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var p,_,T=this._drawFirst;T;T=T.next)p=T.layer,p.options.interactive&&p._containsPoint(u)&&(_=p);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(Ke(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,p){this._map._fireDOMEvent(u,p||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var p=u.next,_=u.prev;if(p)p.prev=_;else return;_?_.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var p=u.next,_=u.prev;if(_)_.next=p;else return;p?p.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function cc(s){return Pe.canvas?new lc(s):null}var Ps=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Bu={_initContainer:function(){this._container=Ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Ps("shape");Ke(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Ps("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;yt(u),s.removeInteractiveTarget(u),delete this._layers[f(s)]},_updateStyle:function(s){var u=s._stroke,p=s._fill,_=s.options,T=s._container;T.stroked=!!_.stroke,T.filled=!!_.fill,_.stroke?(u||(u=s._stroke=Ps("stroke")),T.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=A(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(T.removeChild(u),s._stroke=null),_.fill?(p||(p=s._fill=Ps("fill")),T.appendChild(p),p.color=_.fillColor||_.color,p.opacity=_.fillOpacity):p&&(T.removeChild(p),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),p=Math.round(s._radius),_=Math.round(s._radiusY||p);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){hs(s._container)},_bringToBack:function(s){jr(s._container)}},Qn=Pe.vml?Ps:qe,zi=vr.extend({_initContainer:function(){this._container=Qn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Qn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){yt(this._container),ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vr.prototype._update.call(this);var s=this._bounds,u=s.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),Ot(p,s.min),p.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Qn("path");s.options.className&&Ke(u,s.options.className),s.options.interactive&&Ke(u,"leaflet-interactive"),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){yt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[f(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,p=s.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Et(s._parts,u))},_updateCircle:function(s){var u=s._point,p=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||p,T="a"+p+","+_+" 0 1,0 ",I=s._empty()?"M0 0":"M"+(u.x-p)+","+u.y+T+p*2+",0 "+T+-p*2+",0 ";this._setPath(s,I)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){hs(s._path)},_bringToBack:function(s){jr(s._path)}});Pe.vml&&zi.include(Bu);function Ta(s){return Pe.svg||Pe.vml?new zi(s):null}nt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&cc(s)||Ta(s)}});var Fu=Dr.extend({initialize:function(s,u){Dr.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=he(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function ff(s,u){return new Fu(s,u)}zi.create=Qn,zi.pointsToPath=Et,mr.geometryToLayer=xs,mr.coordsToLatLng=xa,mr.coordsToLatLngs=yo,mr.latLngToCoords=ba,mr.latLngsToCoords=Sa,mr.getFeature=bs,mr.asFeature=ka,nt.mergeOptions({boxZoom:!0});var Ts=Mn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),rt(),ca(),this._startPoint=this._map.mouseEventToContainerPoint(s),Ve(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Ze("div","leaflet-zoom-box",this._container),Ke(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new B(this._point,this._startPoint),p=u.getSize();Ot(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(yt(this._box),pt(this._container,"leaflet-crosshair")),ms(),ua(),ht(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var u=new ue(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nt.addInitHook("addHandler","boxZoom",Ts),nt.mergeOptions({doubleClickZoom:!0});var Uu=Mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,p=u.getZoom(),_=u.options.zoomDelta,T=s.originalEvent.shiftKey?p-_:p+_;u.options.doubleClickZoom==="center"?u.setZoom(T):u.setZoomAround(s.containerPoint,T)}});nt.addInitHook("addHandler","doubleClickZoom",Uu),nt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var uc=Mn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Yn(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ke(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pt(this._map._container,"leaflet-grab"),pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=he(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),p=this._initialWorldOffset,_=this._draggable._newPos.x,T=(_-u+p)%s+u-p,I=(_+u+p)%s-u-p,W=Math.abs(T+p)<Math.abs(I+p)?T:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(s){var u=this._map,p=u.options,_=!p.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,W=p.easeLinearity,X=T.multiplyBy(W/I),se=X.distanceTo([0,0]),de=Math.min(p.inertiaMaxSpeed,se),ke=X.multiplyBy(de/se),De=de/(p.inertiaDeceleration*W),Ye=ke.multiplyBy(-De/2).round();!Ye.x&&!Ye.y?u.fire("moveend"):(Ye=u._limitOffset(Ye,u.options.maxBounds),ae(function(){u.panBy(Ye,{duration:De,easeLinearity:W,noMoveStart:!0,animate:!0})}))}}});nt.addInitHook("addHandler","dragging",uc),nt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var dc=Mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Ve(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,p=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},p=this.keyCodes,_,T;for(_=0,T=p.left.length;_<T;_++)u[p.left[_]]=[-1*s,0];for(_=0,T=p.right.length;_<T;_++)u[p.right[_]]=[s,0];for(_=0,T=p.down.length;_<T;_++)u[p.down[_]]=[0,s];for(_=0,T=p.up.length;_<T;_++)u[p.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},p=this.keyCodes,_,T;for(_=0,T=p.zoomIn.length;_<T;_++)u[p.zoomIn[_]]=s;for(_=0,T=p.zoomOut.length;_<T;_++)u[p.zoomOut[_]]=-s},_addHooks:function(){Ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,p=this._map,_;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=q(_).multiplyBy(3)),p.options.maxBounds&&(_=p._limitOffset(q(_),p.options.maxBounds)),p.options.worldCopyJump){var T=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(_)));p.panTo(T)}else p.panBy(_)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;qn(s)}}});nt.addInitHook("addHandler","keyboard",dc),nt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ft=Mn.extend({addHooks:function(){Ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=bu(s),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),_),qn(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),p=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,I=p?Math.ceil(T/p)*p:T,W=s._limitZoom(u+(this._delta>0?I:-I))-u;this._delta=0,this._startTime=null,W&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+W):s.setZoomAround(this._lastMousePos,u+W))}});nt.addInitHook("addHandler","scrollWheelZoom",ft);var hc=600;nt.mergeOptions({tapHold:Pe.touchNative&&Pe.safari&&Pe.mobile,tapTolerance:15});var xo=Mn.extend({addHooks:function(){Ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new D(u.clientX,u.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Ve(document,"touchend",Ct),Ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),hc),Ve(document,"touchend touchcancel contextmenu",this._cancel,this),Ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ht(document,"touchend",Ct),ht(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new D(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var p=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});nt.addInitHook("addHandler","tapHold",xo),nt.mergeOptions({touchZoom:Pe.touch,bounceAtZoomLimits:!0});var Cs=Mn.extend({addHooks:function(){Ke(this._map._container,"leaflet-touch-zoom"),Ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(_)._divideBy(2))),this._startDist=p.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ve(document,"touchmove",this._onTouchMove,this),Ve(document,"touchend touchcancel",this._onTouchEnd,this),Ct(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),T=p.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(T,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&T<1||this._zoom>u.getMaxZoom()&&T>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var I=p._add(_)._divideBy(2)._subtract(this._centerPoint);if(T===1&&I.x===0&&I.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),ce(this._animRequest);var W=c(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ae(W,this,!0),Ct(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ce(this._animRequest),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});nt.addInitHook("addHandler","touchZoom",Cs),nt.BoxZoom=Ts,nt.DoubleClickZoom=Uu,nt.Drag=uc,nt.Keyboard=dc,nt.ScrollWheelZoom=ft,nt.TapHold=xo,nt.TouchZoom=Cs,n.Bounds=B,n.Browser=Pe,n.CRS=ie,n.Canvas=lc,n.Circle=wa,n.CircleMarker=ya,n.Class=ge,n.Control=Cn,n.DivIcon=Pa,n.DivOverlay=gr,n.DomEvent=fa,n.DomUtil=ho,n.Draggable=Yn,n.Evented=le,n.FeatureGroup=Ir,n.GeoJSON=mr,n.GridLayer=pi,n.Handler=Mn,n.Icon=Di,n.ImageOverlay=fi,n.LatLng=ve,n.LatLngBounds=ue,n.Layer=Jn,n.LayerGroup=di,n.LineUtil=Ru,n.Map=nt,n.Marker=Mr,n.Mixin=ql,n.Path=hi,n.Point=D,n.PolyUtil=tf,n.Polygon=Dr,n.Polyline=Rn,n.Popup=Ea,n.PosAnimation=pa,n.Projection=af,n.Rectangle=Fu,n.Renderer=vr,n.SVG=zi,n.SVGOverlay=sc,n.TileLayer=mi,n.Tooltip=ks,n.Transformation=Oe,n.Util=ye,n.VideoOverlay=ic,n.bind=c,n.bounds=Y,n.canvas=cc,n.circle=vo,n.circleMarker=Lu,n.control=ui,n.divIcon=Du,n.extend=a,n.featureGroup=Au,n.geoJSON=Ou,n.geoJson=Xn,n.gridLayer=Es,n.icon=ju,n.imageOverlay=Iu,n.latLng=U,n.latLngBounds=he,n.layerGroup=go,n.map=ci,n.marker=uf,n.point=q,n.polygon=hf,n.polyline=df,n.popup=Ss,n.rectangle=ff,n.setOptions=k,n.stamp=f,n.svg=Ta,n.svgOverlay=oc,n.tileLayer=ac,n.tooltip=wo,n.transformation=Te,n.version=r,n.videoOverlay=Mu;var $u=window.L;n.noConflict=function(){return window.L=$u,this},window.L=n}))})(Oc,Oc.exports)),Oc.exports}var Ol=aB();const Dh=bh(Ol);function zh(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Bh(e,t){return t==null?function(r,a){const l=E.useRef();return l.current||(l.current=e(r,a)),l}:function(r,a){const l=E.useRef();l.current||(l.current=e(r,a));const c=E.useRef(r),{instance:h}=l.current;return E.useEffect(function(){c.current!==r&&(t(h,r,c.current),c.current=r)},[h,r,a]),l}}function Qk(e,t){E.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function e1(e){return function(n){const r=Ih(),a=e(Mh(n,r),r);return Zk(r.map,n.attribution),Ov(a.current,n.eventHandlers),Qk(a.current,r),a}}function lB(e,t){const n=E.useRef();E.useEffect(function(){if(t.pathOptions!==n.current){const a=t.pathOptions??{};e.instance.setStyle(a),n.current=a}},[e,t])}function cB(e){return function(n){const r=Ih(),a=e(Mh(n,r),r);return Ov(a.current,n.eventHandlers),Qk(a.current,r),lB(a.current,n),a}}function uB(e,t){const n=Bh(e,t),r=e1(n);return Xk(r)}function dB(e,t){const n=Bh(e),r=sB(n,t);return rB(r)}function hB(e,t){const n=Bh(e,t),r=cB(n);return Xk(r)}function fB(e,t){const n=Bh(e,t),r=e1(n);return iB(r)}function pB(e,t,n){const{opacity:r,zIndex:a}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),a!=null&&a!==n.zIndex&&e.setZIndex(a)}function t1(){return Ih().map}const mB=hB(function({center:t,children:n,...r},a){const l=new Ol.Circle(t,r);return zh(l,qk(a,{overlayContainer:l}))},eB);function hg(){return hg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hg.apply(this,arguments)}function gB({bounds:e,boundsOptions:t,center:n,children:r,className:a,id:l,placeholder:c,style:h,whenReady:f,zoom:m,...y},w){const[b]=E.useState({className:a,id:l,style:h}),[P,C]=E.useState(null);E.useImperativeHandle(w,()=>(P==null?void 0:P.map)??null,[P]);const k=E.useCallback(N=>{if(N!==null&&P===null){const O=new Ol.Map(N,y);n!=null&&m!=null?O.setView(n,m):e!=null&&O.fitBounds(e,t),f!=null&&O.whenReady(f),C(nB(O))}},[]);E.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const R=P?_e.createElement(Jk,{value:P},r):c??null;return _e.createElement("div",hg({},b,{ref:k}),R)}const vB=E.forwardRef(gB),nx=uB(function({position:t,...n},r){const a=new Ol.Marker(t,n);return zh(a,qk(r,{overlayContainer:a}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),dm=dB(function(t,n){const r=new Ol.Popup(t,n.overlayContainer);return zh(r,n)},function(t,n,{position:r},a){E.useEffect(function(){const{instance:c}=t;function h(m){m.popup===c&&(c.update(),a(!0))}function f(m){m.popup===c&&a(!1)}return n.map.on({popupopen:h,popupclose:f}),n.overlayContainer==null?(r!=null&&c.setLatLng(r),c.openOn(n.map)):n.overlayContainer.bindPopup(c),function(){var y;n.map.off({popupopen:h,popupclose:f}),(y=n.overlayContainer)==null||y.unbindPopup(),n.map.removeLayer(c)}},[t,n,a,r])}),yB=fB(function({url:t,...n},r){const a=new Ol.TileLayer(t,Mh(n,r));return zh(a,r)},function(t,n,r){pB(t,n,r);const{url:a}=n;a!=null&&a!==r.url&&t.setUrl(a)});delete Dh.Icon.Default.prototype._getIconUrl;Dh.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const wB=e=>Dh.divIcon({className:"custom-price-marker",html:`
      <div style="
        background: #22c55e;
        color: white;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 12px;
        border: 3px solid white;
        box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        cursor: pointer;
      ">
        ${e}
      </div>
    `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20]});function _B({center:e}){const t=t1();return E.useEffect(()=>{t.setView(e,t.getZoom())},[e,t]),null}function xB({prices:e,markerRefs:t,mapRef:n}){const r=t1();return E.useEffect(()=>{n.current&&(n.current=r)},[r,n]),E.useEffect(()=>{if(e.length>0){const a=setTimeout(()=>{const l=Math.min(3,e.length);for(let c=0;c<l;c++){const h=e[c],f=h.id||h._id||"",m=t.current[f];if(m!=null&&m.leafletElement){const y=m.leafletElement;y.isPopupOpen()||y.openPopup()}}},1500);return()=>clearTimeout(a)}},[e,t]),null}function bB(){const{getCurrentPosition:e}=Ah(),{user:t}=ni(),[n,r]=E.useState(null),[a,l]=E.useState([]),[c,h]=E.useState(null),[f,m]=E.useState([]),[y,w]=E.useState(!1),[b,P]=E.useState(!0),[C,k]=E.useState([37.8667,32.4833]),[R,N]=E.useState(13),O=E.useRef({}),A=E.useRef(null);E.useEffect(()=>{$(),z()},[]);const $=async()=>{try{const M=await e();if(M){const ne=[M.latitude,M.longitude];r(ne),k(ne),N(15)}}catch(M){console.error("Failed to get user location:",M),Re.error("Konum alnamad")}},z=async()=>{try{P(!0);const M=await Ho.getAll({limit:500,sort:"cheapest"});if(!Array.isArray(M)){console.error("Invalid data format:",M),Re.error("Fiyat verileri beklenmeyen formatta");return}const ne=M.filter(ce=>{if(ce.lat&&ce.lng){const ye=parseFloat(String(ce.lat)),ge=parseFloat(String(ce.lng));if(!isNaN(ye)&&!isNaN(ge))return!0}return!1});console.log(` Found ${ne.length} prices with coordinates out of ${M.length} total`);const ee={};ne.forEach(ce=>{var ye,ge;try{const J=((ye=ce.product)==null?void 0:ye.id)||((ge=ce.product)==null?void 0:ge._id)||"";if(!J)return;const Z=parseFloat(String(ce.price));if(isNaN(Z))return;if(!ee[J])ee[J]=ce;else{const le=parseFloat(String(ee[J].price));!isNaN(le)&&Z<le&&(ee[J]=ce)}}catch(J){console.error("Error processing price:",J,ce)}});const ae=Object.values(ee);if(l(ae),ae.length>0&&!n){const ce=ae[0];ce.lat&&ce.lng&&k([ce.lat,ce.lng])}ae.length===0?(console.warn(" No prices with coordinates found"),console.log(" Data summary:",{totalPrices:M.length,pricesWithCoords:ne.length,cheapestByProduct:Object.keys(ee).length}),Re.info("Haritada gsterilecek fiyat bulunamad. Fiyatlarn konum bilgisi olmal.")):console.log(` Found ${ae.length} cheapest prices to display on map`)}catch(M){console.error("Failed to load prices:",M);const ne=M.message||"Fiyatlar yklenirken bir hata olutu";Re.error(ne)}finally{P(!1)}},H=M=>M.toFixed(2).replace(".",","),F=async()=>{try{const M=await e();if(M){const ne=[M.latitude,M.longitude];r(ne),k(ne),N(15)}else Re.error("Konum alnamad")}catch(M){console.error("Failed to get user location:",M),Re.error("Konum alnamad")}};return v.jsxs("div",{className:"min-h-screen bg-gray-200 relative overflow-hidden",children:[v.jsx("style",{children:`
        .leaflet-popup-content-wrapper {
          border-radius: 12px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
          padding: 0;
        }
        .leaflet-popup-content {
          margin: 0;
          padding: 16px;
          min-width: 200px;
          max-width: 280px;
        }
        .custom-popup .leaflet-popup-content-wrapper {
          background: white;
        }
        .leaflet-popup-tip {
          background: white;
        }
      `}),v.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-white/95 backdrop-blur-sm p-4 z-[1000] border-b border-gray-200 flex items-center justify-between",children:[v.jsx("h1",{className:"text-center font-semibold flex-1",children:"En Dk Fiyatl rnler"}),v.jsxs(bt,{variant:"outline",size:"sm",onClick:F,className:"ml-2",children:[v.jsx(_v,{className:"w-4 h-4 mr-1"}),"Konumum"]})]}),v.jsx("div",{className:"w-full relative",style:{height:"calc(100vh - 80px)",marginTop:"64px",zIndex:1},children:b?v.jsx("div",{className:"flex items-center justify-center h-full",children:v.jsxs("div",{className:"text-center text-gray-500",children:[v.jsx(kn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400 animate-pulse"}),v.jsx("p",{children:"Harita ykleniyor..."})]})}):v.jsxs(vB,{center:C,zoom:R,style:{height:"100%",width:"100%",zIndex:1},scrollWheelZoom:!0,children:[v.jsx(yB,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),v.jsx(xB,{prices:a,markerRefs:O,mapRef:A}),n&&(()=>{var ee;const M=(t==null?void 0:t.search_radius)||((ee=t==null?void 0:t.preferences)==null?void 0:ee.searchRadius)||15,ne=M*1e3;return v.jsxs(v.Fragment,{children:[v.jsx(mB,{center:n,radius:ne,pathOptions:{color:"#22c55e",fillColor:"#22c55e",fillOpacity:.1,weight:2,dashArray:"5, 5"},children:v.jsx(dm,{children:v.jsxs("div",{className:"text-center",children:[v.jsx("strong",{children:"Arama evresi"}),v.jsx("br",{}),v.jsxs("span",{className:"text-sm text-gray-600",children:[M," km"]})]})})}),v.jsx(nx,{position:n,icon:Dh.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),children:v.jsx(dm,{children:v.jsxs("div",{className:"text-center",children:[v.jsx("strong",{children:" Konumunuz"}),v.jsx("br",{}),v.jsxs("span",{className:"text-xs text-gray-500",children:["Arama evresi: ",M," km"]})]})})})]})})(),a.map(M=>{if(!M.lat||!M.lng)return null;const ne=`${H(M.price)} `,ee=M.id||M._id||"";return v.jsx(nx,{ref:ae=>{ae&&(O.current[ee]=ae)},position:[M.lat,M.lng],icon:wB(ne),eventHandlers:{click:ae=>{const ce=ae.target;ce&&ce.isPopupOpen()?ce.closePopup():ce.openPopup(),h(M)}},children:v.jsx(dm,{autoClose:!0,closeOnClick:!1,className:"custom-popup",children:v.jsxs("div",{className:"min-w-[200px] max-w-[280px]",children:[v.jsxs("div",{className:"mb-3 pb-2 border-b border-gray-200",children:[v.jsx("div",{className:"font-bold text-lg text-green-700 mb-1",children:M.product.name}),v.jsx("div",{className:"text-xs text-gray-500",children:M.product.category})]}),v.jsxs("div",{className:"mb-3",children:[v.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:ne}),v.jsxs("div",{className:"text-sm text-gray-600",children:["/ ",M.unit]})]}),v.jsxs("div",{className:"mb-3",children:[v.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800 border border-yellow-300",children:" En Dk Fiyat"}),(M.isVerified||M.is_verified)&&v.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800 border border-green-300 ml-2",children:" Dorulanm"})]}),v.jsxs("div",{className:"mb-3 pb-2 border-b border-gray-200",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[v.jsx(kn,{className:"w-4 h-4 text-gray-500"}),v.jsx("span",{className:"font-medium",children:M.location.name})]}),M.location.city&&v.jsxs("div",{className:"text-xs text-gray-500 mt-1 ml-6",children:[M.location.city,M.location.district&&`, ${M.location.district}`]})]}),v.jsx("button",{onClick:async()=>{h(M),await loadProductPhotos(M.product.id||M.product._id||"")},className:"w-full mt-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-semibold rounded-lg transition-colors",children:"Detaylar Gr"})]})})},ee)}),v.jsx(_B,{center:C})]})}),c&&v.jsx(Ok,{open:!!c,onOpenChange:M=>!M&&h(null),children:v.jsxs(Ik,{side:"bottom",className:"h-[50vh]",children:[v.jsx(Mk,{children:v.jsx(Dk,{children:c.product.name})}),v.jsxs("div",{className:"py-4 space-y-4 overflow-y-auto",children:[v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white shadow-sm",children:[v.jsx("div",{className:"flex justify-between items-start mb-4",children:v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-1",children:c.product.name}),v.jsx("div",{className:"text-xs text-gray-500 mb-3",children:c.product.category}),v.jsxs("div",{className:"flex items-baseline gap-2 mb-3",children:[v.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[H(c.price)," "]}),v.jsxs("span",{className:"text-lg text-gray-500",children:["/ ",c.unit]})]}),v.jsxs("div",{className:"flex gap-2 flex-wrap",children:[v.jsx(Yr,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:" En Dk Fiyat"}),(c.isVerified||c.is_verified)&&v.jsx(Yr,{className:"bg-green-100 text-green-800 border-green-300",children:" Dorulanm"})]})]})}),v.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(kn,{className:"w-5 h-5 text-gray-500 mt-0.5 flex-shrink-0"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-semibold text-gray-900 mb-1",children:c.location.name}),c.location.city&&v.jsxs("div",{className:"text-sm text-gray-600",children:[c.location.city,c.location.district&&`, ${c.location.district}`]}),c.location.type&&v.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Tip: ",c.location.type]})]})]})}),c.user&&v.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:v.jsxs("div",{className:"text-sm text-gray-600",children:[v.jsx("span",{className:"font-medium",children:"Paylaan:"})," ",c.user.name,c.user.level&&v.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(Seviye ",c.user.level,")"]})]})}),c.photo&&v.jsxs("div",{className:"mt-4",children:[v.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Bu Fiyatn Fotoraf"}),v.jsx("img",{src:c.photo,alt:c.product.name,className:"w-full h-48 object-cover rounded-lg border border-gray-200",onError:M=>{M.target.style.display="none"}})]})]}),v.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[v.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-3",children:["Bu rn in Eklenen Tm Resimler (",f.length,")"]}),y?v.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Ykleniyor..."}):f.length>0?v.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map(M=>{var ee;const ne=M.id||M._id||"";return v.jsxs("div",{className:"relative group",children:[v.jsx("img",{src:M.photo,alt:c.product.name,className:"w-full h-32 object-cover rounded-lg border border-gray-200 cursor-pointer hover:opacity-80 transition-opacity",onError:ae=>{ae.target.style.display="none"}}),v.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-2 rounded-b-lg",children:[v.jsxs("div",{className:"font-semibold",children:[H(M.price)," "]}),v.jsx("div",{className:"text-xs opacity-90",children:(ee=M.location)==null?void 0:ee.name})]})]},ne)})}):v.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Bu rn iin henz fotoraf eklenmemi"})]}),v.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:v.jsxs("p",{className:"text-sm text-blue-700",children:[v.jsx("span",{className:"font-semibold",children:" Bilgi:"})," Haritada her rn iin en dk fiyat gsterilmektedir. Detayl bilgi iin marker'a tklayn."]})})]})]})})]})}function Iv(e){const t=e+"CollectionProvider",[n,r]=Ti(t),[a,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=P=>{const{scope:C,children:k}=P,R=_e.useRef(null),N=_e.useRef(new Map).current;return v.jsx(a,{scope:C,itemMap:N,collectionRef:R,children:k})};c.displayName=t;const h=e+"CollectionSlot",f=_e.forwardRef((P,C)=>{const{scope:k,children:R}=P,N=l(h,k),O=ut(C,N.collectionRef);return v.jsx(Xs,{ref:O,children:R})});f.displayName=h;const m=e+"CollectionItemSlot",y="data-radix-collection-item",w=_e.forwardRef((P,C)=>{const{scope:k,children:R,...N}=P,O=_e.useRef(null),A=ut(C,O),$=l(m,k);return _e.useEffect(()=>($.itemMap.set(O,{ref:O,...N}),()=>void $.itemMap.delete(O))),v.jsx(Xs,{[y]:"",ref:A,children:R})});w.displayName=m;function b(P){const C=l(e+"CollectionConsumer",P);return _e.useCallback(()=>{const R=C.collectionRef.current;if(!R)return[];const N=Array.from(R.querySelectorAll(`[${y}]`));return Array.from(C.itemMap.values()).sort(($,z)=>N.indexOf($.ref.current)-N.indexOf(z.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:f,ItemSlot:w},b,r]}var SB=E.createContext(void 0);function Fh(e){const t=E.useContext(SB);return e||t||"ltr"}var hm="rovingFocusGroup.onEntryFocus",kB={bubbles:!1,cancelable:!0},Uh="RovingFocusGroup",[fg,n1,EB]=Iv(Uh),[PB,r1]=Ti(Uh,[EB]),[TB,CB]=PB(Uh),i1=E.forwardRef((e,t)=>v.jsx(fg.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(fg.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(RB,{...e,ref:t})})}));i1.displayName=Uh;var RB=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...w}=e,b=E.useRef(null),P=ut(t,b),C=Fh(l),[k=null,R]=Jo({prop:c,defaultProp:h,onChange:f}),[N,O]=E.useState(!1),A=Jr(m),$=n1(n),z=E.useRef(!1),[H,F]=E.useState(0);return E.useEffect(()=>{const M=b.current;if(M)return M.addEventListener(hm,A),()=>M.removeEventListener(hm,A)},[A]),v.jsx(TB,{scope:n,orientation:r,dir:C,loop:a,currentTabStopId:k,onItemFocus:E.useCallback(M=>R(M),[R]),onItemShiftTab:E.useCallback(()=>O(!0),[]),onFocusableItemAdd:E.useCallback(()=>F(M=>M+1),[]),onFocusableItemRemove:E.useCallback(()=>F(M=>M-1),[]),children:v.jsx(Xe.div,{tabIndex:N||H===0?-1:0,"data-orientation":r,...w,ref:P,style:{outline:"none",...e.style},onMouseDown:Je(e.onMouseDown,()=>{z.current=!0}),onFocus:Je(e.onFocus,M=>{const ne=!z.current;if(M.target===M.currentTarget&&ne&&!N){const ee=new CustomEvent(hm,kB);if(M.currentTarget.dispatchEvent(ee),!ee.defaultPrevented){const ae=$().filter(Z=>Z.focusable),ce=ae.find(Z=>Z.active),ye=ae.find(Z=>Z.id===k),J=[ce,ye,...ae].filter(Boolean).map(Z=>Z.ref.current);a1(J,y)}}z.current=!1}),onBlur:Je(e.onBlur,()=>O(!1))})})}),s1="RovingFocusGroupItem",o1=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:l,...c}=e,h=Yo(),f=l||h,m=CB(s1,n),y=m.currentTabStopId===f,w=n1(n),{onFocusableItemAdd:b,onFocusableItemRemove:P}=m;return E.useEffect(()=>{if(r)return b(),()=>P()},[r,b,P]),v.jsx(fg.ItemSlot,{scope:n,id:f,focusable:r,active:a,children:v.jsx(Xe.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:Je(e.onMouseDown,C=>{r?m.onItemFocus(f):C.preventDefault()}),onFocus:Je(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Je(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){m.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const k=jB(C,m.orientation,m.dir);if(k!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let N=w().filter(O=>O.focusable).map(O=>O.ref.current);if(k==="last")N.reverse();else if(k==="prev"||k==="next"){k==="prev"&&N.reverse();const O=N.indexOf(C.currentTarget);N=m.loop?LB(N,O+1):N.slice(O+1)}setTimeout(()=>a1(N))}})})})});o1.displayName=s1;var NB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function AB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jB(e,t,n){const r=AB(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NB[r]}function a1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function LB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var OB=i1,IB=o1,Mv="Radio",[MB,l1]=Ti(Mv),[DB,zB]=MB(Mv),c1=E.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:l,disabled:c,value:h="on",onCheck:f,form:m,...y}=e,[w,b]=E.useState(null),P=ut(t,R=>b(R)),C=E.useRef(!1),k=w?m||!!w.closest("form"):!0;return v.jsxs(DB,{scope:n,checked:a,disabled:c,children:[v.jsx(Xe.button,{type:"button",role:"radio","aria-checked":a,"data-state":h1(a),"data-disabled":c?"":void 0,disabled:c,value:h,...y,ref:P,onClick:Je(e.onClick,R=>{a||f==null||f(),k&&(C.current=R.isPropagationStopped(),C.current||R.stopPropagation())})}),k&&v.jsx(BB,{control:w,bubbles:!C.current,name:r,value:h,checked:a,required:l,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});c1.displayName=Mv;var u1="RadioIndicator",d1=E.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,l=zB(u1,n);return v.jsx(Ll,{present:r||l.checked,children:v.jsx(Xe.span,{"data-state":h1(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:t})})});d1.displayName=u1;var BB=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,l=E.useRef(null),c=Lh(n),h=Oh(t);return E.useEffect(()=>{const f=l.current,m=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&w){const b=new Event("click",{bubbles:r});w.call(f,n),f.dispatchEvent(b)}},[c,n,r]),v.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function h1(e){return e?"checked":"unchecked"}var FB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Dv="RadioGroup",[UB]=Ti(Dv,[r1,l1]),f1=r1(),p1=l1(),[$B,VB]=UB(Dv),m1=E.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:l,required:c=!1,disabled:h=!1,orientation:f,dir:m,loop:y=!0,onValueChange:w,...b}=e,P=f1(n),C=Fh(m),[k,R]=Jo({prop:l,defaultProp:a,onChange:w});return v.jsx($B,{scope:n,name:r,required:c,disabled:h,value:k,onValueChange:R,children:v.jsx(OB,{asChild:!0,...P,orientation:f,dir:C,loop:y,children:v.jsx(Xe.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":h?"":void 0,dir:C,...b,ref:t})})})});m1.displayName=Dv;var g1="RadioGroupItem",v1=E.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,l=VB(g1,n),c=l.disabled||r,h=f1(n),f=p1(n),m=E.useRef(null),y=ut(t,m),w=l.value===a.value,b=E.useRef(!1);return E.useEffect(()=>{const P=k=>{FB.includes(k.key)&&(b.current=!0)},C=()=>b.current=!1;return document.addEventListener("keydown",P),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",P),document.removeEventListener("keyup",C)}},[]),v.jsx(IB,{asChild:!0,...h,focusable:!c,active:w,children:v.jsx(c1,{disabled:c,required:l.required,checked:w,...f,...a,name:l.name,ref:y,onCheck:()=>l.onValueChange(a.value),onKeyDown:Je(P=>{P.key==="Enter"&&P.preventDefault()}),onFocus:Je(a.onFocus,()=>{var P;b.current&&((P=m.current)==null||P.click())})})})});v1.displayName=g1;var WB="RadioGroupIndicator",y1=E.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=p1(n);return v.jsx(d1,{...a,...r,ref:t})});y1.displayName=WB;var HB=m1,KB=v1,GB=y1;function ZB({className:e,...t}){return v.jsx(HB,{"data-slot":"radio-group",className:Lt("grid gap-3",e),...t})}function fm({className:e,...t}){return v.jsx(KB,{"data-slot":"radio-group-item",className:Lt("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:v.jsx(GB,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:v.jsx(bI,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const pm=["product","price","location","photo","confirm"];function qB(){const e=mn(),{user:t}=ni(),{getCurrentPosition:n}=Ah(),[r,a]=E.useState(0),[l,c]=E.useState([]),[h,f]=E.useState([]),[m,y]=E.useState(""),[w,b]=E.useState(""),[P,C]=E.useState(!1),[k,R]=E.useState({productId:"",productName:"",price:"",unit:"kg",locationId:"",locationName:"",photo:null,photoPreview:null,lat:null,lng:null}),[N,O]=E.useState(!1),A=pm[r];E.useEffect(()=>{$(),z()},[]);const $=async()=>{try{const J=await Bc.getAll();c(J)}catch(J){console.error("Failed to load products:",J)}},z=async()=>{try{const J=await zp.getAll();f(J)}catch(J){console.error("Failed to load locations:",J)}},H=async J=>{if(y(J),J.trim())try{const Z=await Bc.getAll(J);c(Z)}catch(Z){console.error("Product search error:",Z)}else $()},F=async J=>{if(b(J),J.trim())try{const le=(await zp.getAll()).filter(D=>D.name.toLowerCase().includes(J.toLowerCase()));f(le)}catch(Z){console.error("Location search error:",Z)}else z()},M=J=>{J?(console.log(" Photo selected:",{name:J.name,size:J.size,type:J.type}),R({...k,photo:J,photoPreview:URL.createObjectURL(J)}),console.log(" Photo added to form data")):console.warn(" No file selected")},ne=async()=>{r<pm.length-1?a(r+1):await ee()},ee=async()=>{var J,Z,le;if(!t){Re.error("Giri yapmanz gerekiyor"),e("/login");return}if(!k.productId||!k.price||!k.locationId){console.error("Form validation failed:",{productId:k.productId,price:k.price,locationId:k.locationId}),Re.error("Ltfen tm alanlar doldurun");return}try{O(!0);let D=k.lat,re=k.lng;if(!D||!re)try{const B=await n();B&&(D=B.latitude,re=B.longitude,console.log(" Got coordinates from geolocation:",{lat:D,lng:re}))}catch{console.log(" Geolocation not available, continuing without coordinates")}else console.log(" Using coordinates from selected location:",{lat:D,lng:re});console.log(" Submitting price:",{product:k.productId,price:k.price,unit:k.unit,location:k.locationId,hasPhoto:!!k.photo,photoName:(J=k.photo)==null?void 0:J.name,photoSize:(Z=k.photo)==null?void 0:Z.size,photoType:(le=k.photo)==null?void 0:le.type,lat:D,lng:re,hasCoordinates:!!(D&&re),user:t==null?void 0:t.id});const q=await Ho.create({product:k.productId,price:parseFloat(k.price),unit:k.unit,location:k.locationId,photo:k.photo||void 0,lat:D||void 0,lng:re||void 0});console.log(" Price created successfully:",q.id||q._id),q.photoUploadError?Re.warning("Fiyat kaydedildi ancak fotoraf yklenemedi",{description:q.photoUploadError,duration:5e3}):Re.success(" Teekkrler!",{description:"Paylamn yayna alnd. +10 katk puan kazandn",duration:3e3}),setTimeout(()=>{e("/app/explore")},500)}catch(D){console.error(" Submit error:",D),console.error(" Error details:",{message:D.message,stack:D.stack,name:D.name,code:D.code});let re="Fiyat paylalrken bir hata olutu";D.message&&(D.message.includes("row-level security")||D.message.includes("RLS")?re="Yetki hatas. Ltfen tekrar giri yapn.":D.message.includes("duplicate key")||D.message.includes("unique constraint")?re="Bu fiyat zaten mevcut.":D.message.includes("foreign key")||D.message.includes("constraint")?re="Veri hatas. Ltfen tekrar deneyin.":D.message.includes("network")||D.message.includes("fetch")||D.message.includes("Failed to fetch")?re="Balant hatas. nternet balantnz kontrol edin.":D.message.includes("required")||D.message.includes("missing")?re="Ltfen tm gerekli alanlar doldurun.":D.message.includes("Giri yapmanz gerekiyor")?re="Giri yapmanz gerekiyor. Ltfen tekrar giri yapn.":re=D.message),Re.error(re,{duration:5e3,description:"Ltfen tekrar deneyin veya destek ekibiyle iletiime gein."})}finally{O(!1)}},ae=()=>{r>0?a(r-1):e("/app/explore")},ce=async J=>{try{console.log("Creating product:",J);const Z=await Bc.create(J);console.log("Product created:",Z),R({...k,productId:Z.id||Z._id,productName:Z.name}),a(r+1),Re.success("rn oluturuldu")}catch(Z){console.error("Create product error:",Z),Re.error(Z.message||"rn oluturulamad")}},ye=async(J,Z,le)=>{try{const D=await zp.create({name:J,type:"dier",lat:Z||37.8667,lng:le||32.4833});R({...k,locationId:D.id||D._id,locationName:D.name,lat:Z||null,lng:le||null}),a(r+1)}catch{Re.error("Konum oluturulamad")}},ge=async()=>{try{C(!0);const J=await n();if(J){const{latitude:Z,longitude:le}=J,D=`Mevcut Konum (${Z.toFixed(4)}, ${le.toFixed(4)})`;await ye("Mevcut Konum",Z,le),Re.success("Mevcut konum alnd")}else Re.error("Konum alnamad. Ltfen konum iznini kontrol edin.")}catch(J){console.error("Location error:",J),Re.error("Konum alnamad: "+(J.message||"Bilinmeyen hata"))}finally{C(!1)}};return v.jsxs("div",{className:"min-h-screen bg-white",children:[v.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 z-10",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:ae,className:"p-2 -ml-2 hover:bg-gray-100 rounded-full",children:v.jsx(Nl,{className:"w-5 h-5"})}),v.jsx("div",{className:"flex-1",children:v.jsx("div",{className:"flex gap-1",children:pm.map((J,Z)=>v.jsx("div",{className:`h-1 flex-1 rounded-full ${Z<=r?"bg-green-600":"bg-gray-200"}`},Z))})})]})}),v.jsxs("div",{className:"p-6 pb-24",children:[A==="product"&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl mb-2",children:"rn se"}),v.jsxs("div",{className:"relative mb-6",children:[v.jsx(ph,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsx(qo,{placeholder:"rn ara",className:"pl-10",value:m,onChange:J=>H(J.target.value)})]}),v.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-96 overflow-y-auto",children:l.map(J=>{const Z=J.id||J._id;return v.jsx(bt,{variant:k.productId===Z?"default":"outline",className:k.productId===Z?"bg-green-600 hover:bg-green-700":"",onClick:()=>{R({...k,productId:Z,productName:J.name}),a(r+1)},children:J.name},Z)})}),m&&!l.find(J=>J.name.toLowerCase()===m.toLowerCase())&&v.jsxs(bt,{variant:"outline",className:"w-full mt-4",onClick:()=>ce(m),children:['"',m,'" olarak ekle']})]}),A==="price"&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl mb-4",children:"Fiyat bilgisi"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx(ar,{htmlFor:"price",children:"Fiyat (TL)"}),v.jsx(qo,{id:"price",type:"number",step:"0.01",placeholder:"0.00",value:k.price,onChange:J=>R({...k,price:J.target.value}),className:"text-2xl"})]}),v.jsxs("div",{children:[v.jsx(ar,{children:"Birim"}),v.jsxs(ZB,{value:k.unit,onValueChange:J=>R({...k,unit:J}),children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(fm,{value:"kg",id:"kg"}),v.jsx(ar,{htmlFor:"kg",children:"kg"})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(fm,{value:"adet",id:"adet"}),v.jsx(ar,{htmlFor:"adet",children:"adet"})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(fm,{value:"lt",id:"lt"}),v.jsx(ar,{htmlFor:"lt",children:"lt"})]})]})]}),v.jsx("p",{className:"text-sm text-gray-500",children:"Ltfen grdn fiyat aynen gir."})]})]}),A==="location"&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl mb-4",children:"Nereden aldn?"}),v.jsxs("div",{className:"relative mb-4",children:[v.jsx(ph,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsx(qo,{placeholder:"Yer ara",className:"pl-10",value:w,onChange:J=>F(J.target.value)})]}),v.jsx("div",{className:"space-y-2 mb-4 max-h-64 overflow-y-auto",children:h.map(J=>{const Z=J.id||J._id;let le=null,D=null;if(J.coordinates){const re=J.coordinates;if(typeof re=="string"){const q=re.match(/\(([^,]+),([^)]+)\)/);q&&(D=parseFloat(q[1]),le=parseFloat(q[2]))}else typeof re=="object"&&(typeof re.lat=="number"&&typeof re.lng=="number"?(le=re.lat,D=re.lng):typeof re.x=="number"&&typeof re.y=="number"&&(le=re.y,D=re.x))}return v.jsx(bt,{variant:k.locationId===Z?"default":"outline",className:`w-full justify-start ${k.locationId===Z?"bg-green-600 hover:bg-green-700":""}`,onClick:()=>{console.log(" Location selected:",{id:Z,name:J.name,lat:le,lng:D}),R({...k,locationId:Z,locationName:J.name,lat:le||k.lat,lng:D||k.lng}),a(r+1)},children:J.name},Z)})}),w&&!h.find(J=>J.name.toLowerCase()===w.toLowerCase())&&v.jsxs(bt,{variant:"outline",className:"w-full",onClick:()=>ye(w),children:['"',w,'" olarak ekle']}),v.jsx(bt,{variant:"outline",className:"w-full mt-2",onClick:ge,disabled:P,children:P?v.jsxs(v.Fragment,{children:[v.jsx(UI,{className:"w-4 h-4 mr-2 animate-spin"}),"Konum alnyor..."]}):v.jsxs(v.Fragment,{children:[v.jsx(kn,{className:"w-4 h-4 mr-2"}),"Mevcut Konum"]})})]}),A==="photo"&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl mb-2",children:"Fotoraf ekle"}),v.jsx("p",{className:"text-gray-500 mb-6",children:"Etiket veya tezgh fotoraf gveni artrr."}),k.photoPreview&&v.jsx("div",{className:"mb-4",children:v.jsx("img",{src:k.photoPreview,alt:"Preview",className:"w-full rounded-lg"})}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs(bt,{variant:"outline",className:"h-32 flex-col gap-2",onClick:()=>{const J=document.createElement("input");J.type="file",J.accept="image/*",J.capture="environment",J.onchange=Z=>{var D;const le=(D=Z.target.files)==null?void 0:D[0];le&&M(le)},J.click()},children:[v.jsx(pI,{className:"w-8 h-8"}),v.jsx("span",{children:"Kamera"})]}),v.jsxs(bt,{variant:"outline",className:"h-32 flex-col gap-2",onClick:()=>{const J=document.createElement("input");J.type="file",J.accept="image/*",J.onchange=Z=>{var D;const le=(D=Z.target.files)==null?void 0:D[0];le&&M(le)},J.click()},children:[v.jsx(DI,{className:"w-8 h-8"}),v.jsx("span",{children:"Galeri"})]})]})]}),A==="confirm"&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl mb-2",children:"Bilgileri kontrol et"}),v.jsx("p",{className:"text-gray-500 mb-6",children:"Yanl fiyat girilmesi kullanclar yanltr."}),v.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"rn:"}),v.jsx("span",{children:k.productName})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Fiyat:"}),v.jsxs("span",{className:"text-xl text-green-600",children:[k.price," TL / ",k.unit]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Yer:"}),v.jsx("span",{children:k.locationName})]}),k.photoPreview&&v.jsx("div",{className:"mt-4",children:v.jsx("img",{src:k.photoPreview,alt:"Preview",className:"w-full rounded-lg"})})]})]})]}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-gray-200 z-[100] pb-safe",style:{paddingBottom:"calc(1rem + env(safe-area-inset-bottom))"},children:v.jsx(bt,{onClick:ne,disabled:N||A==="product"&&!k.productId||A==="price"&&!k.price||A==="location"&&!k.locationId,className:"w-full bg-green-600 hover:bg-green-700 py-6 text-white",children:N?"Gnderiliyor...":A==="confirm"?v.jsxs(v.Fragment,{children:[v.jsx(wv,{className:"w-5 h-5 mr-2"}),"Fiyat Payla"]}):"Devam"})})]})}function YB(){var h,f;const e=mn(),{logout:t,user:n}=ni(),r=async()=>{try{await t(),Re.success("k yapld"),e("/login",{replace:!0})}catch(m){console.error("Logout error:",m),Re.error("k yaplrken bir hata olutu")}},a=()=>{if(!(n!=null&&n.name))return"K";const m=n.name.split(" ");return m.length>=2?(m[0][0]+m[1][0]).toUpperCase():n.name.substring(0,2).toUpperCase()},l=()=>n!=null&&n.level&&{1:"Yeni",2:"Mahalleli",3:"Uzman",4:"Master",5:"Efsane"}[n.level]||"Yeni",c=[{icon:O_,label:"Katklarm",onClick:()=>e("/app/contributions")},{icon:VS,label:"Favorilerim",onClick:()=>{}},{icon:dI,label:"Rozetler",onClick:()=>{}},{icon:rM,label:"Ayarlar",onClick:()=>e("/app/settings")},{icon:O_,label:"Destek & Geri Bildirim",onClick:()=>{}}];return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsxs("div",{className:"bg-white p-6 border-b border-gray-200",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.jsxs(hl,{className:"w-20 h-20",children:[v.jsx(fl,{src:(n==null?void 0:n.avatar)||""}),v.jsx(pl,{className:"bg-green-600 text-white text-2xl",children:a()})]}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h2",{className:"text-2xl",children:(n==null?void 0:n.name)||"Kullanc"}),v.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.jsx("span",{className:"text-sm text-gray-600",children:"Seviye:"}),v.jsxs(Yr,{variant:"secondary",children:[l()," "]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl text-green-600",children:typeof(n==null?void 0:n.contributions)=="object"?((h=n.contributions)==null?void 0:h.shares)||0:(n==null?void 0:n.contributions)||0}),v.jsx("div",{className:"text-sm text-gray-600",children:"Paylam"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl text-green-600",children:typeof(n==null?void 0:n.contributions)=="object"&&((f=n.contributions)==null?void 0:f.verifications)||0}),v.jsx("div",{className:"text-sm text-gray-600",children:"Dorulama"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl text-green-600",children:(n==null?void 0:n.points)||0}),v.jsx("div",{className:"text-sm text-gray-600",children:"Puan"})]})]})]}),v.jsxs("div",{className:"p-4 space-y-2",children:[c.map(m=>v.jsxs("button",{onClick:m.onClick,className:"w-full bg-white rounded-lg p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(m.icon,{className:"w-5 h-5 text-gray-600"}),v.jsx("span",{children:m.label})]}),v.jsx(US,{className:"w-5 h-5 text-gray-400"})]},m.label)),v.jsxs("button",{onClick:r,className:"w-full bg-white rounded-lg p-4 flex items-center gap-3 hover:bg-red-50 transition-colors text-red-600",children:[v.jsx(WI,{className:"w-5 h-5"}),v.jsx("span",{children:"k Yap"})]})]})]})}function gh(e,[t,n]){return Math.min(n,Math.max(t,e))}const JB=["top","right","bottom","left"],Qs=Math.min,ir=Math.max,vh=Math.round,Gd=Math.floor,Ei=e=>({x:e,y:e}),XB={left:"right",right:"left",bottom:"top",top:"bottom"},QB={start:"end",end:"start"};function pg(e,t,n){return ir(e,Qs(t,n))}function ns(e,t){return typeof e=="function"?e(t):e}function rs(e){return e.split("-")[0]}function Il(e){return e.split("-")[1]}function zv(e){return e==="x"?"y":"x"}function Bv(e){return e==="y"?"height":"width"}const e4=new Set(["top","bottom"]);function bi(e){return e4.has(rs(e))?"y":"x"}function Fv(e){return zv(bi(e))}function t4(e,t,n){n===void 0&&(n=!1);const r=Il(e),a=Fv(e),l=Bv(a);let c=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=yh(c)),[c,yh(c)]}function n4(e){const t=yh(e);return[mg(e),t,mg(t)]}function mg(e){return e.replace(/start|end/g,t=>QB[t])}const rx=["left","right"],ix=["right","left"],r4=["top","bottom"],i4=["bottom","top"];function s4(e,t,n){switch(e){case"top":case"bottom":return n?t?ix:rx:t?rx:ix;case"left":case"right":return t?r4:i4;default:return[]}}function o4(e,t,n,r){const a=Il(e);let l=s4(rs(e),n==="start",r);return a&&(l=l.map(c=>c+"-"+a),t&&(l=l.concat(l.map(mg)))),l}function yh(e){return e.replace(/left|right|bottom|top/g,t=>XB[t])}function a4(e){return{top:0,right:0,bottom:0,left:0,...e}}function w1(e){return typeof e!="number"?a4(e):{top:e,right:e,bottom:e,left:e}}function wh(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function sx(e,t,n){let{reference:r,floating:a}=e;const l=bi(t),c=Fv(t),h=Bv(c),f=rs(t),m=l==="y",y=r.x+r.width/2-a.width/2,w=r.y+r.height/2-a.height/2,b=r[h]/2-a[h]/2;let P;switch(f){case"top":P={x:y,y:r.y-a.height};break;case"bottom":P={x:y,y:r.y+r.height};break;case"right":P={x:r.x+r.width,y:w};break;case"left":P={x:r.x-a.width,y:w};break;default:P={x:r.x,y:r.y}}switch(Il(t)){case"start":P[c]-=b*(n&&m?-1:1);break;case"end":P[c]+=b*(n&&m?-1:1);break}return P}const l4=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:l=[],platform:c}=n,h=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:y,y:w}=sx(m,r,f),b=r,P={},C=0;for(let k=0;k<h.length;k++){const{name:R,fn:N}=h[k],{x:O,y:A,data:$,reset:z}=await N({x:y,y:w,initialPlacement:r,placement:b,strategy:a,middlewareData:P,rects:m,platform:c,elements:{reference:e,floating:t}});y=O??y,w=A??w,P={...P,[R]:{...P[R],...$}},z&&C<=50&&(C++,typeof z=="object"&&(z.placement&&(b=z.placement),z.rects&&(m=z.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):z.rects),{x:y,y:w}=sx(m,b,f)),k=-1)}return{x:y,y:w,placement:b,strategy:a,middlewareData:P}};async function iu(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:l,rects:c,elements:h,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:b=!1,padding:P=0}=ns(t,e),C=w1(P),R=h[b?w==="floating"?"reference":"floating":w],N=wh(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(R)))==null||n?R:R.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:m,rootBoundary:y,strategy:f})),O=w==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),$=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},z=wh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:O,offsetParent:A,strategy:f}):O);return{top:(N.top-z.top+C.top)/$.y,bottom:(z.bottom-N.bottom+C.bottom)/$.y,left:(N.left-z.left+C.left)/$.x,right:(z.right-N.right+C.right)/$.x}}const c4=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:l,platform:c,elements:h,middlewareData:f}=t,{element:m,padding:y=0}=ns(e,t)||{};if(m==null)return{};const w=w1(y),b={x:n,y:r},P=Fv(a),C=Bv(P),k=await c.getDimensions(m),R=P==="y",N=R?"top":"left",O=R?"bottom":"right",A=R?"clientHeight":"clientWidth",$=l.reference[C]+l.reference[P]-b[P]-l.floating[C],z=b[P]-l.reference[P],H=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let F=H?H[A]:0;(!F||!await(c.isElement==null?void 0:c.isElement(H)))&&(F=h.floating[A]||l.floating[C]);const M=$/2-z/2,ne=F/2-k[C]/2-1,ee=Qs(w[N],ne),ae=Qs(w[O],ne),ce=ee,ye=F-k[C]-ae,ge=F/2-k[C]/2+M,J=pg(ce,ge,ye),Z=!f.arrow&&Il(a)!=null&&ge!==J&&l.reference[C]/2-(ge<ce?ee:ae)-k[C]/2<0,le=Z?ge<ce?ge-ce:ge-ye:0;return{[P]:b[P]+le,data:{[P]:J,centerOffset:ge-J-le,...Z&&{alignmentOffset:le}},reset:Z}}}),u4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:l,rects:c,initialPlacement:h,platform:f,elements:m}=t,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:b,fallbackStrategy:P="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:k=!0,...R}=ns(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const N=rs(a),O=bi(h),A=rs(h)===h,$=await(f.isRTL==null?void 0:f.isRTL(m.floating)),z=b||(A||!k?[yh(h)]:n4(h)),H=C!=="none";!b&&H&&z.push(...o4(h,k,C,$));const F=[h,...z],M=await iu(t,R),ne=[];let ee=((r=l.flip)==null?void 0:r.overflows)||[];if(y&&ne.push(M[N]),w){const ge=t4(a,c,$);ne.push(M[ge[0]],M[ge[1]])}if(ee=[...ee,{placement:a,overflows:ne}],!ne.every(ge=>ge<=0)){var ae,ce;const ge=(((ae=l.flip)==null?void 0:ae.index)||0)+1,J=F[ge];if(J&&(!(w==="alignment"?O!==bi(J):!1)||ee.every(D=>bi(D.placement)===O?D.overflows[0]>0:!0)))return{data:{index:ge,overflows:ee},reset:{placement:J}};let Z=(ce=ee.filter(le=>le.overflows[0]<=0).sort((le,D)=>le.overflows[1]-D.overflows[1])[0])==null?void 0:ce.placement;if(!Z)switch(P){case"bestFit":{var ye;const le=(ye=ee.filter(D=>{if(H){const re=bi(D.placement);return re===O||re==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(re=>re>0).reduce((re,q)=>re+q,0)]).sort((D,re)=>D[1]-re[1])[0])==null?void 0:ye[0];le&&(Z=le);break}case"initialPlacement":Z=h;break}if(a!==Z)return{reset:{placement:Z}}}return{}}}};function ox(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ax(e){return JB.some(t=>e[t]>=0)}const d4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=ns(e,t);switch(r){case"referenceHidden":{const l=await iu(t,{...a,elementContext:"reference"}),c=ox(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:ax(c)}}}case"escaped":{const l=await iu(t,{...a,altBoundary:!0}),c=ox(l,n.floating);return{data:{escapedOffsets:c,escaped:ax(c)}}}default:return{}}}}},_1=new Set(["left","top"]);async function h4(e,t){const{placement:n,platform:r,elements:a}=e,l=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=rs(n),h=Il(n),f=bi(n)==="y",m=_1.has(c)?-1:1,y=l&&f?-1:1,w=ns(t,e);let{mainAxis:b,crossAxis:P,alignmentAxis:C}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof C=="number"&&(P=h==="end"?C*-1:C),f?{x:P*y,y:b*m}:{x:b*m,y:P*y}}const f4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:l,placement:c,middlewareData:h}=t,f=await h4(t,e);return c===((n=h.offset)==null?void 0:n.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:a+f.x,y:l+f.y,data:{...f,placement:c}}}}},p4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:h={fn:R=>{let{x:N,y:O}=R;return{x:N,y:O}}},...f}=ns(e,t),m={x:n,y:r},y=await iu(t,f),w=bi(rs(a)),b=zv(w);let P=m[b],C=m[w];if(l){const R=b==="y"?"top":"left",N=b==="y"?"bottom":"right",O=P+y[R],A=P-y[N];P=pg(O,P,A)}if(c){const R=w==="y"?"top":"left",N=w==="y"?"bottom":"right",O=C+y[R],A=C-y[N];C=pg(O,C,A)}const k=h.fn({...t,[b]:P,[w]:C});return{...k,data:{x:k.x-n,y:k.y-r,enabled:{[b]:l,[w]:c}}}}}},m4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:l,middlewareData:c}=t,{offset:h=0,mainAxis:f=!0,crossAxis:m=!0}=ns(e,t),y={x:n,y:r},w=bi(a),b=zv(w);let P=y[b],C=y[w];const k=ns(h,t),R=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(f){const A=b==="y"?"height":"width",$=l.reference[b]-l.floating[A]+R.mainAxis,z=l.reference[b]+l.reference[A]-R.mainAxis;P<$?P=$:P>z&&(P=z)}if(m){var N,O;const A=b==="y"?"width":"height",$=_1.has(rs(a)),z=l.reference[w]-l.floating[A]+($&&((N=c.offset)==null?void 0:N[w])||0)+($?0:R.crossAxis),H=l.reference[w]+l.reference[A]+($?0:((O=c.offset)==null?void 0:O[w])||0)-($?R.crossAxis:0);C<z?C=z:C>H&&(C=H)}return{[b]:P,[w]:C}}}},g4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:l,platform:c,elements:h}=t,{apply:f=()=>{},...m}=ns(e,t),y=await iu(t,m),w=rs(a),b=Il(a),P=bi(a)==="y",{width:C,height:k}=l.floating;let R,N;w==="top"||w==="bottom"?(R=w,N=b===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(N=w,R=b==="end"?"top":"bottom");const O=k-y.top-y.bottom,A=C-y.left-y.right,$=Qs(k-y[R],O),z=Qs(C-y[N],A),H=!t.middlewareData.shift;let F=$,M=z;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=A),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=O),H&&!b){const ee=ir(y.left,0),ae=ir(y.right,0),ce=ir(y.top,0),ye=ir(y.bottom,0);P?M=C-2*(ee!==0||ae!==0?ee+ae:ir(y.left,y.right)):F=k-2*(ce!==0||ye!==0?ce+ye:ir(y.top,y.bottom))}await f({...t,availableWidth:M,availableHeight:F});const ne=await c.getDimensions(h.floating);return C!==ne.width||k!==ne.height?{reset:{rects:!0}}:{}}}};function $h(){return typeof window<"u"}function Ml(e){return x1(e)?(e.nodeName||"").toLowerCase():"#document"}function lr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ci(e){var t;return(t=(x1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function x1(e){return $h()?e instanceof Node||e instanceof lr(e).Node:!1}function Xr(e){return $h()?e instanceof Element||e instanceof lr(e).Element:!1}function Pi(e){return $h()?e instanceof HTMLElement||e instanceof lr(e).HTMLElement:!1}function lx(e){return!$h()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof lr(e).ShadowRoot}const v4=new Set(["inline","contents"]);function fu(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!v4.has(a)}const y4=new Set(["table","td","th"]);function w4(e){return y4.has(Ml(e))}const _4=[":popover-open",":modal"];function Vh(e){return _4.some(t=>{try{return e.matches(t)}catch{return!1}})}const x4=["transform","translate","scale","rotate","perspective"],b4=["transform","translate","scale","rotate","perspective","filter"],S4=["paint","layout","strict","content"];function Uv(e){const t=$v(),n=Xr(e)?Qr(e):e;return x4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||b4.some(r=>(n.willChange||"").includes(r))||S4.some(r=>(n.contain||"").includes(r))}function k4(e){let t=eo(e);for(;Pi(t)&&!_l(t);){if(Uv(t))return t;if(Vh(t))return null;t=eo(t)}return null}function $v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const E4=new Set(["html","body","#document"]);function _l(e){return E4.has(Ml(e))}function Qr(e){return lr(e).getComputedStyle(e)}function Wh(e){return Xr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eo(e){if(Ml(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lx(e)&&e.host||Ci(e);return lx(t)?t.host:t}function b1(e){const t=eo(e);return _l(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pi(t)&&fu(t)?t:b1(t)}function su(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=b1(e),l=a===((r=e.ownerDocument)==null?void 0:r.body),c=lr(a);if(l){const h=gg(c);return t.concat(c,c.visualViewport||[],fu(a)?a:[],h&&n?su(h):[])}return t.concat(a,su(a,[],n))}function gg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function S1(e){const t=Qr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Pi(e),l=a?e.offsetWidth:n,c=a?e.offsetHeight:r,h=vh(n)!==l||vh(r)!==c;return h&&(n=l,r=c),{width:n,height:r,$:h}}function Vv(e){return Xr(e)?e:e.contextElement}function ml(e){const t=Vv(e);if(!Pi(t))return Ei(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:l}=S1(t);let c=(l?vh(n.width):n.width)/r,h=(l?vh(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const P4=Ei(0);function k1(e){const t=lr(e);return!$v()||!t.visualViewport?P4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function T4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==lr(e)?!1:t}function Qo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),l=Vv(e);let c=Ei(1);t&&(r?Xr(r)&&(c=ml(r)):c=ml(e));const h=T4(l,n,r)?k1(l):Ei(0);let f=(a.left+h.x)/c.x,m=(a.top+h.y)/c.y,y=a.width/c.x,w=a.height/c.y;if(l){const b=lr(l),P=r&&Xr(r)?lr(r):r;let C=b,k=gg(C);for(;k&&r&&P!==C;){const R=ml(k),N=k.getBoundingClientRect(),O=Qr(k),A=N.left+(k.clientLeft+parseFloat(O.paddingLeft))*R.x,$=N.top+(k.clientTop+parseFloat(O.paddingTop))*R.y;f*=R.x,m*=R.y,y*=R.x,w*=R.y,f+=A,m+=$,C=lr(k),k=gg(C)}}return wh({width:y,height:w,x:f,y:m})}function Hh(e,t){const n=Wh(e).scrollLeft;return t?t.left+n:Qo(Ci(e)).left+n}function E1(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Hh(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function C4(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const l=a==="fixed",c=Ci(r),h=t?Vh(t.floating):!1;if(r===c||h&&l)return n;let f={scrollLeft:0,scrollTop:0},m=Ei(1);const y=Ei(0),w=Pi(r);if((w||!w&&!l)&&((Ml(r)!=="body"||fu(c))&&(f=Wh(r)),Pi(r))){const P=Qo(r);m=ml(r),y.x=P.x+r.clientLeft,y.y=P.y+r.clientTop}const b=c&&!w&&!l?E1(c,f):Ei(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+y.x+b.x,y:n.y*m.y-f.scrollTop*m.y+y.y+b.y}}function R4(e){return Array.from(e.getClientRects())}function N4(e){const t=Ci(e),n=Wh(e),r=e.ownerDocument.body,a=ir(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=ir(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Hh(e);const h=-n.scrollTop;return Qr(r).direction==="rtl"&&(c+=ir(t.clientWidth,r.clientWidth)-a),{width:a,height:l,x:c,y:h}}const cx=25;function A4(e,t){const n=lr(e),r=Ci(e),a=n.visualViewport;let l=r.clientWidth,c=r.clientHeight,h=0,f=0;if(a){l=a.width,c=a.height;const y=$v();(!y||y&&t==="fixed")&&(h=a.offsetLeft,f=a.offsetTop)}const m=Hh(r);if(m<=0){const y=r.ownerDocument,w=y.body,b=getComputedStyle(w),P=y.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,C=Math.abs(r.clientWidth-w.clientWidth-P);C<=cx&&(l-=C)}else m<=cx&&(l+=m);return{width:l,height:c,x:h,y:f}}const j4=new Set(["absolute","fixed"]);function L4(e,t){const n=Qo(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,l=Pi(e)?ml(e):Ei(1),c=e.clientWidth*l.x,h=e.clientHeight*l.y,f=a*l.x,m=r*l.y;return{width:c,height:h,x:f,y:m}}function ux(e,t,n){let r;if(t==="viewport")r=A4(e,n);else if(t==="document")r=N4(Ci(e));else if(Xr(t))r=L4(t,n);else{const a=k1(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return wh(r)}function P1(e,t){const n=eo(e);return n===t||!Xr(n)||_l(n)?!1:Qr(n).position==="fixed"||P1(n,t)}function O4(e,t){const n=t.get(e);if(n)return n;let r=su(e,[],!1).filter(h=>Xr(h)&&Ml(h)!=="body"),a=null;const l=Qr(e).position==="fixed";let c=l?eo(e):e;for(;Xr(c)&&!_l(c);){const h=Qr(c),f=Uv(c);!f&&h.position==="fixed"&&(a=null),(l?!f&&!a:!f&&h.position==="static"&&!!a&&j4.has(a.position)||fu(c)&&!f&&P1(e,c))?r=r.filter(y=>y!==c):a=h,c=eo(c)}return t.set(e,r),r}function I4(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const c=[...n==="clippingAncestors"?Vh(t)?[]:O4(t,this._c):[].concat(n),r],h=c[0],f=c.reduce((m,y)=>{const w=ux(t,y,a);return m.top=ir(w.top,m.top),m.right=Qs(w.right,m.right),m.bottom=Qs(w.bottom,m.bottom),m.left=ir(w.left,m.left),m},ux(t,h,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function M4(e){const{width:t,height:n}=S1(e);return{width:t,height:n}}function D4(e,t,n){const r=Pi(t),a=Ci(t),l=n==="fixed",c=Qo(e,!0,l,t);let h={scrollLeft:0,scrollTop:0};const f=Ei(0);function m(){f.x=Hh(a)}if(r||!r&&!l)if((Ml(t)!=="body"||fu(a))&&(h=Wh(t)),r){const P=Qo(t,!0,l,t);f.x=P.x+t.clientLeft,f.y=P.y+t.clientTop}else a&&m();l&&!r&&a&&m();const y=a&&!r&&!l?E1(a,h):Ei(0),w=c.left+h.scrollLeft-f.x-y.x,b=c.top+h.scrollTop-f.y-y.y;return{x:w,y:b,width:c.width,height:c.height}}function mm(e){return Qr(e).position==="static"}function dx(e,t){if(!Pi(e)||Qr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ci(e)===n&&(n=n.ownerDocument.body),n}function T1(e,t){const n=lr(e);if(Vh(e))return n;if(!Pi(e)){let a=eo(e);for(;a&&!_l(a);){if(Xr(a)&&!mm(a))return a;a=eo(a)}return n}let r=dx(e,t);for(;r&&w4(r)&&mm(r);)r=dx(r,t);return r&&_l(r)&&mm(r)&&!Uv(r)?n:r||k4(e)||n}const z4=async function(e){const t=this.getOffsetParent||T1,n=this.getDimensions,r=await n(e.floating);return{reference:D4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function B4(e){return Qr(e).direction==="rtl"}const F4={convertOffsetParentRelativeRectToViewportRelativeRect:C4,getDocumentElement:Ci,getClippingRect:I4,getOffsetParent:T1,getElementRects:z4,getClientRects:R4,getDimensions:M4,getScale:ml,isElement:Xr,isRTL:B4};function C1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function U4(e,t){let n=null,r;const a=Ci(e);function l(){var h;clearTimeout(r),(h=n)==null||h.disconnect(),n=null}function c(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:y,top:w,width:b,height:P}=m;if(h||t(),!b||!P)return;const C=Gd(w),k=Gd(a.clientWidth-(y+b)),R=Gd(a.clientHeight-(w+P)),N=Gd(y),A={rootMargin:-C+"px "+-k+"px "+-R+"px "+-N+"px",threshold:ir(0,Qs(1,f))||1};let $=!0;function z(H){const F=H[0].intersectionRatio;if(F!==f){if(!$)return c();F?c(!1,F):r=setTimeout(()=>{c(!1,1e-7)},1e3)}F===1&&!C1(m,e.getBoundingClientRect())&&c(),$=!1}try{n=new IntersectionObserver(z,{...A,root:a.ownerDocument})}catch{n=new IntersectionObserver(z,A)}n.observe(e)}return c(!0),l}function $4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=Vv(e),y=a||l?[...m?su(m):[],...su(t)]:[];y.forEach(N=>{a&&N.addEventListener("scroll",n,{passive:!0}),l&&N.addEventListener("resize",n)});const w=m&&h?U4(m,n):null;let b=-1,P=null;c&&(P=new ResizeObserver(N=>{let[O]=N;O&&O.target===m&&P&&(P.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var A;(A=P)==null||A.observe(t)})),n()}),m&&!f&&P.observe(m),P.observe(t));let C,k=f?Qo(e):null;f&&R();function R(){const N=Qo(e);k&&!C1(k,N)&&n(),k=N,C=requestAnimationFrame(R)}return n(),()=>{var N;y.forEach(O=>{a&&O.removeEventListener("scroll",n),l&&O.removeEventListener("resize",n)}),w==null||w(),(N=P)==null||N.disconnect(),P=null,f&&cancelAnimationFrame(C)}}const V4=f4,W4=p4,H4=u4,K4=g4,G4=d4,hx=c4,Z4=m4,q4=(e,t,n)=>{const r=new Map,a={platform:F4,...n},l={...a.platform,_c:r};return l4(e,t,{...a,platform:l})};var Y4=typeof document<"u",J4=function(){},rh=Y4?E.useLayoutEffect:J4;function _h(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!_h(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const l=a[r];if(!(l==="_owner"&&e.$$typeof)&&!_h(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function R1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fx(e,t){const n=R1(e);return Math.round(t*n)/n}function gm(e){const t=E.useRef(e);return rh(()=>{t.current=e}),t}function X4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:l,floating:c}={},transform:h=!0,whileElementsMounted:f,open:m}=e,[y,w]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,P]=E.useState(r);_h(b,r)||P(r);const[C,k]=E.useState(null),[R,N]=E.useState(null),O=E.useCallback(D=>{D!==H.current&&(H.current=D,k(D))},[]),A=E.useCallback(D=>{D!==F.current&&(F.current=D,N(D))},[]),$=l||C,z=c||R,H=E.useRef(null),F=E.useRef(null),M=E.useRef(y),ne=f!=null,ee=gm(f),ae=gm(a),ce=gm(m),ye=E.useCallback(()=>{if(!H.current||!F.current)return;const D={placement:t,strategy:n,middleware:b};ae.current&&(D.platform=ae.current),q4(H.current,F.current,D).then(re=>{const q={...re,isPositioned:ce.current!==!1};ge.current&&!_h(M.current,q)&&(M.current=q,El.flushSync(()=>{w(q)}))})},[b,t,n,ae,ce]);rh(()=>{m===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,w(D=>({...D,isPositioned:!1})))},[m]);const ge=E.useRef(!1);rh(()=>(ge.current=!0,()=>{ge.current=!1}),[]),rh(()=>{if($&&(H.current=$),z&&(F.current=z),$&&z){if(ee.current)return ee.current($,z,ye);ye()}},[$,z,ye,ee,ne]);const J=E.useMemo(()=>({reference:H,floating:F,setReference:O,setFloating:A}),[O,A]),Z=E.useMemo(()=>({reference:$,floating:z}),[$,z]),le=E.useMemo(()=>{const D={position:n,left:0,top:0};if(!Z.floating)return D;const re=fx(Z.floating,y.x),q=fx(Z.floating,y.y);return h?{...D,transform:"translate("+re+"px, "+q+"px)",...R1(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:re,top:q}},[n,h,Z.floating,y.x,y.y]);return E.useMemo(()=>({...y,update:ye,refs:J,elements:Z,floatingStyles:le}),[y,ye,J,Z,le])}const Q4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?hx({element:r.current,padding:a}).fn(n):{}:r?hx({element:r,padding:a}).fn(n):{}}}},e3=(e,t)=>({...V4(e),options:[e,t]}),t3=(e,t)=>({...W4(e),options:[e,t]}),n3=(e,t)=>({...Z4(e),options:[e,t]}),r3=(e,t)=>({...H4(e),options:[e,t]}),i3=(e,t)=>({...K4(e),options:[e,t]}),s3=(e,t)=>({...G4(e),options:[e,t]}),o3=(e,t)=>({...Q4(e),options:[e,t]});var a3="Arrow",N1=E.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...l}=e;return v.jsx(Xe.svg,{...l,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});N1.displayName=a3;var l3=N1,Wv="Popper",[A1,j1]=Ti(Wv),[c3,L1]=A1(Wv),O1=e=>{const{__scopePopper:t,children:n}=e,[r,a]=E.useState(null);return v.jsx(c3,{scope:t,anchor:r,onAnchorChange:a,children:n})};O1.displayName=Wv;var I1="PopperAnchor",M1=E.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,l=L1(I1,n),c=E.useRef(null),h=ut(t,c);return E.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:v.jsx(Xe.div,{...a,ref:h})});M1.displayName=I1;var Hv="PopperContent",[u3,d3]=A1(Hv),D1=E.forwardRef((e,t)=>{var ie,fe,be,Se,Oe,Te;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:b=!1,updatePositionStrategy:P="optimized",onPlaced:C,...k}=e,R=L1(Hv,n),[N,O]=E.useState(null),A=ut(t,it=>O(it)),[$,z]=E.useState(null),H=Oh($),F=(H==null?void 0:H.width)??0,M=(H==null?void 0:H.height)??0,ne=r+(l!=="center"?"-"+l:""),ee=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},ae=Array.isArray(m)?m:[m],ce=ae.length>0,ye={padding:ee,boundary:ae.filter(f3),altBoundary:ce},{refs:ge,floatingStyles:J,placement:Z,isPositioned:le,middlewareData:D}=X4({strategy:"fixed",placement:ne,whileElementsMounted:(...it)=>$4(...it,{animationFrame:P==="always"}),elements:{reference:R.anchor},middleware:[e3({mainAxis:a+M,alignmentAxis:c}),f&&t3({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?n3():void 0,...ye}),f&&r3({...ye}),i3({...ye,apply:({elements:it,rects:at,availableWidth:qe,availableHeight:Et})=>{const{width:dt,height:zt}=at.reference,st=it.floating.style;st.setProperty("--radix-popper-available-width",`${qe}px`),st.setProperty("--radix-popper-available-height",`${Et}px`),st.setProperty("--radix-popper-anchor-width",`${dt}px`),st.setProperty("--radix-popper-anchor-height",`${zt}px`)}}),$&&o3({element:$,padding:h}),p3({arrowWidth:F,arrowHeight:M}),b&&s3({strategy:"referenceHidden",...ye})]}),[re,q]=F1(Z),B=Jr(C);pn(()=>{le&&(B==null||B())},[le,B]);const Y=(ie=D.arrow)==null?void 0:ie.x,ue=(fe=D.arrow)==null?void 0:fe.y,he=((be=D.arrow)==null?void 0:be.centerOffset)!==0,[ve,U]=E.useState();return pn(()=>{N&&U(window.getComputedStyle(N).zIndex)},[N]),v.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:le?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(Se=D.transformOrigin)==null?void 0:Se.x,(Oe=D.transformOrigin)==null?void 0:Oe.y].join(" "),...((Te=D.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:v.jsx(u3,{scope:n,placedSide:re,onArrowChange:z,arrowX:Y,arrowY:ue,shouldHideArrow:he,children:v.jsx(Xe.div,{"data-side":re,"data-align":q,...k,ref:A,style:{...k.style,animation:le?void 0:"none"}})})})});D1.displayName=Hv;var z1="PopperArrow",h3={top:"bottom",right:"left",bottom:"top",left:"right"},B1=E.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,l=d3(z1,r),c=h3[l.placedSide];return v.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:v.jsx(l3,{...a,ref:n,style:{...a.style,display:"block"}})})});B1.displayName=z1;function f3(e){return e!==null}var p3=e=>({name:"transformOrigin",options:e,fn(t){var R,N,O;const{placement:n,rects:r,middlewareData:a}=t,c=((R=a.arrow)==null?void 0:R.centerOffset)!==0,h=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[m,y]=F1(n),w={start:"0%",center:"50%",end:"100%"}[y],b=(((N=a.arrow)==null?void 0:N.x)??0)+h/2,P=(((O=a.arrow)==null?void 0:O.y)??0)+f/2;let C="",k="";return m==="bottom"?(C=c?w:`${b}px`,k=`${-f}px`):m==="top"?(C=c?w:`${b}px`,k=`${r.floating.height+f}px`):m==="right"?(C=`${-f}px`,k=c?w:`${P}px`):m==="left"&&(C=`${r.floating.width+f}px`,k=c?w:`${P}px`),{data:{x:C,y:k}}}});function F1(e){const[t,n="center"]=e.split("-");return[t,n]}var m3=O1,g3=M1,v3=D1,y3=B1,w3="VisuallyHidden",U1=E.forwardRef((e,t)=>v.jsx(Xe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));U1.displayName=w3;var _3=[" ","Enter","ArrowUp","ArrowDown"],x3=[" ","Enter"],pu="Select",[Kh,Gh,b3]=Iv(pu),[Dl]=Ti(pu,[b3,j1]),Zh=j1(),[S3,no]=Dl(pu),[k3,E3]=Dl(pu),$1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:l,value:c,defaultValue:h,onValueChange:f,dir:m,name:y,autoComplete:w,disabled:b,required:P,form:C}=e,k=Zh(t),[R,N]=E.useState(null),[O,A]=E.useState(null),[$,z]=E.useState(!1),H=Fh(m),[F=!1,M]=Jo({prop:r,defaultProp:a,onChange:l}),[ne,ee]=Jo({prop:c,defaultProp:h,onChange:f}),ae=E.useRef(null),ce=R?C||!!R.closest("form"):!0,[ye,ge]=E.useState(new Set),J=Array.from(ye).map(Z=>Z.props.value).join(";");return v.jsx(m3,{...k,children:v.jsxs(S3,{required:P,scope:t,trigger:R,onTriggerChange:N,valueNode:O,onValueNodeChange:A,valueNodeHasChildren:$,onValueNodeHasChildrenChange:z,contentId:Yo(),value:ne,onValueChange:ee,open:F,onOpenChange:M,dir:H,triggerPointerDownPosRef:ae,disabled:b,children:[v.jsx(Kh.Provider,{scope:t,children:v.jsx(k3,{scope:e.__scopeSelect,onNativeOptionAdd:E.useCallback(Z=>{ge(le=>new Set(le).add(Z))},[]),onNativeOptionRemove:E.useCallback(Z=>{ge(le=>{const D=new Set(le);return D.delete(Z),D})},[]),children:n})}),ce?v.jsxs(dE,{"aria-hidden":!0,required:P,tabIndex:-1,name:y,autoComplete:w,value:ne,onChange:Z=>ee(Z.target.value),disabled:b,form:C,children:[ne===void 0?v.jsx("option",{value:""}):null,Array.from(ye)]},J):null]})})};$1.displayName=pu;var V1="SelectTrigger",W1=E.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,l=Zh(n),c=no(V1,n),h=c.disabled||r,f=ut(t,c.onTriggerChange),m=Gh(n),y=E.useRef("touch"),[w,b,P]=hE(k=>{const R=m().filter(A=>!A.disabled),N=R.find(A=>A.value===c.value),O=fE(R,k,N);O!==void 0&&c.onValueChange(O.value)}),C=k=>{h||(c.onOpenChange(!0),P()),k&&(c.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return v.jsx(g3,{asChild:!0,...l,children:v.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":uE(c.value)?"":void 0,...a,ref:f,onClick:Je(a.onClick,k=>{k.currentTarget.focus(),y.current!=="mouse"&&C(k)}),onPointerDown:Je(a.onPointerDown,k=>{y.current=k.pointerType;const R=k.target;R.hasPointerCapture(k.pointerId)&&R.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(C(k),k.preventDefault())}),onKeyDown:Je(a.onKeyDown,k=>{const R=w.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&b(k.key),!(R&&k.key===" ")&&_3.includes(k.key)&&(C(),k.preventDefault())})})})});W1.displayName=V1;var H1="SelectValue",K1=E.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:l,placeholder:c="",...h}=e,f=no(H1,n),{onValueNodeHasChildrenChange:m}=f,y=l!==void 0,w=ut(t,f.onValueNodeChange);return pn(()=>{m(y)},[m,y]),v.jsx(Xe.span,{...h,ref:w,style:{pointerEvents:"none"},children:uE(f.value)?v.jsx(v.Fragment,{children:c}):l})});K1.displayName=H1;var P3="SelectIcon",G1=E.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return v.jsx(Xe.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});G1.displayName=P3;var T3="SelectPortal",Z1=e=>v.jsx(Pv,{asChild:!0,...e});Z1.displayName=T3;var ea="SelectContent",q1=E.forwardRef((e,t)=>{const n=no(ea,e.__scopeSelect),[r,a]=E.useState();if(pn(()=>{a(new DocumentFragment)},[]),!n.open){const l=r;return l?El.createPortal(v.jsx(Y1,{scope:e.__scopeSelect,children:v.jsx(Kh.Slot,{scope:e.__scopeSelect,children:v.jsx("div",{children:e.children})})}),l):null}return v.jsx(J1,{...e,ref:t})});q1.displayName=ea;var Kr=10,[Y1,ro]=Dl(ea),C3="SelectContentImpl",J1=E.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:h,sideOffset:f,align:m,alignOffset:y,arrowPadding:w,collisionBoundary:b,collisionPadding:P,sticky:C,hideWhenDetached:k,avoidCollisions:R,...N}=e,O=no(ea,n),[A,$]=E.useState(null),[z,H]=E.useState(null),F=ut(t,ie=>$(ie)),[M,ne]=E.useState(null),[ee,ae]=E.useState(null),ce=Gh(n),[ye,ge]=E.useState(!1),J=E.useRef(!1);E.useEffect(()=>{if(A)return yk(A)},[A]),uk();const Z=E.useCallback(ie=>{const[fe,...be]=ce().map(Te=>Te.ref.current),[Se]=be.slice(-1),Oe=document.activeElement;for(const Te of ie)if(Te===Oe||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===fe&&z&&(z.scrollTop=0),Te===Se&&z&&(z.scrollTop=z.scrollHeight),Te==null||Te.focus(),document.activeElement!==Oe))return},[ce,z]),le=E.useCallback(()=>Z([M,A]),[Z,M,A]);E.useEffect(()=>{ye&&le()},[ye,le]);const{onOpenChange:D,triggerPointerDownPosRef:re}=O;E.useEffect(()=>{if(A){let ie={x:0,y:0};const fe=Se=>{var Oe,Te;ie={x:Math.abs(Math.round(Se.pageX)-(((Oe=re.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Se.pageY)-(((Te=re.current)==null?void 0:Te.y)??0))}},be=Se=>{ie.x<=10&&ie.y<=10?Se.preventDefault():A.contains(Se.target)||D(!1),document.removeEventListener("pointermove",fe),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",be,{capture:!0})}}},[A,D,re]),E.useEffect(()=>{const ie=()=>D(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[D]);const[q,B]=hE(ie=>{const fe=ce().filter(Oe=>!Oe.disabled),be=fe.find(Oe=>Oe.ref.current===document.activeElement),Se=fE(fe,ie,be);Se&&setTimeout(()=>Se.ref.current.focus())}),Y=E.useCallback((ie,fe,be)=>{const Se=!J.current&&!be;(O.value!==void 0&&O.value===fe||Se)&&(ne(ie),Se&&(J.current=!0))},[O.value]),ue=E.useCallback(()=>A==null?void 0:A.focus(),[A]),he=E.useCallback((ie,fe,be)=>{const Se=!J.current&&!be;(O.value!==void 0&&O.value===fe||Se)&&ae(ie)},[O.value]),ve=r==="popper"?vg:X1,U=ve===vg?{side:h,sideOffset:f,align:m,alignOffset:y,arrowPadding:w,collisionBoundary:b,collisionPadding:P,sticky:C,hideWhenDetached:k,avoidCollisions:R}:{};return v.jsx(Y1,{scope:n,content:A,viewport:z,onViewportChange:H,itemRefCallback:Y,selectedItem:M,onItemLeave:ue,itemTextRefCallback:he,focusSelectedItem:le,selectedItemText:ee,position:r,isPositioned:ye,searchRef:q,children:v.jsx(Tv,{as:Xs,allowPinchZoom:!0,children:v.jsx(Ev,{asChild:!0,trapped:O.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Je(a,ie=>{var fe;(fe=O.trigger)==null||fe.focus({preventScroll:!0}),ie.preventDefault()}),children:v.jsx(kv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:v.jsx(ve,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:ie=>ie.preventDefault(),...N,...U,onPlaced:()=>ge(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Je(N.onKeyDown,ie=>{const fe=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!fe&&ie.key.length===1&&B(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Se=ce().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Oe=ie.target,Te=Se.indexOf(Oe);Se=Se.slice(Te+1)}setTimeout(()=>Z(Se)),ie.preventDefault()}})})})})})})});J1.displayName=C3;var R3="SelectItemAlignedPosition",X1=E.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,l=no(ea,n),c=ro(ea,n),[h,f]=E.useState(null),[m,y]=E.useState(null),w=ut(t,F=>y(F)),b=Gh(n),P=E.useRef(!1),C=E.useRef(!0),{viewport:k,selectedItem:R,selectedItemText:N,focusSelectedItem:O}=c,A=E.useCallback(()=>{if(l.trigger&&l.valueNode&&h&&m&&k&&R&&N){const F=l.trigger.getBoundingClientRect(),M=m.getBoundingClientRect(),ne=l.valueNode.getBoundingClientRect(),ee=N.getBoundingClientRect();if(l.dir!=="rtl"){const Oe=ee.left-M.left,Te=ne.left-Oe,it=F.left-Te,at=F.width+it,qe=Math.max(at,M.width),Et=window.innerWidth-Kr,dt=gh(Te,[Kr,Math.max(Kr,Et-qe)]);h.style.minWidth=at+"px",h.style.left=dt+"px"}else{const Oe=M.right-ee.right,Te=window.innerWidth-ne.right-Oe,it=window.innerWidth-F.right-Te,at=F.width+it,qe=Math.max(at,M.width),Et=window.innerWidth-Kr,dt=gh(Te,[Kr,Math.max(Kr,Et-qe)]);h.style.minWidth=at+"px",h.style.right=dt+"px"}const ae=b(),ce=window.innerHeight-Kr*2,ye=k.scrollHeight,ge=window.getComputedStyle(m),J=parseInt(ge.borderTopWidth,10),Z=parseInt(ge.paddingTop,10),le=parseInt(ge.borderBottomWidth,10),D=parseInt(ge.paddingBottom,10),re=J+Z+ye+D+le,q=Math.min(R.offsetHeight*5,re),B=window.getComputedStyle(k),Y=parseInt(B.paddingTop,10),ue=parseInt(B.paddingBottom,10),he=F.top+F.height/2-Kr,ve=ce-he,U=R.offsetHeight/2,ie=R.offsetTop+U,fe=J+Z+ie,be=re-fe;if(fe<=he){const Oe=ae.length>0&&R===ae[ae.length-1].ref.current;h.style.bottom="0px";const Te=m.clientHeight-k.offsetTop-k.offsetHeight,it=Math.max(ve,U+(Oe?ue:0)+Te+le),at=fe+it;h.style.height=at+"px"}else{const Oe=ae.length>0&&R===ae[0].ref.current;h.style.top="0px";const it=Math.max(he,J+k.offsetTop+(Oe?Y:0)+U)+be;h.style.height=it+"px",k.scrollTop=fe-he+k.offsetTop}h.style.margin=`${Kr}px 0`,h.style.minHeight=q+"px",h.style.maxHeight=ce+"px",r==null||r(),requestAnimationFrame(()=>P.current=!0)}},[b,l.trigger,l.valueNode,h,m,k,R,N,l.dir,r]);pn(()=>A(),[A]);const[$,z]=E.useState();pn(()=>{m&&z(window.getComputedStyle(m).zIndex)},[m]);const H=E.useCallback(F=>{F&&C.current===!0&&(A(),O==null||O(),C.current=!1)},[A,O]);return v.jsx(A3,{scope:n,contentWrapper:h,shouldExpandOnScrollRef:P,onScrollButtonChange:H,children:v.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:v.jsx(Xe.div,{...a,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});X1.displayName=R3;var N3="SelectPopperPosition",vg=E.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Kr,...l}=e,c=Zh(n);return v.jsx(v3,{...c,...l,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vg.displayName=N3;var[A3,Kv]=Dl(ea,{}),yg="SelectViewport",Q1=E.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,l=ro(yg,n),c=Kv(yg,n),h=ut(t,l.onViewportChange),f=E.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(Kh.Slot,{scope:n,children:v.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Je(a.onScroll,m=>{const y=m.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:b}=c;if(b!=null&&b.current&&w){const P=Math.abs(f.current-y.scrollTop);if(P>0){const C=window.innerHeight-Kr*2,k=parseFloat(w.style.minHeight),R=parseFloat(w.style.height),N=Math.max(k,R);if(N<C){const O=N+P,A=Math.min(C,O),$=O-A;w.style.height=A+"px",w.style.bottom==="0px"&&(y.scrollTop=$>0?$:0,w.style.justifyContent="flex-end")}}}f.current=y.scrollTop})})})]})});Q1.displayName=yg;var eE="SelectGroup",[j3,L3]=Dl(eE),O3=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Yo();return v.jsx(j3,{scope:n,id:a,children:v.jsx(Xe.div,{role:"group","aria-labelledby":a,...r,ref:t})})});O3.displayName=eE;var tE="SelectLabel",I3=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=L3(tE,n);return v.jsx(Xe.div,{id:a.id,...r,ref:t})});I3.displayName=tE;var xh="SelectItem",[M3,nE]=Dl(xh),rE=E.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:l,...c}=e,h=no(xh,n),f=ro(xh,n),m=h.value===r,[y,w]=E.useState(l??""),[b,P]=E.useState(!1),C=ut(t,O=>{var A;return(A=f.itemRefCallback)==null?void 0:A.call(f,O,r,a)}),k=Yo(),R=E.useRef("touch"),N=()=>{a||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(M3,{scope:n,value:r,disabled:a,textId:k,isSelected:m,onItemTextChange:E.useCallback(O=>{w(A=>A||((O==null?void 0:O.textContent)??"").trim())},[]),children:v.jsx(Kh.ItemSlot,{scope:n,value:r,disabled:a,textValue:y,children:v.jsx(Xe.div,{role:"option","aria-labelledby":k,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:C,onFocus:Je(c.onFocus,()=>P(!0)),onBlur:Je(c.onBlur,()=>P(!1)),onClick:Je(c.onClick,()=>{R.current!=="mouse"&&N()}),onPointerUp:Je(c.onPointerUp,()=>{R.current==="mouse"&&N()}),onPointerDown:Je(c.onPointerDown,O=>{R.current=O.pointerType}),onPointerMove:Je(c.onPointerMove,O=>{var A;R.current=O.pointerType,a?(A=f.onItemLeave)==null||A.call(f):R.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(c.onPointerLeave,O=>{var A;O.currentTarget===document.activeElement&&((A=f.onItemLeave)==null||A.call(f))}),onKeyDown:Je(c.onKeyDown,O=>{var $;(($=f.searchRef)==null?void 0:$.current)!==""&&O.key===" "||(x3.includes(O.key)&&N(),O.key===" "&&O.preventDefault())})})})})});rE.displayName=xh;var Ic="SelectItemText",iE=E.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...l}=e,c=no(Ic,n),h=ro(Ic,n),f=nE(Ic,n),m=E3(Ic,n),[y,w]=E.useState(null),b=ut(t,N=>w(N),f.onItemTextChange,N=>{var O;return(O=h.itemTextRefCallback)==null?void 0:O.call(h,N,f.value,f.disabled)}),P=y==null?void 0:y.textContent,C=E.useMemo(()=>v.jsx("option",{value:f.value,disabled:f.disabled,children:P},f.value),[f.disabled,f.value,P]),{onNativeOptionAdd:k,onNativeOptionRemove:R}=m;return pn(()=>(k(C),()=>R(C)),[k,R,C]),v.jsxs(v.Fragment,{children:[v.jsx(Xe.span,{id:f.textId,...l,ref:b}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?El.createPortal(l.children,c.valueNode):null]})});iE.displayName=Ic;var sE="SelectItemIndicator",oE=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return nE(sE,n).isSelected?v.jsx(Xe.span,{"aria-hidden":!0,...r,ref:t}):null});oE.displayName=sE;var wg="SelectScrollUpButton",aE=E.forwardRef((e,t)=>{const n=ro(wg,e.__scopeSelect),r=Kv(wg,e.__scopeSelect),[a,l]=E.useState(!1),c=ut(t,r.onScrollButtonChange);return pn(()=>{if(n.viewport&&n.isPositioned){let h=function(){const m=f.scrollTop>0;l(m)};const f=n.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),a?v.jsx(cE,{...e,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=n;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});aE.displayName=wg;var _g="SelectScrollDownButton",lE=E.forwardRef((e,t)=>{const n=ro(_g,e.__scopeSelect),r=Kv(_g,e.__scopeSelect),[a,l]=E.useState(!1),c=ut(t,r.onScrollButtonChange);return pn(()=>{if(n.viewport&&n.isPositioned){let h=function(){const m=f.scrollHeight-f.clientHeight,y=Math.ceil(f.scrollTop)<m;l(y)};const f=n.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),a?v.jsx(cE,{...e,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=n;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});lE.displayName=_g;var cE=E.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,l=ro("SelectScrollButton",n),c=E.useRef(null),h=Gh(n),f=E.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return E.useEffect(()=>()=>f(),[f]),pn(()=>{var y;const m=h().find(w=>w.ref.current===document.activeElement);(y=m==null?void 0:m.ref.current)==null||y.scrollIntoView({block:"nearest"})},[h]),v.jsx(Xe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Je(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Je(a.onPointerMove,()=>{var m;(m=l.onItemLeave)==null||m.call(l),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Je(a.onPointerLeave,()=>{f()})})}),D3="SelectSeparator",z3=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return v.jsx(Xe.div,{"aria-hidden":!0,...r,ref:t})});z3.displayName=D3;var xg="SelectArrow",B3=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Zh(n),l=no(xg,n),c=ro(xg,n);return l.open&&c.position==="popper"?v.jsx(y3,{...a,...r,ref:t}):null});B3.displayName=xg;function uE(e){return e===""||e===void 0}var dE=E.forwardRef((e,t)=>{const{value:n,...r}=e,a=E.useRef(null),l=ut(t,a),c=Lh(n);return E.useEffect(()=>{const h=a.current,f=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==n&&y){const w=new Event("change",{bubbles:!0});y.call(h,n),h.dispatchEvent(w)}},[c,n]),v.jsx(U1,{asChild:!0,children:v.jsx("select",{...r,ref:l,defaultValue:n})})});dE.displayName="BubbleSelect";function hE(e){const t=Jr(e),n=E.useRef(""),r=E.useRef(0),a=E.useCallback(c=>{const h=n.current+c;t(h),(function f(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>f(""),1e3))})(h)},[t]),l=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,l]}function fE(e,t,n){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=F3(e,Math.max(l,0));a.length===1&&(c=c.filter(m=>m!==n));const f=c.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return f!==n?f:void 0}function F3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var U3=$1,$3=W1,V3=K1,W3=G1,H3=Z1,K3=q1,G3=Q1,Z3=rE,q3=iE,Y3=oE,J3=aE,X3=lE;function Q3({...e}){return v.jsx(U3,{"data-slot":"select",...e})}function e5({...e}){return v.jsx(V3,{"data-slot":"select-value",...e})}function t5({className:e,size:t="default",children:n,...r}){return v.jsxs($3,{"data-slot":"select-trigger","data-size":t,className:Lt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,v.jsx(W3,{asChild:!0,children:v.jsx(FS,{className:"size-4 opacity-50"})})]})}function n5({className:e,children:t,position:n="popper",...r}){return v.jsx(H3,{children:v.jsxs(K3,{"data-slot":"select-content",className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[v.jsx(r5,{}),v.jsx(G3,{className:Lt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),v.jsx(i5,{})]})})}function vm({className:e,children:t,...n}){return v.jsxs(Z3,{"data-slot":"select-item",className:Lt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[v.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:v.jsx(Y3,{children:v.jsx(wv,{className:"size-4"})})}),v.jsx(q3,{children:t})]})}function r5({className:e,...t}){return v.jsx(J3,{"data-slot":"select-scroll-up-button",className:Lt("flex cursor-default items-center justify-center py-1",e),...t,children:v.jsx(wI,{className:"size-4"})})}function i5({className:e,...t}){return v.jsx(X3,{"data-slot":"select-scroll-down-button",className:Lt("flex cursor-default items-center justify-center py-1",e),...t,children:v.jsx(FS,{className:"size-4"})})}function s5(){const{id:e}=pT(),t=mn(),{user:n}=ni(),[r,a]=E.useState(null),[l,c]=E.useState([]),[h,f]=E.useState("cheapest"),[m,y]=E.useState(!0),[w,b]=E.useState(0),[P,C]=E.useState(null);E.useEffect(()=>{e&&k()},[e,h]);const k=async()=>{try{y(!0);const z=await Bc.getById(e);a(z);const H=await Ho.getByProduct(e,h);if(c(H),H.length>0){const ne=H.reduce((ee,ae)=>ee+ae.price,0);b(ne/H.length)}const F=new Date;F.setHours(0,0,0,0);const M=H.filter(ne=>new Date(ne.created_at||ne.createdAt||"")>=F);if(M.length>0){const ne=M.reduce((ee,ae)=>ae.price<ee.price?ae:ee);C(ne)}}catch(z){console.error("Failed to load product data:",z),Re.error("rn bilgileri yklenemedi")}finally{y(!1)}},R=async z=>{if(!n){Re.error("Giri yapmanz gerekiyor");return}try{await Ho.verify(z),Re.success("Fiyat doruland"),k()}catch(H){Re.error(H.message||"Dorulama baarsz")}},N=async z=>{if(!n){Re.error("Giri yapmanz gerekiyor");return}try{await Ho.report(z),Re.success("Fiyat rapor edildi")}catch(H){Re.error(H.message||"Raporlama baarsz")}},O=z=>z.toFixed(2).replace(".",","),A=z=>{if(!z)return"Bilinmiyor";const H=new Date(z),M=new Date().getTime()-H.getTime(),ne=Math.floor(M/6e4),ee=Math.floor(ne/60),ae=Math.floor(ee/24);return ne<1?"Az nce":ne<60?`${ne} dakika nce`:ee<24?`${ee} saat nce`:ae===1?"1 gn nce":`${ae} gn nce`},$=z=>{if(!z)return!0;const H=new Date(z);return Math.floor((new Date().getTime()-H.getTime())/(1e3*60*60*24))>1};return m?v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:v.jsx("div",{className:"text-gray-500",children:"Ykleniyor..."})}):r?v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 z-10",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full",children:v.jsx(Nl,{className:"w-5 h-5"})}),v.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[v.jsxs("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0 overflow-hidden",children:[r.image?v.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover",onError:z=>{var H;z.target.style.display="none",(H=z.target.nextElementSibling)==null||H.classList.remove("hidden")}}):null,v.jsx(qr,{className:`w-6 h-6 text-gray-400 ${r.image?"hidden":""}`})]}),v.jsx("h1",{className:"text-xl",children:r.name})]})]})}),v.jsx("div",{className:"bg-white p-6 border-b border-gray-200",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsxs("div",{className:"w-20 h-20 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0 overflow-hidden",children:[r.image?v.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover",onError:z=>{var H;z.target.style.display="none",(H=z.target.nextElementSibling)==null||H.classList.remove("hidden")}}):null,v.jsx(qr,{className:`w-10 h-10 text-gray-400 ${r.image?"hidden":""}`})]}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Ortalama fiyat"}),v.jsxs("div",{className:"text-3xl text-gray-900 mb-3",children:[O(w)," TL"]}),P&&v.jsxs("div",{className:"text-sm text-green-600",children:["Bugn en ucuz: ",O(P.price)," TL"]})]})]})}),l.some(z=>z.photo)&&(()=>{const z=l.filter(F=>F.photo);let H=[...z];switch(h){case"cheapest":H.sort((F,M)=>F.price-M.price);break;case"newest":H.sort((F,M)=>{const ne=new Date(F.created_at||F.createdAt||0).getTime();return new Date(M.created_at||M.createdAt||0).getTime()-ne});break;case"verified":H.sort((F,M)=>{const ne=F.is_verified||F.isVerified?1:0,ee=M.is_verified||M.isVerified?1:0;if(ne!==ee)return ee-ne;const ae=new Date(F.created_at||F.createdAt||0).getTime();return new Date(M.created_at||M.createdAt||0).getTime()-ae});break}return v.jsxs("div",{className:"bg-white p-4 border-b border-gray-200",children:[v.jsxs("h2",{className:"text-lg font-semibold mb-3",children:["Bu rn in Eklenen Tm Resimler (",z.length,")"]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:H.map(F=>{var ee,ae,ce;const M=F.id||F._id||"",ne=F.is_verified||F.isVerified||!1;return v.jsxs("div",{className:"relative group",children:[v.jsx("img",{src:F.photo,alt:r.name,className:"w-full h-32 sm:h-40 object-cover rounded-lg border border-gray-200 cursor-pointer hover:opacity-80 transition-opacity",onError:ye=>{ye.target.style.display="none"}}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/60 to-transparent text-white text-xs p-2 rounded-b-lg",children:v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"font-semibold",children:[O(F.price)," "]}),ne&&v.jsx(Zo,{className:"w-4 h-4 text-green-400 flex-shrink-0"})]}),v.jsx("div",{className:"text-xs opacity-90",children:(ee=F.location)==null?void 0:ee.name}),F.user&&v.jsxs("div",{className:"flex items-center gap-1.5 pt-1 border-t border-white/20",children:[v.jsxs(hl,{className:"w-4 h-4",children:[v.jsx(fl,{src:F.user.avatar}),v.jsx(pl,{className:"bg-green-600 text-white text-[10px]",children:((ce=(ae=F.user.name)==null?void 0:ae.charAt(0))==null?void 0:ce.toUpperCase())||"U"})]}),v.jsx("span",{className:"text-xs opacity-90 truncate",children:F.user.name})]})]})})]},M)})})]})})(),v.jsx("div",{className:"bg-white p-4 border-b border-gray-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h2",{children:"Mevcut Fiyatlar"}),v.jsxs(Q3,{value:h,onValueChange:z=>f(z),children:[v.jsx(t5,{className:"w-[160px]",children:v.jsx(e5,{})}),v.jsxs(n5,{children:[v.jsx(vm,{value:"cheapest",children:"En ucuz"}),v.jsx(vm,{value:"newest",children:"En yeni"}),v.jsx(vm,{value:"verified",children:"En gvenilir"})]})]})]})}),v.jsx("div",{className:"p-4 space-y-3",children:l.length>0?l.map(z=>{var ce,ye,ge,J,Z,le,D;const H=z.id||z._id||"",F=z.created_at||z.createdAt||"",M=z.is_verified||z.isVerified||!1,ne=((ce=z.user)==null?void 0:ce.id)||((ye=z.user)==null?void 0:ye._id)||"",ee=(ge=z.location)==null?void 0:ge.coordinates,ae=ee&&(ee.x!==void 0||ee.lat!==void 0);return v.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0 overflow-hidden border-2 border-gray-200",children:[z.photo?v.jsxs(v.Fragment,{children:[v.jsx("img",{src:z.photo,alt:`${((J=z.product)==null?void 0:J.name)||r.name} - Kullanc fotoraf`,className:"w-full h-full object-cover",title:"Kullanc tarafndan yklenen fotoraf",onError:re=>{var q;console.error("User photo failed to load:",z.photo),re.target.style.display="none",(q=re.target.nextElementSibling)==null||q.classList.remove("hidden")}}),v.jsx("div",{className:"absolute top-1 right-1 bg-green-600 text-white text-[10px] px-1.5 py-0.5 rounded-full font-semibold shadow-md",children:""})]}):null,v.jsx(qr,{className:`w-8 h-8 text-gray-400 ${z.photo?"hidden":""}`})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex justify-between items-start mb-3",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"text-2xl text-green-600 font-semibold",children:[O(z.price)," TL"," ",v.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["/ ",z.unit]})]}),v.jsx("div",{className:"text-sm text-gray-600 mt-1",children:((Z=z.location)==null?void 0:Z.name)||"Bilinmeyen konum"})]}),$(F)?v.jsx(Yr,{variant:"secondary",className:"ml-2 flex-shrink-0",children:"Eski fiyat"}):v.jsx(Yr,{className:"bg-green-600 ml-2 flex-shrink-0",children:"BUGN"})]}),v.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(kn,{className:"w-4 h-4"}),ae?"Konum mevcut":"Konum yok"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Wc,{className:"w-4 h-4"}),A(F)]}),M&&v.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[v.jsx(Zo,{className:"w-4 h-4"}),"Dorulanm"]})]}),z.user&&v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsxs(hl,{className:"w-6 h-6",children:[v.jsx(fl,{src:z.user.avatar}),v.jsx(pl,{className:"bg-green-600 text-white text-xs",children:((D=(le=z.user.name)==null?void 0:le.charAt(0))==null?void 0:D.toUpperCase())||"U"})]}),v.jsx("span",{className:"text-sm text-gray-600",children:z.user.name})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(bt,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>R(H),disabled:!n||ne===n.id,children:[v.jsx(aM,{className:"w-4 h-4 mr-2"}),"Dorula"]}),v.jsx(bt,{variant:"outline",size:"sm",onClick:()=>N(H),disabled:!n,children:v.jsx(NI,{className:"w-4 h-4"})})]})]})]})},H)}):v.jsx("div",{className:"text-center py-8 text-gray-500",children:"Bu rn iin henz fiyat girilmemi"})})]}):v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:v.jsx("div",{className:"text-gray-500",children:"rn bulunamad"})})}const o5=[{id:1,product:"Domates",price:"12,00",unit:"kg",time:"2 saat nce"},{id:2,product:"Patates",price:"8,50",unit:"kg",time:"2 saat nce"},{id:3,product:"Soan",price:"7,00",unit:"kg",time:"3 saat nce"}];function a5(){const e=mn();return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 z-10",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full",children:v.jsx(Nl,{className:"w-5 h-5"})}),v.jsx("h1",{className:"text-xl",children:"Yazr Pazar"})]})}),v.jsxs("div",{className:"bg-white p-6 border-b border-gray-200",children:[v.jsx(Yr,{variant:"secondary",className:"mb-3",children:"Pazar"}),v.jsxs("div",{className:"flex items-start gap-2 text-gray-600 mb-4",children:[v.jsx(kn,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),v.jsx("span",{children:"Seluklu / Konya"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(bt,{className:"flex-1 bg-green-600 hover:bg-green-700",children:[v.jsx(_v,{className:"w-4 h-4 mr-2"}),"Yol Tarifi Al"]}),v.jsx(bt,{variant:"outline",children:v.jsx(VS,{className:"w-4 h-4"})})]})]}),v.jsxs("div",{className:"p-4",children:[v.jsx("h2",{className:"text-lg mb-3",children:"Bu yerdeki fiyatlar"}),v.jsx("div",{className:"space-y-3",children:o5.map(t=>v.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg",children:t.product}),v.jsxs("p",{className:"text-2xl text-green-600",children:[t.price," TL ",v.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",t.unit]})]})]}),v.jsx(Yr,{className:"bg-green-600",children:"BUGN"})]}),v.jsx("p",{className:"text-sm text-gray-500",children:t.time})]},t.id))})]})]})}const px=[{id:1,icon:cM,text:"Domates fiyat dt",time:"2 saat nce",color:"text-green-600"},{id:2,icon:kn,text:"Yaknnda ucuz rn var",time:"5 saat nce",color:"text-blue-600"},{id:3,icon:Zo,text:"Paylamn doruland",time:"1 gn nce",color:"text-green-600"}];function l5(){const e=mn();return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 z-10",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full",children:v.jsx(Nl,{className:"w-5 h-5"})}),v.jsx("h1",{className:"text-xl",children:"Bildirimler"})]})}),px.length>0?v.jsx("div",{className:"p-4 space-y-2",children:px.map(t=>v.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(t.icon,{className:`w-5 h-5 flex-shrink-0 ${t.color}`}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"text-gray-900",children:t.text}),v.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t.time})]})]})},t.id))}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-gray-400",children:[v.jsx(yv,{className:"w-16 h-16 mb-4"}),v.jsx("p",{children:"Henz bildirim yok"})]})]})}var pE=["PageUp","PageDown"],mE=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],gE={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},zl="Slider",[bg,c5,u5]=Iv(zl),[vE]=Ti(zl,[u5]),[d5,qh]=vE(zl),yE=E.forwardRef((e,t)=>{const{name:n,min:r=0,max:a=100,step:l=1,orientation:c="horizontal",disabled:h=!1,minStepsBetweenThumbs:f=0,defaultValue:m=[r],value:y,onValueChange:w=()=>{},onValueCommit:b=()=>{},inverted:P=!1,form:C,...k}=e,R=E.useRef(new Set),N=E.useRef(0),A=c==="horizontal"?h5:f5,[$=[],z]=Jo({prop:y,defaultProp:m,onChange:ae=>{var ye;(ye=[...R.current][N.current])==null||ye.focus(),w(ae)}}),H=E.useRef($);function F(ae){const ce=y5($,ae);ee(ae,ce)}function M(ae){ee(ae,N.current)}function ne(){const ae=H.current[N.current];$[N.current]!==ae&&b($)}function ee(ae,ce,{commit:ye}={commit:!1}){const ge=b5(l),J=S5(Math.round((ae-r)/l)*l+r,ge),Z=gh(J,[r,a]);z((le=[])=>{const D=g5(le,Z,ce);if(x5(D,f*l)){N.current=D.indexOf(Z);const re=String(D)!==String(le);return re&&ye&&b(D),re?D:le}else return le})}return v.jsx(d5,{scope:e.__scopeSlider,name:n,disabled:h,min:r,max:a,valueIndexToChangeRef:N,thumbs:R.current,values:$,orientation:c,form:C,children:v.jsx(bg.Provider,{scope:e.__scopeSlider,children:v.jsx(bg.Slot,{scope:e.__scopeSlider,children:v.jsx(A,{"aria-disabled":h,"data-disabled":h?"":void 0,...k,ref:t,onPointerDown:Je(k.onPointerDown,()=>{h||(H.current=$)}),min:r,max:a,inverted:P,onSlideStart:h?void 0:F,onSlideMove:h?void 0:M,onSlideEnd:h?void 0:ne,onHomeKeyDown:()=>!h&&ee(r,0,{commit:!0}),onEndKeyDown:()=>!h&&ee(a,$.length-1,{commit:!0}),onStepKeyDown:({event:ae,direction:ce})=>{if(!h){const J=pE.includes(ae.key)||ae.shiftKey&&mE.includes(ae.key)?10:1,Z=N.current,le=$[Z],D=l*J*ce;ee(le+D,Z,{commit:!0})}}})})})})});yE.displayName=zl;var[wE,_E]=vE(zl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),h5=E.forwardRef((e,t)=>{const{min:n,max:r,dir:a,inverted:l,onSlideStart:c,onSlideMove:h,onSlideEnd:f,onStepKeyDown:m,...y}=e,[w,b]=E.useState(null),P=ut(t,A=>b(A)),C=E.useRef(void 0),k=Fh(a),R=k==="ltr",N=R&&!l||!R&&l;function O(A){const $=C.current||w.getBoundingClientRect(),z=[0,$.width],F=Gv(z,N?[n,r]:[r,n]);return C.current=$,F(A-$.left)}return v.jsx(wE,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:v.jsx(xE,{dir:k,"data-orientation":"horizontal",...y,ref:P,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const $=O(A.clientX);c==null||c($)},onSlideMove:A=>{const $=O(A.clientX);h==null||h($)},onSlideEnd:()=>{C.current=void 0,f==null||f()},onStepKeyDown:A=>{const z=gE[N?"from-left":"from-right"].includes(A.key);m==null||m({event:A,direction:z?-1:1})}})})}),f5=E.forwardRef((e,t)=>{const{min:n,max:r,inverted:a,onSlideStart:l,onSlideMove:c,onSlideEnd:h,onStepKeyDown:f,...m}=e,y=E.useRef(null),w=ut(t,y),b=E.useRef(void 0),P=!a;function C(k){const R=b.current||y.current.getBoundingClientRect(),N=[0,R.height],A=Gv(N,P?[r,n]:[n,r]);return b.current=R,A(k-R.top)}return v.jsx(wE,{scope:e.__scopeSlider,startEdge:P?"bottom":"top",endEdge:P?"top":"bottom",size:"height",direction:P?1:-1,children:v.jsx(xE,{"data-orientation":"vertical",...m,ref:w,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:k=>{const R=C(k.clientY);l==null||l(R)},onSlideMove:k=>{const R=C(k.clientY);c==null||c(R)},onSlideEnd:()=>{b.current=void 0,h==null||h()},onStepKeyDown:k=>{const N=gE[P?"from-bottom":"from-top"].includes(k.key);f==null||f({event:k,direction:N?-1:1})}})})}),xE=E.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:h,onStepKeyDown:f,...m}=e,y=qh(zl,n);return v.jsx(Xe.span,{...m,ref:t,onKeyDown:Je(e.onKeyDown,w=>{w.key==="Home"?(c(w),w.preventDefault()):w.key==="End"?(h(w),w.preventDefault()):pE.concat(mE).includes(w.key)&&(f(w),w.preventDefault())}),onPointerDown:Je(e.onPointerDown,w=>{const b=w.target;b.setPointerCapture(w.pointerId),w.preventDefault(),y.thumbs.has(b)?b.focus():r(w)}),onPointerMove:Je(e.onPointerMove,w=>{w.target.hasPointerCapture(w.pointerId)&&a(w)}),onPointerUp:Je(e.onPointerUp,w=>{const b=w.target;b.hasPointerCapture(w.pointerId)&&(b.releasePointerCapture(w.pointerId),l(w))})})}),bE="SliderTrack",SE=E.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=qh(bE,n);return v.jsx(Xe.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});SE.displayName=bE;var Sg="SliderRange",kE=E.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=qh(Sg,n),l=_E(Sg,n),c=E.useRef(null),h=ut(t,c),f=a.values.length,m=a.values.map(b=>PE(b,a.min,a.max)),y=f>1?Math.min(...m):0,w=100-Math.max(...m);return v.jsx(Xe.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:h,style:{...e.style,[l.startEdge]:y+"%",[l.endEdge]:w+"%"}})});kE.displayName=Sg;var kg="SliderThumb",EE=E.forwardRef((e,t)=>{const n=c5(e.__scopeSlider),[r,a]=E.useState(null),l=ut(t,h=>a(h)),c=E.useMemo(()=>r?n().findIndex(h=>h.ref.current===r):-1,[n,r]);return v.jsx(p5,{...e,ref:l,index:c})}),p5=E.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:a,...l}=e,c=qh(kg,n),h=_E(kg,n),[f,m]=E.useState(null),y=ut(t,O=>m(O)),w=f?c.form||!!f.closest("form"):!0,b=Oh(f),P=c.values[r],C=P===void 0?0:PE(P,c.min,c.max),k=v5(r,c.values.length),R=b==null?void 0:b[h.size],N=R?w5(R,C,h.direction):0;return E.useEffect(()=>{if(f)return c.thumbs.add(f),()=>{c.thumbs.delete(f)}},[f,c.thumbs]),v.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[h.startEdge]:`calc(${C}% + ${N}px)`},children:[v.jsx(bg.ItemSlot,{scope:e.__scopeSlider,children:v.jsx(Xe.span,{role:"slider","aria-label":e["aria-label"]||k,"aria-valuemin":c.min,"aria-valuenow":P,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:y,style:P===void 0?{display:"none"}:e.style,onFocus:Je(e.onFocus,()=>{c.valueIndexToChangeRef.current=r})})}),w&&v.jsx(m5,{name:a??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:P},r)]})});EE.displayName=kg;var m5=e=>{const{value:t,...n}=e,r=E.useRef(null),a=Lh(t);return E.useEffect(()=>{const l=r.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&f){const m=new Event("input",{bubbles:!0});f.call(l,t),l.dispatchEvent(m)}},[a,t]),v.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function g5(e=[],t,n){const r=[...e];return r[n]=t,r.sort((a,l)=>a-l)}function PE(e,t,n){const l=100/(n-t)*(e-t);return gh(l,[0,100])}function v5(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function y5(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),r=Math.min(...n);return n.indexOf(r)}function w5(e,t,n){const r=e/2,l=Gv([0,50],[0,r]);return(r-l(t)*n)*n}function _5(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function x5(e,t){if(t>0){const n=_5(e);return Math.min(...n)>=t}return!0}function Gv(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function b5(e){return(String(e).split(".")[1]||"").length}function S5(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var k5=yE,E5=SE,P5=kE,T5=EE;function C5({className:e,defaultValue:t,value:n,min:r=0,max:a=100,...l}){const c=E.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,a],[n,t,r,a]);return v.jsxs(k5,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:a,className:Lt("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...l,children:[v.jsx(E5,{"data-slot":"slider-track",className:Lt("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:v.jsx(P5,{"data-slot":"slider-range",className:Lt("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(h,f)=>v.jsx(T5,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},f))]})}const R5=[{icon:kn,label:"Konum ayarlar"},{icon:yv,label:"Bildirimler"},{icon:WS,label:"Gizlilik"},{icon:OI,label:"Dil"},{icon:BI,label:"Hakknda"}],Do=[1,5,10,15,20,50,100,1e3];function N5(){const e=mn(),{user:t,refreshUser:n}=ni(),[r,a]=E.useState(15),[l,c]=E.useState(!1);E.useEffect(()=>{var w;if(t){const b=t.search_radius||((w=t.preferences)==null?void 0:w.searchRadius)||15,P=Do.reduce((C,k)=>Math.abs(k-b)<Math.abs(C-b)?k:C);a(P)}},[t]);const h=w=>Do.indexOf(w),f=w=>Do[Math.max(0,Math.min(Do.length-1,w))],m=async()=>{if(!t){Re.error("Giri yapmanz gerekiyor");return}if(!Do.includes(r)){Re.error("Geersiz arama genilii deeri");return}try{c(!0),await ib.update(t.id,{preferences:{searchRadius:r}}),n&&await n(),Re.success("Arama genilii kaydedildi")}catch(w){console.error("Save search radius error:",w),Re.error("Ayar kaydedilirken bir hata olutu")}finally{c(!1)}},y=w=>{const b=w[0],P=f(b);a(P)};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 z-10",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full",children:v.jsx(Nl,{className:"w-5 h-5"})}),v.jsx("h1",{className:"text-xl",children:"Ayarlar"})]})}),v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(ph,{className:"w-5 h-5 text-gray-600"}),v.jsx("h2",{className:"text-lg font-semibold",children:"Arama Genilii"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx(ar,{htmlFor:"searchRadius",className:"text-sm text-gray-600",children:"Yakndaki fiyatlar getirirken kullanlacak arama yarap"}),v.jsxs("span",{className:"text-lg font-semibold text-green-600",children:[r," km"]})]}),v.jsx("div",{className:"px-2 py-4",children:v.jsx(C5,{value:[h(r)],onValueChange:y,min:0,max:Do.length-1,step:1,className:"w-full"})}),v.jsx("div",{className:"flex justify-between mt-2 px-2",children:Do.map(w=>v.jsx("button",{onClick:()=>a(w),className:`text-xs px-2 py-1 rounded transition-colors ${r===w?"bg-green-600 text-white font-semibold":"text-gray-500 hover:text-gray-700"}`,children:w},w))}),v.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Bu ayar, yakndaki en ucuz fiyatlar getirirken kullanlr. Varsaylan: 15 km."})]}),v.jsx(bt,{onClick:m,disabled:l,className:"w-full bg-green-600 hover:bg-green-700",children:l?"Kaydediliyor...":"Kaydet"})]})]})}),v.jsx("div",{className:"p-4 space-y-2",children:R5.map(w=>v.jsxs("button",{className:"w-full bg-white rounded-lg p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(w.icon,{className:"w-5 h-5 text-gray-600"}),v.jsx("span",{children:w.label})]}),v.jsx(US,{className:"w-5 h-5 text-gray-400"})]},w.label))})]})}function A5(){const e=mn(),{user:t}=ni(),[n,r]=E.useState([]),[a,l]=E.useState(!0);E.useEffect(()=>{t!=null&&t.id&&c()},[t==null?void 0:t.id]);const c=async()=>{try{l(!0);const y=await ib.getContributions(t.id);r(y||[])}catch(y){console.error("Failed to load contributions:",y),Re.error("Katklar yklenemedi")}finally{l(!1)}},h=y=>y.toFixed(2).replace(".",","),f=y=>{if(!y)return"Bilinmiyor";const w=new Date(y),P=new Date().getTime()-w.getTime(),C=Math.floor(P/6e4),k=Math.floor(C/60),R=Math.floor(k/24);return C<1?"Az nce":C<60?`${C} dakika nce`:k<24?`${k} saat nce`:R===1?"1 gn nce":`${R} gn nce`},m=y=>{if(!y)return!1;const w=new Date(y),b=new Date;return w.toDateString()===b.toDateString()};return a?v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:v.jsx("div",{className:"text-gray-500",children:"Ykleniyor..."})}):v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 z-10",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full",children:v.jsx(Nl,{className:"w-5 h-5"})}),v.jsx("h1",{className:"text-xl",children:"Girilen rnler"})]})}),v.jsx("div",{className:"p-4 space-y-3",children:n.length>0?n.map(y=>{var C,k,R;const w=y.id||y._id||"",b=y.created_at||y.createdAt||"",P=y.is_verified||y.isVerified||!1;return v.jsx("div",{onClick:()=>{var N,O;return e(`/app/product/${((N=y.product)==null?void 0:N.id)||((O=y.product)==null?void 0:O._id)}`)},className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-green-600 hover:shadow-md cursor-pointer transition-all",children:v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0 overflow-hidden border-2 border-gray-200",children:y.photo?v.jsxs(v.Fragment,{children:[v.jsx("img",{src:y.photo,alt:((C=y.product)==null?void 0:C.name)||"rn",className:"w-full h-full object-cover",title:"Yklediiniz fotoraf",onError:N=>{var O;console.error("Photo failed to load:",y.photo),N.target.style.display="none",(O=N.target.nextElementSibling)==null||O.classList.remove("hidden")}}),v.jsx("div",{className:"absolute top-1 right-1 bg-green-600 text-white text-[10px] px-1.5 py-0.5 rounded-full font-semibold shadow-md",children:""})]}):v.jsx(qr,{className:"w-8 h-8 text-gray-400"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:((k=y.product)==null?void 0:k.name)||"Bilinmeyen rn"}),v.jsxs("div",{className:"text-2xl text-green-600 font-semibold",children:[h(y.price)," TL"," ",v.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["/ ",y.unit]})]})]}),m(b)&&v.jsx(Yr,{className:"bg-green-600 ml-2 flex-shrink-0",children:"BUGN"})]}),v.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-2",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(kn,{className:"w-4 h-4"}),v.jsx("span",{className:"truncate",children:((R=y.location)==null?void 0:R.name)||"Bilinmeyen konum"})]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Wc,{className:"w-4 h-4"}),f(b)]})]}),P&&v.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-green-600",children:[v.jsx(Zo,{className:"w-4 h-4"}),v.jsx("span",{children:"Dorulanm"})]}),!y.photo&&v.jsx("div",{className:"mt-2 text-xs text-gray-500 italic",children:"Bu fiyat iin fotoraf eklenmemi"})]})]})},w)}):v.jsxs("div",{className:"text-center py-12",children:[v.jsx(qr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"Henz fiyat girilmemi"}),v.jsx("p",{className:"text-sm text-gray-500",children:'lk fiyatnz eklemek iin "Ekle" sekmesine gidin'})]})})]})}const j5=[{path:"explore",label:"Kefet",icon:EI},{path:"map",label:"Harita",icon:qI},{path:"add",label:"Ekle",icon:QI},{path:"profile",label:"Profil",icon:dM}];function mx(){const e=ti(),t=mn(),[n,r]=E.useState(!0);E.useEffect(()=>{localStorage.getItem("appBannerDismissed")==="true"&&r(!1)},[]);const a=e.pathname.split("/").filter(Boolean),l=a[a.length-1]||"explore",c=e.pathname.includes("/product/")||e.pathname.includes("/location/")||e.pathname.includes("/notifications")||e.pathname.includes("/settings")||e.pathname.includes("/contributions")||e.pathname.includes("/add"),h=f=>{t(`/app/${f}`,{replace:!1})};return v.jsxs("div",{className:"min-h-screen bg-gray-50 pb-safe",children:[n&&v.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-3 flex items-center justify-between shadow-md z-50 relative",children:[v.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[v.jsx("div",{className:"bg-white/20 rounded-full p-2",children:v.jsx(xv,{className:"w-5 h-5"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h2",{className:"font-bold text-sm",children:"esnaftaucuz"}),v.jsx("p",{className:"text-xs text-white/90",children:"Bugn en ucuzu nerede, tek bakta"})]})]}),v.jsx("button",{onClick:()=>{r(!1),localStorage.setItem("appBannerDismissed","true")},className:"p-1 hover:bg-white/20 rounded-full transition-colors","aria-label":"Banner' kapat",children:v.jsx(bv,{className:"w-4 h-4"})})]}),v.jsx("main",{className:c?"":"pb-20",children:v.jsxs(_m,{children:[v.jsx(nn,{path:"/",element:v.jsx(Mc,{to:"/app/explore",replace:!0})}),v.jsx(nn,{path:"explore",element:v.jsx(Qz,{})}),v.jsx(nn,{path:"map",element:v.jsx(bB,{})}),v.jsx(nn,{path:"add",element:v.jsx(qB,{})}),v.jsx(nn,{path:"profile",element:v.jsx(YB,{})}),v.jsx(nn,{path:"product/:id",element:v.jsx(s5,{})}),v.jsx(nn,{path:"location/:id",element:v.jsx(a5,{})}),v.jsx(nn,{path:"notifications",element:v.jsx(l5,{})}),v.jsx(nn,{path:"settings",element:v.jsx(N5,{})}),v.jsx(nn,{path:"contributions",element:v.jsx(A5,{})})]})}),!c&&v.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 safe-area-inset-bottom z-50",children:v.jsx("div",{className:"flex justify-around items-center h-16",children:j5.map(f=>{const m=f.icon,y=l===f.path;return v.jsxs("button",{onClick:()=>h(f.path),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${y?"text-green-600":"text-gray-600"}`,children:[v.jsx(m,{className:`w-6 h-6 mb-1 ${f.path==="add"&&"bg-green-600 text-white rounded-full p-1 w-8 h-8"}`}),v.jsx("span",{className:"text-xs",children:f.label})]},f.path)})})})]})}const L5=xl("App",{web:()=>sk(()=>import("./web-MZK2R0Dq.js"),[]).then(e=>new e.AppWeb)});function O5({children:e}){const{user:t,isLoading:n}=ni();return n?v.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:v.jsx("div",{className:"text-gray-500",children:"Ykleniyor..."})}):t?v.jsx(v.Fragment,{children:e}):v.jsx(Mc,{to:"/login",replace:!0})}function I5(){const{user:e,isLoading:t}=ni(),n=ti(),r=mn(),[a,l]=E.useState(!1),[c,h]=E.useState(!1);E.useEffect(()=>{console.log(" AppRoutes useEffect - user:",e?e.email:"null","isLoading:",t,"pathname:",n.pathname);const y=new URLSearchParams(window.location.hash.substring(1));if(y.has("access_token")||y.has("code")){console.log(" OAuth callback detected, waiting for user to load...");return}e&&!t&&(n.pathname==="/"||n.pathname==="/login")&&(console.log(" User logged in, redirecting to /app/explore"),r("/app/explore",{replace:!0}))},[e,t,n.pathname,r]);const f=new URLSearchParams(window.location.hash.substring(1));return(f.has("access_token")||f.has("code"))&&t?(console.log(" OAuth callback in progress, showing loading..."),v.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:v.jsx("div",{className:"text-gray-500",children:"Giri yaplyor..."})})):e&&!t?(console.log(" AppRoutes: User is logged in, rendering main app routes"),n.pathname==="/"||n.pathname==="/login"?(console.log(" AppRoutes: Redirecting from root/login to /app/explore"),v.jsx(Mc,{to:"/app/explore",replace:!0})):v.jsxs(_m,{children:[v.jsx(nn,{path:"/app/*",element:v.jsx(mx,{})}),v.jsx(nn,{path:"*",element:v.jsx(Mc,{to:"/app/explore",replace:!0})})]})):(!t&&!e&&console.log(" AppRoutes: No user, showing auth flow"),t?v.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:v.jsx("div",{className:"text-gray-500",children:"Ykleniyor..."})}):v.jsxs(_m,{children:[v.jsx(nn,{path:"/",element:v.jsx(mM,{})}),v.jsx(nn,{path:"/onboarding",element:v.jsx(tD,{onComplete:()=>l(!0)})}),v.jsx(nn,{path:"/location",element:v.jsx(iD,{onAllow:()=>h(!0)})}),v.jsx(nn,{path:"/login",element:v.jsx(cD,{onLogin:()=>{}})}),v.jsx(nn,{path:"/app/*",element:v.jsx(O5,{children:v.jsx(mx,{})})}),v.jsx(nn,{path:"*",element:v.jsx(Mc,{to:"/",replace:!0})})]}))}function M5(){return E.useEffect(()=>{var t;if(typeof window<"u"&&((t=window.Capacitor)==null?void 0:t.isNativePlatform())){const n=L5.addListener("appUrlOpen",r=>{console.log(" App opened with URL:",r.url);try{let a=r.url;a.includes("com.esnaftaucuz.app:?")&&!a.includes("://")&&(a=a.replace("com.esnaftaucuz.app:","com.esnaftaucuz.app://"),console.log(" Fixed URL format:",a));const l=new URL(a),c=l.searchParams.get("code"),h=l.searchParams.get("error")||l.searchParams.get("error_description"),f=l.hash.substring(1),m=new URLSearchParams(f),y=m.get("access_token"),w=m.get("error");c?(console.log(" OAuth PKCE callback detected in deep link (code parameter)"),Fe.auth.exchangeCodeForSession(c).then(({data:b,error:P})=>{P?(console.error(" Failed to exchange code for session:",P),window.location.hash=`error=${encodeURIComponent(P.message||"Failed to exchange code")}`):(console.log(" Code exchanged for session successfully"),window.history.replaceState({},document.title,"/"))}).catch(b=>{console.error(" Error exchanging code for session:",b),window.location.hash=`error=${encodeURIComponent(b.message||"Unknown error")}`})):y?(console.log(" OAuth implicit callback detected in deep link (access_token)"),window.location.hash=f):h||w?(console.error(" OAuth error in deep link:",h||w),window.location.hash=`error=${encodeURIComponent(h||w||"Unknown error")}`):console.log(" No OAuth parameters found in deep link URL")}catch(a){console.error(" Failed to parse deep link URL:",a),console.error("URL was:",r.url)}});return()=>{n.remove()}}},[]),v.jsx(EA,{children:v.jsx(QT,{children:v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsx(I5,{}),v.jsx(UC,{})]})})})}vl.isNativePlatform()&&(NP.setStyle({style:ym.Light}),AP.setAccessoryBarVisible({isVisible:!0}));yP.createRoot(document.getElementById("root")).render(v.jsx(_e.StrictMode,{children:v.jsx(M5,{})}));export{wx as W};
